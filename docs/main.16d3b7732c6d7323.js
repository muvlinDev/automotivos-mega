(self.webpackChunkautomotivos_mega=self.webpackChunkautomotivos_mega||[]).push([[179],{2011:(je,q,O)=>{"use strict";O.d(q,{Dh:()=>W,GT:()=>H,cc:()=>be,hO:()=>De,on:()=>G,pX:()=>V,xv:()=>oe});var l=O(4650),L=O(127),A=O(5813);je=O.hmd(je);const P=["ngOnDestroy"],V=(he,xe,Fe,Ae={})=>new Proxy(he,{get:(Te,fe)=>Fe.runOutsideAngular(()=>{var Se;if(he[fe])return!(null===(Se=Ae?.spy)||void 0===Se)&&Se.get&&Ae.spy.get(fe,he[fe]),he[fe];if(P.indexOf(fe)>-1)return()=>{};const Ie=xe.toPromise().then(U=>{const pe=U&&U[fe];return"function"==typeof pe?pe.bind(U):pe&&pe.then?pe.then(Y=>Fe.run(()=>Y)):Fe.run(()=>pe)});return new Proxy(()=>{},{get:(U,pe)=>Ie[pe],apply:(U,pe,Y)=>Ie.then(X=>{var ue;const le=X&&X(...Y);return!(null===(ue=Ae?.spy)||void 0===ue)&&ue.apply&&Ae.spy.apply(fe,Y,le),le})})})}),H=(he,xe)=>{xe.forEach(Fe=>{Object.getOwnPropertyNames(Fe.prototype||Fe).forEach(Ae=>{Object.defineProperty(he.prototype,Ae,Object.getOwnPropertyDescriptor(Fe.prototype||Fe,Ae))})})};class z{constructor(xe){return xe}}const W=new l.OlP("angularfire2.app.options"),oe=new l.OlP("angularfire2.app.name");function G(he,xe,Fe){const Te="object"==typeof Fe&&Fe||{};Te.name=Te.name||"string"==typeof Fe&&Fe||"[DEFAULT]";const Se=L.Z.apps.filter(Ie=>Ie&&Ie.name===Te.name)[0]||xe.runOutsideAngular(()=>L.Z.initializeApp(he,Te));try{JSON.stringify(he)!==JSON.stringify(Se.options)&&Z("error",`${Se.name} Firebase App already initialized with different options${je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new z(Se)}const Z=(he,...xe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[he](...xe)},K={provide:z,useFactory:G,deps:[W,l.R0b,[new l.FiY,oe]]};let De=(()=>{class he{constructor(Fe){L.Z.registerVersion("angularfire",A.q4.full,"core"),L.Z.registerVersion("angularfire",A.q4.full,"app-compat"),L.Z.registerVersion("angular",l.q4F.full,Fe.toString())}static initializeApp(Fe,Ae){return{ngModule:he,providers:[{provide:W,useValue:Fe},{provide:oe,useValue:Ae}]}}}return he.\u0275fac=function(Fe){return new(Fe||he)(l.LFG(l.Lbi))},he.\u0275mod=l.oAB({type:he}),he.\u0275inj=l.cJS({providers:[K]}),he})();function be(he,xe,Fe,Ae,Te){const[,fe,Se]=globalThis.\u0275AngularfireInstanceCache.find(Ie=>Ie[0]===he)||[];if(fe)return function _e(he,xe){try{return he.toString()===xe.toString()}catch{return he===xe}}(Te,Se)||(de("error",`${xe} was already initialized on the ${Fe} Firebase App with different settings.${Ke?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:Te,was:Se})),fe;{const Ie=Ae();return globalThis.\u0275AngularfireInstanceCache.push([he,Ie,Te]),Ie}}const Ke=!!je.hot,de=(he,...xe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[he](...xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(je,q,O)=>{"use strict";O.d(q,{q4:()=>st,iC:()=>Ns,HU:()=>si,vb:()=>ns,JM:()=>sl});var l=O(4650),L=O(5867),A=O(5861),P=O(9681),V=O(2090),H=O(4859),z=O(1877),W=O(8766);const oe="@firebase/installations",G="0.5.12",K=`w:${G}`,De="FIS_v2",xe=new V.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fe(C){return C instanceof V.ZR&&C.code.includes("request-failed")}function Ae({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Te(C){return{token:C.token,requestStatus:2,expiresIn:X(C.expiresIn),creationTime:Date.now()}}function fe(C,I){return Se.apply(this,arguments)}function Se(){return(Se=(0,A.Z)(function*(C,I){const $=(yield I.json()).error;return xe.create("request-failed",{requestName:C,serverCode:$.code,serverMessage:$.message,serverStatus:$.status})})).apply(this,arguments)}function Ie({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function U(C,{refreshToken:I}){const x=Ie(C);return x.append("Authorization",function ue(C){return`${De} ${C}`}(I)),x}function pe(C){return Y.apply(this,arguments)}function Y(){return(Y=(0,A.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function X(C){return Number(C.replace("s","000"))}function le(C,I){return Le.apply(this,arguments)}function Le(){return(Le=(0,A.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:x}){const $=Ae(C),ce=Ie(C),ye=I.getImmediate({optional:!0});if(ye){const Dt=yield ye.getHeartbeatsHeader();Dt&&ce.append("x-firebase-client",Dt)}const He={method:"POST",headers:ce,body:JSON.stringify({fid:x,authVersion:De,appId:C.appId,sdkVersion:K})},ut=yield pe(()=>fetch($,He));if(ut.ok){const Dt=yield ut.json();return{fid:Dt.fid||x,registrationStatus:2,refreshToken:Dt.refreshToken,authToken:Te(Dt.authToken)}}throw yield fe("Create Installation",ut)})).apply(this,arguments)}function Be(C){return new Promise(I=>{setTimeout(I,C)})}const Zt=/^[cdef][\w-]{21}$/;function Qe(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function Jt(C){return function pt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Zt.test(x)?x:""}catch{return""}}function Cn(C){return`${C.appName}!${C.appId}`}const Kt=new Map;function Xt(C,I){const x=Cn(C);Bt(x,I),function Pr(C,I){const x=function Wn(){return!Gn&&"BroadcastChannel"in self&&(Gn=new BroadcastChannel("[Firebase] FID Change"),Gn.onmessage=C=>{Bt(C.data.key,C.data.fid)}),Gn}();x&&x.postMessage({key:C,fid:I}),function Qr(){0===Kt.size&&Gn&&(Gn.close(),Gn=null)}()}(x,I)}function Bt(C,I){const x=Kt.get(C);if(x)for(const $ of x)$(I)}let Gn=null;const Jr="firebase-installations-store";let ki=null;function Jo(){return ki||(ki=(0,W.X3)("firebase-installations-database",1,{upgrade:(C,I)=>{0===I&&C.createObjectStore(Jr)}})),ki}function it(C,I){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,A.Z)(function*(C,I){const x=Cn(C),ce=(yield Jo()).transaction(Jr,"readwrite"),ye=ce.objectStore(Jr),Me=yield ye.get(x);return yield ye.put(I,x),yield ce.done,(!Me||Me.fid!==I.fid)&&Xt(C,I.fid),I})).apply(this,arguments)}function ms(C){return $n.apply(this,arguments)}function $n(){return($n=(0,A.Z)(function*(C){const I=Cn(C),$=(yield Jo()).transaction(Jr,"readwrite");yield $.objectStore(Jr).delete(I),yield $.done})).apply(this,arguments)}function Pi(C,I){return pi.apply(this,arguments)}function pi(){return(pi=(0,A.Z)(function*(C,I){const x=Cn(C),ce=(yield Jo()).transaction(Jr,"readwrite"),ye=ce.objectStore(Jr),Me=yield ye.get(x),He=I(Me);return void 0===He?yield ye.delete(x):yield ye.put(He,x),yield ce.done,He&&(!Me||Me.fid!==He.fid)&&Xt(C,He.fid),He})).apply(this,arguments)}function qn(C){return ir.apply(this,arguments)}function ir(){return(ir=(0,A.Z)(function*(C){let I;const x=yield Pi(C.appConfig,$=>{const ce=vn($),ye=vt(C,ce);return I=ye.registrationPromise,ye.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function vn(C){return It(C||{fid:Qe(),registrationStatus:0})}function vt(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(xe.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},$=function ft(C,I){return dn.apply(this,arguments)}(C,x);return{installationEntry:x,registrationPromise:$}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:_r(C)}:{installationEntry:I}}function dn(){return(dn=(0,A.Z)(function*(C,I){try{const x=yield le(C,I);return it(C.appConfig,x)}catch(x){throw Fe(x)&&409===x.customData.serverCode?yield ms(C.appConfig):yield it(C.appConfig,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function _r(C){return yr.apply(this,arguments)}function yr(){return(yr=(0,A.Z)(function*(C){let I=yield Ur(C.appConfig);for(;1===I.registrationStatus;)yield Be(100),I=yield Ur(C.appConfig);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:$}=yield qn(C);return $||x}return I})).apply(this,arguments)}function Ur(C){return Pi(C,I=>{if(!I)throw xe.create("installation-not-found");return It(I)})}function It(C){return function _s(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function rn(C,I){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,A.Z)(function*({appConfig:C,heartbeatServiceProvider:I},x){const $=nn(C,x),ce=U(C,x),ye=I.getImmediate({optional:!0});if(ye){const Dt=yield ye.getHeartbeatsHeader();Dt&&ce.append("x-firebase-client",Dt)}const He={method:"POST",headers:ce,body:JSON.stringify({installation:{sdkVersion:K,appId:C.appId}})},ut=yield pe(()=>fetch($,He));if(ut.ok)return Te(yield ut.json());throw yield fe("Generate Auth Token",ut)})).apply(this,arguments)}function nn(C,{fid:I}){return`${Ae(C)}/${I}/authTokens:generate`}function ie(C){return ee.apply(this,arguments)}function ee(){return(ee=(0,A.Z)(function*(C,I=!1){let x;const $=yield Pi(C.appConfig,ye=>{if(!ht(ye))throw xe.create("not-registered");const Me=ye.authToken;if(!I&&mn(Me))return ye;if(1===Me.requestStatus)return x=Q(C,I),ye;{if(!navigator.onLine)throw xe.create("app-offline");const He=sr(ye);return x=Oe(C,He),He}});return x?yield x:$.authToken})).apply(this,arguments)}function Q(C,I){return te.apply(this,arguments)}function te(){return(te=(0,A.Z)(function*(C,I){let x=yield re(C.appConfig);for(;1===x.authToken.requestStatus;)yield Be(100),x=yield re(C.appConfig);const $=x.authToken;return 0===$.requestStatus?ie(C,I):$})).apply(this,arguments)}function re(C){return Pi(C,I=>{if(!ht(I))throw xe.create("not-registered");return function Ht(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Oe(C,I){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,A.Z)(function*(C,I){try{const x=yield rn(C,I),$=Object.assign(Object.assign({},I),{authToken:x});return yield it(C.appConfig,$),x}catch(x){if(!Fe(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const $=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield it(C.appConfig,$)}else yield ms(C.appConfig);throw x}})).apply(this,arguments)}function ht(C){return void 0!==C&&2===C.registrationStatus}function mn(C){return 2===C.requestStatus&&!function sn(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function sr(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function In(){return(In=(0,A.Z)(function*(C){const I=C,{installationEntry:x,registrationPromise:$}=yield qn(I);return $?$.catch(console.error):ie(I).catch(console.error),x.fid})).apply(this,arguments)}function Qi(){return(Qi=(0,A.Z)(function*(C,I=!1){const x=C;return yield jr(x),(yield ie(x,I)).token})).apply(this,arguments)}function jr(C){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,A.Z)(function*(C){const{registrationPromise:I}=yield qn(C);I&&(yield I)})).apply(this,arguments)}function Hs(C){return xe.create("missing-app-config-values",{valueName:C})}const Xo="installations",Sn=C=>{const I=C.getProvider("app").getImmediate(),x=function bn(C){if(!C||!C.options)throw Hs("App Configuration");if(!C.name)throw Hs("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!C.options[x])throw Hs(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:x,heartbeatServiceProvider:(0,P._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},vo=C=>{const I=C.getProvider("app").getImmediate(),x=(0,P._getProvider)(I,Xo).getImmediate();return{getId:()=>function Ft(C){return In.apply(this,arguments)}(x),getToken:ce=>function Kn(C){return Qi.apply(this,arguments)}(x,ce)}};(function Zu(){(0,P._registerComponent)(new H.wA(Xo,Sn,"PUBLIC")),(0,P._registerComponent)(new H.wA("installations-internal",vo,"PRIVATE"))})(),(0,P.registerVersion)(oe,G),(0,P.registerVersion)(oe,G,"esm2017");const Ji="@firebase/remote-config",Jn=new V.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class df{constructor(I,x,$,ce){this.client=I,this.storage=x,this.storageCache=$,this.logger=ce}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $=Date.now()-x,ce=$<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${ce}.`),ce}fetch(I){var x=this;return(0,A.Z)(function*(){const[$,ce]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(ce&&x.isCachedDataFresh(I.cacheMaxAgeMillis,$))return ce;I.eTag=ce&&ce.eTag;const ye=yield x.client.fetch(I),Me=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ye.status&&Me.push(x.storage.setLastSuccessfulFetchResponse(ye)),yield Promise.all(Me),ye})()}}function wo(C=navigator){return C.languages&&C.languages[0]||C.language}class Ju{constructor(I,x,$,ce,ye,Me){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=$,this.projectId=ce,this.apiKey=ye,this.appId=Me}fetch(I){var x=this;return(0,A.Z)(function*(){var $,ce,ye;const[Me,He]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Dt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Mt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},mt={sdk_version:x.sdkVersion,app_instance_id:Me,app_instance_id_token:He,app_id:x.appId,language_code:wo()},An={method:"POST",headers:Mt,body:JSON.stringify(mt)},Mr=fetch(Dt,An),ko=new Promise((_a,Po)=>{I.signal.addEventListener(()=>{const Gi=new Error("The operation was aborted.");Gi.name="AbortError",Po(Gi)})});let ro;try{yield Promise.race([Mr,ko]),ro=yield Mr}catch(_a){let Po="fetch-client-network";throw"AbortError"===(null===($=_a)||void 0===$?void 0:$.name)&&(Po="fetch-timeout"),Jn.create(Po,{originalErrorMessage:null===(ce=_a)||void 0===ce?void 0:ce.message})}let Ot=ro.status;const is=ro.headers.get("ETag")||void 0;let io,vi;if(200===ro.status){let _a;try{_a=yield ro.json()}catch(Po){throw Jn.create("fetch-client-parse",{originalErrorMessage:null===(ye=Po)||void 0===ye?void 0:ye.message})}io=_a.entries,vi=_a.state}if("INSTANCE_STATE_UNSPECIFIED"===vi?Ot=500:"NO_CHANGE"===vi?Ot=304:("NO_TEMPLATE"===vi||"EMPTY_CONFIG"===vi)&&(io={}),304!==Ot&&200!==Ot)throw Jn.create("fetch-status",{httpStatus:Ot});return{status:Ot,eTag:is,config:io}})()}}class Pg{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,A.Z)(function*(){const $=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,$)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:$}){var ce=this;return(0,A.Z)(function*(){yield function ar(C,I){return new Promise((x,$)=>{const ce=Math.max(I-Date.now(),0),ye=setTimeout(x,ce);C.addEventListener(()=>{clearTimeout(ye),$(Jn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const ye=yield ce.client.fetch(I);return yield ce.storage.deleteThrottleMetadata(),ye}catch(ye){if(!function Td(C){if(!(C instanceof V.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ye))throw ye;const Me={throttleEndTimeMillis:Date.now()+(0,V.$s)($),backoffCount:$+1};return yield ce.storage.setThrottleMetadata(Me),ce.attemptFetch(I,Me)}})()}}class Va{constructor(I,x,$,ce,ye){this.app=I,this._client=x,this._storageCache=$,this._storage=ce,this._logger=ye,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Xu(C,I){var x;const $=C.target.error||void 0;return Jn.create(I,{originalErrorMessage:$&&(null===(x=$)||void 0===x?void 0:x.message)})}const zs="app_namespace_store";class Bg{constructor(I,x,$,ce=function Vg(){return new Promise((C,I)=>{var x;try{const $=indexedDB.open("firebase_remote_config",1);$.onerror=ce=>{I(Xu(ce,"storage-open"))},$.onsuccess=ce=>{C(ce.target.result)},$.onupgradeneeded=ce=>{0===ce.oldVersion&&ce.target.result.createObjectStore(zs,{keyPath:"compositeKey"})}}catch($){I(Jn.create("storage-open",{originalErrorMessage:null===(x=$)||void 0===x?void 0:x.message}))}})}()){this.appId=I,this.appName=x,this.namespace=$,this.openDbPromise=ce}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,A.Z)(function*(){const $=yield x.openDbPromise;return new Promise((ce,ye)=>{var Me;const ut=$.transaction([zs],"readonly").objectStore(zs),Dt=x.createCompositeKey(I);try{const Mt=ut.get(Dt);Mt.onerror=mt=>{ye(Xu(mt,"storage-get"))},Mt.onsuccess=mt=>{const An=mt.target.result;ce(An?An.value:void 0)}}catch(Mt){ye(Jn.create("storage-get",{originalErrorMessage:null===(Me=Mt)||void 0===Me?void 0:Me.message}))}})})()}set(I,x){var $=this;return(0,A.Z)(function*(){const ce=yield $.openDbPromise;return new Promise((ye,Me)=>{var He;const Dt=ce.transaction([zs],"readwrite").objectStore(zs),Mt=$.createCompositeKey(I);try{const mt=Dt.put({compositeKey:Mt,value:x});mt.onerror=An=>{Me(Xu(An,"storage-set"))},mt.onsuccess=()=>{ye()}}catch(mt){Me(Jn.create("storage-set",{originalErrorMessage:null===(He=mt)||void 0===He?void 0:He.message}))}})})()}delete(I){var x=this;return(0,A.Z)(function*(){const $=yield x.openDbPromise;return new Promise((ce,ye)=>{var Me;const ut=$.transaction([zs],"readwrite").objectStore(zs),Dt=x.createCompositeKey(I);try{const Mt=ut.delete(Dt);Mt.onerror=mt=>{ye(Xu(mt,"storage-delete"))},Mt.onsuccess=()=>{ce()}}catch(Mt){ye(Jn.create("storage-delete",{originalErrorMessage:null===(Me=Mt)||void 0===Me?void 0:Me.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Id{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,A.Z)(function*(){const x=I.storage.getLastFetchStatus(),$=I.storage.getLastSuccessfulFetchTimestampMillis(),ce=I.storage.getActiveConfig(),ye=yield x;ye&&(I.lastFetchStatus=ye);const Me=yield $;Me&&(I.lastSuccessfulFetchTimestampMillis=Me);const He=yield ce;He&&(I.activeConfig=He)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function xl(){return hf.apply(this,arguments)}function hf(){return(hf=(0,A.Z)(function*(){if(!(0,V.hl)())return!1;try{return yield(0,V.eu)()}catch{return!1}})).apply(this,arguments)}!function Zs(){(0,P._registerComponent)(new H.wA("remote-config",function C(I,{instanceIdentifier:x}){const $=I.getProvider("app").getImmediate(),ce=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Jn.create("registration-window");if(!(0,V.hl)())throw Jn.create("indexed-db-unavailable");const{projectId:ye,apiKey:Me,appId:He}=$.options;if(!ye)throw Jn.create("registration-project-id");if(!Me)throw Jn.create("registration-api-key");if(!He)throw Jn.create("registration-app-id");const ut=new Bg(He,$.name,x=x||"firebase"),Dt=new Id(ut),Mt=new z.Yd(Ji);Mt.logLevel=z.in.ERROR;const mt=new Ju(ce,P.SDK_VERSION,x,ye,Me,He),An=new Pg(mt,ut),Mr=new df(An,ut,Dt,Mt),ko=new Va($,Mr,Dt,ut,Mt);return function pn(C){const I=(0,V.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ko),ko},"PUBLIC").setMultipleInstances(!0)),(0,P.registerVersion)(Ji,"0.3.11"),(0,P.registerVersion)(Ji,"0.3.11","esm2017")}();const Xi="/firebase-messaging-sw.js",vs="/firebase-cloud-messaging-push-scope",bs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ba="google.c.a.c_id",Rl="google.c.a.c_l",ec="google.c.a.ts",ff="google.c.a.e";var Ds=(()=>{return(C=Ds||(Ds={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Ds;var C})();function mi(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ti(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$=atob(x),ce=new Uint8Array($.length);for(let ye=0;ye<$.length;++ye)ce[ye]=$.charCodeAt(ye);return ce}const ea="fcm_token_details_db",Nr="fcm_token_object_Store";function pf(C){return gf.apply(this,arguments)}function gf(){return gf=(0,A.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ye=>ye.name).includes(ea))return null;let I=null;return(yield(0,W.X3)(ea,5,{upgrade:($=(0,A.Z)(function*(ce,ye,Me,He){var ut;if(ye<2||!ce.objectStoreNames.contains(Nr))return;const Dt=He.objectStore(Nr),Mt=yield Dt.index("fcmSenderId").get(C);if(yield Dt.clear(),Mt)if(2===ye){const mt=Mt;if(!mt.auth||!mt.p256dh||!mt.endpoint)return;I={token:mt.fcmToken,createTime:null!==(ut=mt.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:mt.auth,p256dh:mt.p256dh,endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:"string"==typeof mt.vapidKey?mt.vapidKey:mi(mt.vapidKey)}}}else if(3===ye){const mt=Mt;I={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:mi(mt.auth),p256dh:mi(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:mi(mt.vapidKey)}}}else if(4===ye){const mt=Mt;I={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:mi(mt.auth),p256dh:mi(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:mi(mt.vapidKey)}}}}),function(ye,Me,He,ut){return $.apply(this,arguments)})})).close(),yield(0,W.Lj)(ea),yield(0,W.Lj)("fcm_vapid_details_db"),yield(0,W.Lj)("undefined"),kn(I)?I:null;var $}),gf.apply(this,arguments)}function kn(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const _i="firebase-messaging-store";let Gr=null;function Pl(){return Gr||(Gr=(0,W.X3)("firebase-messaging-database",1,{upgrade:(C,I)=>{0===I&&C.createObjectStore(_i)}})),Gr}function ta(C){return Es.apply(this,arguments)}function Es(){return(Es=(0,A.Z)(function*(C){const I=Bi(C),$=yield(yield Pl()).transaction(_i).objectStore(_i).get(I);if($)return $;{const ce=yield pf(C.appConfig.senderId);if(ce)return yield Yt(C,ce),ce}})).apply(this,arguments)}function Yt(C,I){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,A.Z)(function*(C,I){const x=Bi(C),ce=(yield Pl()).transaction(_i,"readwrite");return yield ce.objectStore(_i).put(I,x),yield ce.done,I})).apply(this,arguments)}function Do(C){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,A.Z)(function*(C){const I=Bi(C),$=(yield Pl()).transaction(_i,"readwrite");yield $.objectStore(_i).delete(I),yield $.done})).apply(this,arguments)}function Bi({appConfig:C}){return C.appId}const xn=new V.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function St(C,I){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,A.Z)(function*(C,I){var x;const $=yield rc(C),ce=Re(I),ye={method:"POST",headers:$,body:JSON.stringify(ce)};let Me;try{Me=yield(yield fetch(Ts(C.appConfig),ye)).json()}catch(He){throw xn.create("token-subscribe-failed",{errorInfo:null===(x=He)||void 0===x?void 0:x.toString()})}if(Me.error)throw xn.create("token-subscribe-failed",{errorInfo:Me.error.message});if(!Me.token)throw xn.create("token-subscribe-no-token");return Me.token})).apply(this,arguments)}function _f(C,I){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,A.Z)(function*(C,I){var x;const $=yield rc(C),ce=Re(I.subscriptionOptions),ye={method:"PATCH",headers:$,body:JSON.stringify(ce)};let Me;try{Me=yield(yield fetch(`${Ts(C.appConfig)}/${I.token}`,ye)).json()}catch(He){throw xn.create("token-update-failed",{errorInfo:null===(x=He)||void 0===x?void 0:x.toString()})}if(Me.error)throw xn.create("token-update-failed",{errorInfo:Me.error.message});if(!Me.token)throw xn.create("token-update-no-token");return Me.token})).apply(this,arguments)}function jl(C,I){return nc.apply(this,arguments)}function nc(){return(nc=(0,A.Z)(function*(C,I){var x;const ce={method:"DELETE",headers:yield rc(C)};try{const Me=yield(yield fetch(`${Ts(C.appConfig)}/${I}`,ce)).json();if(Me.error)throw xn.create("token-unsubscribe-failed",{errorInfo:Me.error.message})}catch(ye){throw xn.create("token-unsubscribe-failed",{errorInfo:null===(x=ye)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function Ts({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function rc(C){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,A.Z)(function*({appConfig:C,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Re({p256dh:C,auth:I,endpoint:x,vapidKey:$}){const ce={web:{endpoint:x,auth:I,p256dh:C}};return $!==bs&&(ce.web.applicationPubKey=$),ce}const Gt=6048e5;function Hl(C){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,A.Z)(function*(C){const I=yield ic(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:mi(I.getKey("auth")),p256dh:mi(I.getKey("p256dh"))},$=yield ta(C.firebaseDependencies);if($){if(Nd($.subscriptionOptions,x))return Date.now()>=$.createTime+Gt?na(C,{token:$.token,createTime:Date.now(),subscriptionOptions:x}):$.token;try{yield jl(C.firebaseDependencies,$.token)}catch(ce){console.warn(ce)}return ja(C.firebaseDependencies,x)}return ja(C.firebaseDependencies,x)})).apply(this,arguments)}function Pn(C){return $l.apply(this,arguments)}function $l(){return($l=(0,A.Z)(function*(C){const I=yield ta(C.firebaseDependencies);I&&(yield jl(C.firebaseDependencies,I.token),yield Do(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function na(C,I){return yi.apply(this,arguments)}function yi(){return(yi=(0,A.Z)(function*(C,I){try{const x=yield _f(C.firebaseDependencies,I),$=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield Yt(C.firebaseDependencies,$),x}catch(x){throw yield Pn(C),x}})).apply(this,arguments)}function ja(C,I){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,A.Z)(function*(C,I){const $={token:yield St(C,I),createTime:Date.now(),subscriptionOptions:I};return yield Yt(C,$),$.token})).apply(this,arguments)}function ic(C,I){return sc.apply(this,arguments)}function sc(){return(sc=(0,A.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ti(I)})})).apply(this,arguments)}function Nd(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function Ga(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Fn(C,I){if(!I.notification)return;C.notification={};const x=I.notification.title;x&&(C.notification.title=x);const $=I.notification.body;$&&(C.notification.body=$);const ce=I.notification.image;ce&&(C.notification.image=ce)}(I,C),function es(C,I){!I.data||(C.data=I.data)}(I,C),function oc(C,I){var x,$,ce,ye,Me;if(!(I.fcmOptions||null!==(x=I.notification)&&void 0!==x&&x.click_action))return;C.fcmOptions={};const He=null!==(ce=null===($=I.fcmOptions)||void 0===$?void 0:$.link)&&void 0!==ce?ce:null===(ye=I.notification)||void 0===ye?void 0:ye.click_action;He&&(C.fcmOptions.link=He);const ut=null===(Me=I.fcmOptions)||void 0===Me?void 0:Me.analytics_label;ut&&(C.fcmOptions.analyticsLabel=ut)}(I,C),I}function Eo(C){return"object"==typeof C&&!!C&&Ba in C}function Cs(C,I){const x=[];for(let $=0;$<C.length;$++)x.push(C.charAt($)),$<I.length&&x.push(I.charAt($));return x.join("")}function $a(C){return xn.create("missing-app-config-values",{valueName:C})}Cs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Cs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jg{constructor(I,x,$){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ce=function Ug(C){if(!C||!C.options)throw $a("App Configuration Object");if(!C.name)throw $a("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const $ of I)if(!x[$])throw $a($);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:ce,installations:x,analyticsProvider:$}}_delete(){return Promise.resolve()}}function ac(C){return ql.apply(this,arguments)}function ql(){return(ql=(0,A.Z)(function*(C){var I;try{C.swRegistration=yield navigator.serviceWorker.register(Xi,{scope:vs}),C.swRegistration.update().catch(()=>{})}catch(x){throw xn.create("failed-service-worker-registration",{browserErrorMessage:null===(I=x)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function qa(C,I){return lc.apply(this,arguments)}function lc(){return(lc=(0,A.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield ac(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw xn.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function za(C,I){return uc.apply(this,arguments)}function uc(){return(uc=(0,A.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=bs)})).apply(this,arguments)}function Zl(){return(Zl=(0,A.Z)(function*(C,I){if(!navigator)throw xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xn.create("permission-blocked");return yield za(C,I?.vapidKey),yield qa(C,I?.serviceWorkerRegistration),Hl(C)})).apply(this,arguments)}function cc(C,I,x){return dc.apply(this,arguments)}function dc(){return(dc=(0,A.Z)(function*(C,I,x){const $=hc(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent($,{message_id:x[Ba],message_name:x[Rl],message_time:x[ec],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function hc(C){switch(C){case Ds.NOTIFICATION_CLICKED:return"notification_open";case Ds.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function To(){return(To=(0,A.Z)(function*(C,I){const x=I.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===Ds.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Ga(x)):C.onMessageHandler.next(Ga(x)));const $=x.data;Eo($)&&"1"===$[ff]&&(yield cc(C,x.messageType,$))})).apply(this,arguments)}const Co="@firebase/messaging",lr=C=>{const I=new jg(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Md(C,I){return To.apply(this,arguments)}(I,x)),I},ni=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:$=>function zl(C,I){return Zl.apply(this,arguments)}(I,$)}};function Od(){return fc.apply(this,arguments)}function fc(){return(fc=(0,A.Z)(function*(){try{yield(0,V.eu)()}catch{return!1}return typeof window<"u"&&(0,V.hl)()&&(0,V.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wn(){(0,P._registerComponent)(new H.wA("messaging",lr,"PUBLIC")),(0,P._registerComponent)(new H.wA("messaging-internal",ni,"PRIVATE")),(0,P.registerVersion)(Co,"0.9.16"),(0,P.registerVersion)(Co,"0.9.16","esm2017")}();const sa="analytics",kd="firebase_id",Io="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yl="https://www.googletagmanager.com/gtag/js",Ln=new z.Yd("@firebase/analytics");function Ql(C){return Promise.all(C.map(I=>I.catch(x=>x)))}function Jl(C,I){const x=document.createElement("script");x.src=`${Yl}?l=${C}&id=${I}`,x.async=!0,document.head.appendChild(x)}function vf(C,I,x,$,ce,ye){return So.apply(this,arguments)}function So(){return(So=(0,A.Z)(function*(C,I,x,$,ce,ye){const Me=$[ce];try{if(Me)yield I[Me];else{const ut=(yield Ql(x)).find(Dt=>Dt.measurementId===ce);ut&&(yield I[ut.appId])}}catch(He){Ln.error(He)}C("config",ce,ye)})).apply(this,arguments)}function oa(C,I,x,$,ce){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,A.Z)(function*(C,I,x,$,ce){try{let ye=[];if(ce&&ce.send_to){let Me=ce.send_to;Array.isArray(Me)||(Me=[Me]);const He=yield Ql(x);for(const ut of Me){const Dt=He.find(mt=>mt.measurementId===ut),Mt=Dt&&I[Dt.appId];if(!Mt){ye=[];break}ye.push(Mt)}}0===ye.length&&(ye=Object.values(I)),yield Promise.all(ye),C("event",$,ce||{})}catch(ye){Ln.error(ye)}})).apply(this,arguments)}function Fd(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(Yl))return I;return null}const br=new V.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ya=new class ts{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Vd(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Qa(C){return mc.apply(this,arguments)}function mc(){return(mc=(0,A.Z)(function*(C){var I;const{appId:x,apiKey:$}=C,ce={method:"GET",headers:Vd($)},ye=Io.replace("{app-id}",x),Me=yield fetch(ye,ce);if(200!==Me.status&&304!==Me.status){let He="";try{const ut=yield Me.json();null!==(I=ut.error)&&void 0!==I&&I.message&&(He=ut.error.message)}catch{}throw br.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:He})}return Me.json()})).apply(this,arguments)}function zn(C){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,A.Z)(function*(C,I=Ya,x){const{appId:$,apiKey:ce,measurementId:ye}=C.options;if(!$)throw br.create("no-app-id");if(!ce){if(ye)return{measurementId:ye,appId:$};throw br.create("no-api-key")}const Me=I.getThrottleMetadata($)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new nu;return setTimeout((0,A.Z)(function*(){He.abort()}),void 0!==x?x:6e4),eu({appId:$,apiKey:ce,measurementId:ye},Me,He,I)})).apply(this,arguments)}function eu(C,I,x){return No.apply(this,arguments)}function No(){return(No=(0,A.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:x},$,ce=Ya){var ye,Me;const{appId:He,measurementId:ut}=C;try{yield Ja($,I)}catch(Dt){if(ut)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${null===(ye=Dt)||void 0===ye?void 0:ye.message}]`),{appId:He,measurementId:ut};throw Dt}try{const Dt=yield Qa(C);return ce.deleteThrottleMetadata(He),Dt}catch(Dt){const Mt=Dt;if(!tu(Mt)){if(ce.deleteThrottleMetadata(He),ut)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${Mt?.message}]`),{appId:He,measurementId:ut};throw Dt}const mt=503===Number(null===(Me=Mt?.customData)||void 0===Me?void 0:Me.httpStatus)?(0,V.$s)(x,ce.intervalMillis,30):(0,V.$s)(x,ce.intervalMillis),An={throttleEndTimeMillis:Date.now()+mt,backoffCount:x+1};return ce.setThrottleMetadata(He,An),Ln.debug(`Calling attemptFetch again in ${mt} millis`),eu(C,An,$,ce)}})).apply(this,arguments)}function Ja(C,I){return new Promise((x,$)=>{const ce=Math.max(I-Date.now(),0),ye=setTimeout(x,ce);C.addEventListener(()=>{clearTimeout(ye),$(br.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function tu(C){if(!(C instanceof V.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class nu{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Ys,el;function Qs(){return(Qs=(0,A.Z)(function*(C,I,x,$,ce){if(ce&&ce.global)C("event",x,$);else{const ye=yield I;C("event",x,Object.assign(Object.assign({},$),{send_to:ye}))}})).apply(this,arguments)}function Oo(C){el=C}function yc(C){Ys=C}function Ss(){return su.apply(this,arguments)}function su(){return(su=(0,A.Z)(function*(){var C;if(!(0,V.hl)())return Ln.warn(br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,V.eu)()}catch(I){return Ln.warn(br.create("indexeddb-unavailable",{errorInfo:null===(C=I)||void 0===C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function ua(){return(ua=(0,A.Z)(function*(C,I,x,$,ce,ye,Me){var He;const ut=zn(C);ut.then(Mr=>{x[Mr.measurementId]=Mr.appId,C.options.measurementId&&Mr.measurementId!==C.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Mr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mr=>Ln.error(Mr)),I.push(ut);const Dt=Ss().then(Mr=>{if(Mr)return $.getId()}),[Mt,mt]=yield Promise.all([ut,Dt]);Fd()||Jl(ye,Mt.measurementId),el&&(ce("consent","default",el),Oo(void 0)),ce("js",new Date);const An=null!==(He=Me?.config)&&void 0!==He?He:{};return An.origin="firebase",An.update=!0,null!=mt&&(An[kd]=mt),ce("config",Mt.measurementId,An),Ys&&(ce("set",Ys),yc(void 0)),Mt.measurementId})).apply(this,arguments)}class ou{constructor(I){this.app=I}_delete(){return delete ri[this.app.options.appId],Promise.resolve()}}let ri={},Js=[];const ca={};let ha,xo,da="dataLayer",tl=!1;function my(C,I,x){!function Hg(){const C=[];if((0,V.ru)()&&C.push("This is a browser extension environment."),(0,V.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map(($,ce)=>`(${ce+1}) ${$}`).join(" "),x=br.create("invalid-analytics-context",{errorInfo:I});Ln.warn(x.message)}}();const $=C.options.appId;if(!$)throw br.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw br.create("no-api-key");Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ri[$])throw br.create("already-exists",{id:$});if(!tl){!function Pd(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(da);const{wrappedGtag:ye,gtagCore:Me}=function Za(C,I,x,$,ce){let ye=function(...Me){window[$].push(arguments)};return window[ce]&&"function"==typeof window[ce]&&(ye=window[ce]),window[ce]=function Xl(C,I,x,$){function ye(){return(ye=(0,A.Z)(function*(Me,He,ut){try{"event"===Me?yield oa(C,I,x,He,ut):"config"===Me?yield vf(C,I,x,$,He,ut):"consent"===Me?C("consent","update",ut):C("set",He)}catch(Dt){Ln.error(Dt)}})).apply(this,arguments)}return function ce(Me,He,ut){return ye.apply(this,arguments)}}(ye,C,I,x),{gtagCore:ye,wrappedGtag:window[ce]}}(ri,Js,ca,da,"gtag");xo=ye,ha=Me,tl=!0}return ri[$]=function la(C,I,x,$,ce,ye,Me){return ua.apply(this,arguments)}(C,Js,ca,I,ha,da,x),new ou(C)}function yy(){return bf.apply(this,arguments)}function bf(){return(bf=(0,A.Z)(function*(){if((0,V.ru)()||!(0,V.zI)()||!(0,V.hl)())return!1;try{return yield(0,V.eu)()}catch{return!1}})).apply(this,arguments)}const lt="@firebase/analytics";!function on(){(0,P._registerComponent)(new H.wA(sa,(I,{options:x})=>my(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,P._registerComponent)(new H.wA("analytics-internal",function C(I){try{const x=I.getProvider(sa).getImmediate();return{logEvent:($,ce,ye)=>function fn(C,I,x,$){C=(0,V.m9)(C),function Bd(C,I,x,$,ce){return Qs.apply(this,arguments)}(xo,ri[C.app.options.appId],I,x,$).catch(ce=>Ln.error(ce))}(x,$,ce,ye)}}catch(x){throw br.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,P.registerVersion)(lt,"0.8.0"),(0,P.registerVersion)(lt,"0.8.0","esm2017")}();var ji=O(4408),Zn=O(7565);const lu=new class Xs extends Zn.v{}(class nl extends ji.o{constructor(I,x){super(I,x),this.scheduler=I,this.work=x}schedule(I,x=0){return x>0?super.schedule(I,x):(this.delay=x,this.state=I,this.scheduler.flush(this),this)}execute(I,x){return x>0||this.closed?super.execute(I,x):this._execute(I,x)}requestAsyncId(I,x,$=0){return null!=$&&$>0||null==$&&this.delay>0?super.requestAsyncId(I,x,$):I.flush(this)}});var vc=O(4986),rl=O(8505),pa=O(9468),As=O(5363);const st=new l.GfV("7.4.1"),il="__angularfire_symbol__analyticsIsSupportedValue",eo="__angularfire_symbol__analyticsIsSupported",ga="__angularfire_symbol__remoteConfigIsSupportedValue",ma="__angularfire_symbol__remoteConfigIsSupported",Dn="__angularfire_symbol__messagingIsSupportedValue",bc="__angularfire_symbol__messagingIsSupported";function sl(C,I,x){if(I){if(1===I.length)return I[0];const ye=I.filter(Me=>Me.app===x);if(1===ye.length)return ye[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[eo]||(globalThis[eo]=yy().then(C=>globalThis[il]=C).catch(()=>globalThis[il]=!1)),globalThis[bc]||(globalThis[bc]=Od().then(C=>globalThis[Dn]=C).catch(()=>globalThis[Dn]=!1)),globalThis[ma]||(globalThis[ma]=xl().then(C=>globalThis[ga]=C).catch(()=>globalThis[ga]=!1));const ns=(C,I)=>{const x=I?[I]:(0,L.C6)(),$=[];return x.forEach(ce=>{ce.container.getProvider(C).instances.forEach(Me=>{$.includes(Me)||$.push(Me)})}),$};function $r(){}class Hi{constructor(I,x=lu){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,$){const ce=this.zone;return this.delegate.schedule(function(Me){ce.runGuarded(()=>{I.apply(this,[Me])})},x,$)}}class Dc{constructor(I){this.zone=I,this.task=null}call(I,x){const $=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$r,{},$r,$r)),x.pipe((0,rl.b)({next:$,complete:$,error:$})).subscribe(I).add($)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let si=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Hi(Zone.current)),this.insideAngular=x.run(()=>new Hi(Zone.current,vc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(l.LFG(l.R0b))},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function oi(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Ns(C){return oi(),function Vn(C){return function(x){return(x=x.lift(new Dc(C.ngZone))).pipe((0,pa.R)(C.outsideAngular),(0,As.Q)(C.insideAngular))}}(oi())(C)}},5876:(je,q,O)=>{const L=O(532),A=O(7554),P=O(179),V=O(1036);function H(z,W,oe,G,Z){const K=[].slice.call(arguments,1),De=K.length,be="function"==typeof K[De-1];if(!be&&!L())throw new Error("Callback required as last argument");if(!be){if(De<1)throw new Error("Too few arguments provided");return 1===De?(oe=W,W=G=void 0):2===De&&!W.getContext&&(G=oe,oe=W,W=void 0),new Promise(function(_e,Ke){try{const de=A.create(oe,G);_e(z(de,W,G))}catch(de){Ke(de)}})}if(De<2)throw new Error("Too few arguments provided");2===De?(Z=oe,oe=W,W=G=void 0):3===De&&(W.getContext&&typeof Z>"u"?(Z=G,G=void 0):(Z=G,G=oe,oe=W,W=void 0));try{const _e=A.create(oe,G);Z(null,z(_e,W,G))}catch(_e){Z(_e)}}q.rT=H.bind(null,P.render),q.hz=H.bind(null,P.renderToDataURL),q.toString=H.bind(null,function(z,W,oe){return V.render(z,oe)})},532:je=>{je.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},3012:(je,q,O)=>{const l=O(4860).getSymbolSize;q.getRowColCoords=function(A){if(1===A)return[];const P=Math.floor(A/7)+2,V=l(A),H=145===V?26:2*Math.ceil((V-13)/(2*P-2)),z=[V-7];for(let W=1;W<P-1;W++)z[W]=z[W-1]-H;return z.push(6),z.reverse()},q.getPositions=function(A){const P=[],V=q.getRowColCoords(A),H=V.length;for(let z=0;z<H;z++)for(let W=0;W<H;W++)0===z&&0===W||0===z&&W===H-1||z===H-1&&0===W||P.push([V[z],V[W]]);return P}},812:(je,q,O)=>{const l=O(6906),L=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function A(P){this.mode=l.ALPHANUMERIC,this.data=P}A.getBitsLength=function(V){return 11*Math.floor(V/2)+V%2*6},A.prototype.getLength=function(){return this.data.length},A.prototype.getBitsLength=function(){return A.getBitsLength(this.data.length)},A.prototype.write=function(V){let H;for(H=0;H+2<=this.data.length;H+=2){let z=45*L.indexOf(this.data[H]);z+=L.indexOf(this.data[H+1]),V.put(z,11)}this.data.length%2&&V.put(L.indexOf(this.data[H]),6)},je.exports=A},3044:je=>{function q(){this.buffer=[],this.length=0}q.prototype={get:function(O){const l=Math.floor(O/8);return 1==(this.buffer[l]>>>7-O%8&1)},put:function(O,l){for(let L=0;L<l;L++)this.putBit(1==(O>>>l-L-1&1))},getLengthInBits:function(){return this.length},putBit:function(O){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),O&&(this.buffer[l]|=128>>>this.length%8),this.length++}},je.exports=q},1973:je=>{function q(O){if(!O||O<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=O,this.data=new Uint8Array(O*O),this.reservedBit=new Uint8Array(O*O)}q.prototype.set=function(O,l,L,A){const P=O*this.size+l;this.data[P]=L,A&&(this.reservedBit[P]=!0)},q.prototype.get=function(O,l){return this.data[O*this.size+l]},q.prototype.xor=function(O,l,L){this.data[O*this.size+l]^=L},q.prototype.isReserved=function(O,l){return this.reservedBit[O*this.size+l]},je.exports=q},1824:(je,q,O)=>{const l=O(8419),L=O(6906);function A(P){this.mode=L.BYTE,this.data=new Uint8Array(l(P))}A.getBitsLength=function(V){return 8*V},A.prototype.getLength=function(){return this.data.length},A.prototype.getBitsLength=function(){return A.getBitsLength(this.data.length)},A.prototype.write=function(P){for(let V=0,H=this.data.length;V<H;V++)P.put(this.data[V],8)},je.exports=A},6194:(je,q,O)=>{const l=O(9020),L=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],A=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];q.getBlocksCount=function(V,H){switch(H){case l.L:return L[4*(V-1)+0];case l.M:return L[4*(V-1)+1];case l.Q:return L[4*(V-1)+2];case l.H:return L[4*(V-1)+3];default:return}},q.getTotalCodewordsCount=function(V,H){switch(H){case l.L:return A[4*(V-1)+0];case l.M:return A[4*(V-1)+1];case l.Q:return A[4*(V-1)+2];case l.H:return A[4*(V-1)+3];default:return}}},9020:(je,q)=>{q.L={bit:1},q.M={bit:0},q.Q={bit:3},q.H={bit:2},q.isValid=function(L){return L&&typeof L.bit<"u"&&L.bit>=0&&L.bit<4},q.from=function(L,A){if(q.isValid(L))return L;try{return function O(l){if("string"!=typeof l)throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return q.L;case"m":case"medium":return q.M;case"q":case"quartile":return q.Q;case"h":case"high":return q.H;default:throw new Error("Unknown EC Level: "+l)}}(L)}catch{return A}}},9172:(je,q,O)=>{const l=O(4860).getSymbolSize;q.getPositions=function(P){const V=l(P);return[[0,0],[V-7,0],[0,V-7]]}},611:(je,q,O)=>{const l=O(4860),P=l.getBCHDigit(1335);q.getEncodedBits=function(H,z){const W=H.bit<<3|z;let oe=W<<10;for(;l.getBCHDigit(oe)-P>=0;)oe^=1335<<l.getBCHDigit(oe)-P;return 21522^(W<<10|oe)}},7794:(je,q)=>{const O=new Uint8Array(512),l=new Uint8Array(256);(function(){let A=1;for(let P=0;P<255;P++)O[P]=A,l[A]=P,A<<=1,256&A&&(A^=285);for(let P=255;P<512;P++)O[P]=O[P-255]})(),q.log=function(A){if(A<1)throw new Error("log("+A+")");return l[A]},q.exp=function(A){return O[A]},q.mul=function(A,P){return 0===A||0===P?0:O[l[A]+l[P]]}},8043:(je,q,O)=>{const l=O(6906),L=O(4860);function A(P){this.mode=l.KANJI,this.data=P}A.getBitsLength=function(V){return 13*V},A.prototype.getLength=function(){return this.data.length},A.prototype.getBitsLength=function(){return A.getBitsLength(this.data.length)},A.prototype.write=function(P){let V;for(V=0;V<this.data.length;V++){let H=L.toSJIS(this.data[V]);if(H>=33088&&H<=40956)H-=33088;else{if(!(H>=57408&&H<=60351))throw new Error("Invalid SJIS character: "+this.data[V]+"\nMake sure your charset is UTF-8");H-=49472}H=192*(H>>>8&255)+(255&H),P.put(H,13)}},je.exports=A},7135:(je,q)=>{q.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function l(L,A,P){switch(L){case q.Patterns.PATTERN000:return(A+P)%2==0;case q.Patterns.PATTERN001:return A%2==0;case q.Patterns.PATTERN010:return P%3==0;case q.Patterns.PATTERN011:return(A+P)%3==0;case q.Patterns.PATTERN100:return(Math.floor(A/2)+Math.floor(P/3))%2==0;case q.Patterns.PATTERN101:return A*P%2+A*P%3==0;case q.Patterns.PATTERN110:return(A*P%2+A*P%3)%2==0;case q.Patterns.PATTERN111:return(A*P%3+(A+P)%2)%2==0;default:throw new Error("bad maskPattern:"+L)}}q.isValid=function(A){return null!=A&&""!==A&&!isNaN(A)&&A>=0&&A<=7},q.from=function(A){return q.isValid(A)?parseInt(A,10):void 0},q.getPenaltyN1=function(A){const P=A.size;let V=0,H=0,z=0,W=null,oe=null;for(let G=0;G<P;G++){H=z=0,W=oe=null;for(let Z=0;Z<P;Z++){let K=A.get(G,Z);K===W?H++:(H>=5&&(V+=H-5+3),W=K,H=1),K=A.get(Z,G),K===oe?z++:(z>=5&&(V+=z-5+3),oe=K,z=1)}H>=5&&(V+=H-5+3),z>=5&&(V+=z-5+3)}return V},q.getPenaltyN2=function(A){const P=A.size;let V=0;for(let H=0;H<P-1;H++)for(let z=0;z<P-1;z++){const W=A.get(H,z)+A.get(H,z+1)+A.get(H+1,z)+A.get(H+1,z+1);(4===W||0===W)&&V++}return 3*V},q.getPenaltyN3=function(A){const P=A.size;let V=0,H=0,z=0;for(let W=0;W<P;W++){H=z=0;for(let oe=0;oe<P;oe++)H=H<<1&2047|A.get(W,oe),oe>=10&&(1488===H||93===H)&&V++,z=z<<1&2047|A.get(oe,W),oe>=10&&(1488===z||93===z)&&V++}return 40*V},q.getPenaltyN4=function(A){let P=0;const V=A.data.length;for(let z=0;z<V;z++)P+=A.data[z];return 10*Math.abs(Math.ceil(100*P/V/5)-10)},q.applyMask=function(A,P){const V=P.size;for(let H=0;H<V;H++)for(let z=0;z<V;z++)P.isReserved(z,H)||P.xor(z,H,l(A,z,H))},q.getBestMask=function(A,P){const V=Object.keys(q.Patterns).length;let H=0,z=1/0;for(let W=0;W<V;W++){P(W),q.applyMask(W,A);const oe=q.getPenaltyN1(A)+q.getPenaltyN2(A)+q.getPenaltyN3(A)+q.getPenaltyN4(A);q.applyMask(W,A),oe<z&&(z=oe,H=W)}return H}},6906:(je,q,O)=>{const l=O(2316),L=O(4677);q.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},q.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},q.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},q.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},q.MIXED={bit:-1},q.getCharCountIndicator=function(V,H){if(!V.ccBits)throw new Error("Invalid mode: "+V);if(!l.isValid(H))throw new Error("Invalid version: "+H);return H>=1&&H<10?V.ccBits[0]:H<27?V.ccBits[1]:V.ccBits[2]},q.getBestModeForData=function(V){return L.testNumeric(V)?q.NUMERIC:L.testAlphanumeric(V)?q.ALPHANUMERIC:L.testKanji(V)?q.KANJI:q.BYTE},q.toString=function(V){if(V&&V.id)return V.id;throw new Error("Invalid mode")},q.isValid=function(V){return V&&V.bit&&V.ccBits},q.from=function(V,H){if(q.isValid(V))return V;try{return function A(P){if("string"!=typeof P)throw new Error("Param is not a string");switch(P.toLowerCase()){case"numeric":return q.NUMERIC;case"alphanumeric":return q.ALPHANUMERIC;case"kanji":return q.KANJI;case"byte":return q.BYTE;default:throw new Error("Unknown mode: "+P)}}(V)}catch{return H}}},6002:(je,q,O)=>{const l=O(6906);function L(A){this.mode=l.NUMERIC,this.data=A.toString()}L.getBitsLength=function(P){return 10*Math.floor(P/3)+(P%3?P%3*3+1:0)},L.prototype.getLength=function(){return this.data.length},L.prototype.getBitsLength=function(){return L.getBitsLength(this.data.length)},L.prototype.write=function(P){let V,H,z;for(V=0;V+3<=this.data.length;V+=3)H=this.data.substr(V,3),z=parseInt(H,10),P.put(z,10);const W=this.data.length-V;W>0&&(H=this.data.substr(V),z=parseInt(H,10),P.put(z,3*W+1))},je.exports=L},7793:(je,q,O)=>{const l=O(7794);q.mul=function(A,P){const V=new Uint8Array(A.length+P.length-1);for(let H=0;H<A.length;H++)for(let z=0;z<P.length;z++)V[H+z]^=l.mul(A[H],P[z]);return V},q.mod=function(A,P){let V=new Uint8Array(A);for(;V.length-P.length>=0;){const H=V[0];for(let W=0;W<P.length;W++)V[W]^=l.mul(P[W],H);let z=0;for(;z<V.length&&0===V[z];)z++;V=V.slice(z)}return V},q.generateECPolynomial=function(A){let P=new Uint8Array([1]);for(let V=0;V<A;V++)P=q.mul(P,new Uint8Array([1,l.exp(V)]));return P}},7554:(je,q,O)=>{const l=O(4860),L=O(9020),A=O(3044),P=O(1973),V=O(3012),H=O(9172),z=O(7135),W=O(6194),oe=O(8098),G=O(6602),Z=O(611),K=O(6906),De=O(9465);function he(fe,Se,Ie){const U=fe.size,pe=Z.getEncodedBits(Se,Ie);let Y,X;for(Y=0;Y<15;Y++)X=1==(pe>>Y&1),fe.set(Y<6?Y:Y<8?Y+1:U-15+Y,8,X,!0),fe.set(8,Y<8?U-Y-1:Y<9?15-Y-1+1:15-Y-1,X,!0);fe.set(U-8,8,1,!0)}function Te(fe,Se,Ie,U){let pe;if(Array.isArray(fe))pe=De.fromArray(fe);else{if("string"!=typeof fe)throw new Error("Invalid data");{let Le=Se;if(!Le){const Be=De.rawSplit(fe);Le=G.getBestVersionForData(Be,Ie)}pe=De.fromString(fe,Le||40)}}const Y=G.getBestVersionForData(pe,Ie);if(!Y)throw new Error("The amount of data is too big to be stored in a QR Code");if(Se){if(Se<Y)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+Y+".\n")}else Se=Y;const X=function Fe(fe,Se,Ie){const U=new A;Ie.forEach(function(le){U.put(le.mode.bit,4),U.put(le.getLength(),K.getCharCountIndicator(le.mode,fe)),le.write(U)});const X=8*(l.getSymbolTotalCodewords(fe)-W.getTotalCodewordsCount(fe,Se));for(U.getLengthInBits()+4<=X&&U.put(0,4);U.getLengthInBits()%8!=0;)U.putBit(0);const ue=(X-U.getLengthInBits())/8;for(let le=0;le<ue;le++)U.put(le%2?17:236,8);return function Ae(fe,Se,Ie){const U=l.getSymbolTotalCodewords(Se),Y=U-W.getTotalCodewordsCount(Se,Ie),X=W.getBlocksCount(Se,Ie),le=X-U%X,Le=Math.floor(U/X),Be=Math.floor(Y/X),pt=Be+1,Zt=Le-Be,jt=new oe(Zt);let Qe=0;const Jt=new Array(X),Cn=new Array(X);let Kt=0;const Xt=new Uint8Array(fe.buffer);for(let Gn=0;Gn<X;Gn++){const Wn=Gn<le?Be:pt;Jt[Gn]=Xt.slice(Qe,Qe+Wn),Cn[Gn]=jt.encode(Jt[Gn]),Qe+=Wn,Kt=Math.max(Kt,Wn)}const rr=new Uint8Array(U);let Bt,Pr,Rt=0;for(Bt=0;Bt<Kt;Bt++)for(Pr=0;Pr<X;Pr++)Bt<Jt[Pr].length&&(rr[Rt++]=Jt[Pr][Bt]);for(Bt=0;Bt<Zt;Bt++)for(Pr=0;Pr<X;Pr++)rr[Rt++]=Cn[Pr][Bt];return rr}(U,fe,Se)}(Se,Ie,pe),ue=l.getSymbolSize(Se),le=new P(ue);return function be(fe,Se){const Ie=fe.size,U=H.getPositions(Se);for(let pe=0;pe<U.length;pe++){const Y=U[pe][0],X=U[pe][1];for(let ue=-1;ue<=7;ue++)if(!(Y+ue<=-1||Ie<=Y+ue))for(let le=-1;le<=7;le++)X+le<=-1||Ie<=X+le||fe.set(Y+ue,X+le,ue>=0&&ue<=6&&(0===le||6===le)||le>=0&&le<=6&&(0===ue||6===ue)||ue>=2&&ue<=4&&le>=2&&le<=4,!0)}}(le,Se),function _e(fe){const Se=fe.size;for(let Ie=8;Ie<Se-8;Ie++){const U=Ie%2==0;fe.set(Ie,6,U,!0),fe.set(6,Ie,U,!0)}}(le),function Ke(fe,Se){const Ie=V.getPositions(Se);for(let U=0;U<Ie.length;U++){const pe=Ie[U][0],Y=Ie[U][1];for(let X=-2;X<=2;X++)for(let ue=-2;ue<=2;ue++)fe.set(pe+X,Y+ue,-2===X||2===X||-2===ue||2===ue||0===X&&0===ue,!0)}}(le,Se),he(le,Ie,0),Se>=7&&function de(fe,Se){const Ie=fe.size,U=G.getEncodedBits(Se);let pe,Y,X;for(let ue=0;ue<18;ue++)pe=Math.floor(ue/3),Y=ue%3+Ie-8-3,X=1==(U>>ue&1),fe.set(pe,Y,X,!0),fe.set(Y,pe,X,!0)}(le,Se),function xe(fe,Se){const Ie=fe.size;let U=-1,pe=Ie-1,Y=7,X=0;for(let ue=Ie-1;ue>0;ue-=2)for(6===ue&&ue--;;){for(let le=0;le<2;le++)if(!fe.isReserved(pe,ue-le)){let Le=!1;X<Se.length&&(Le=1==(Se[X]>>>Y&1)),fe.set(pe,ue-le,Le),Y--,-1===Y&&(X++,Y=7)}if(pe+=U,pe<0||Ie<=pe){pe-=U,U=-U;break}}}(le,X),isNaN(U)&&(U=z.getBestMask(le,he.bind(null,le,Ie))),z.applyMask(U,le),he(le,Ie,U),{modules:le,version:Se,errorCorrectionLevel:Ie,maskPattern:U,segments:pe}}q.create=function(Se,Ie){if(typeof Se>"u"||""===Se)throw new Error("No input text");let pe,Y,U=L.M;return typeof Ie<"u"&&(U=L.from(Ie.errorCorrectionLevel,L.M),pe=G.from(Ie.version),Y=z.from(Ie.maskPattern),Ie.toSJISFunc&&l.setToSJISFunction(Ie.toSJISFunc)),Te(Se,pe,U,Y)}},8098:(je,q,O)=>{const l=O(7793);function L(A){this.genPoly=void 0,this.degree=A,this.degree&&this.initialize(this.degree)}L.prototype.initialize=function(P){this.degree=P,this.genPoly=l.generateECPolynomial(this.degree)},L.prototype.encode=function(P){if(!this.genPoly)throw new Error("Encoder not initialized");const V=new Uint8Array(P.length+this.degree);V.set(P);const H=l.mod(V,this.genPoly),z=this.degree-H.length;if(z>0){const W=new Uint8Array(this.degree);return W.set(H,z),W}return H},je.exports=L},4677:(je,q)=>{const O="[0-9]+";let L="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";L=L.replace(/u/g,"\\u");const A="(?:(?![A-Z0-9 $%*+\\-./:]|"+L+")(?:.|[\r\n]))+";q.KANJI=new RegExp(L,"g"),q.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),q.BYTE=new RegExp(A,"g"),q.NUMERIC=new RegExp(O,"g"),q.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const P=new RegExp("^"+L+"$"),V=new RegExp("^"+O+"$"),H=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");q.testKanji=function(W){return P.test(W)},q.testNumeric=function(W){return V.test(W)},q.testAlphanumeric=function(W){return H.test(W)}},9465:(je,q,O)=>{const l=O(6906),L=O(6002),A=O(812),P=O(1824),V=O(8043),H=O(4677),z=O(4860),W=O(4901);function oe(de){return unescape(encodeURIComponent(de)).length}function G(de,he,xe){const Fe=[];let Ae;for(;null!==(Ae=de.exec(xe));)Fe.push({data:Ae[0],index:Ae.index,mode:he,length:Ae[0].length});return Fe}function Z(de){const he=G(H.NUMERIC,l.NUMERIC,de),xe=G(H.ALPHANUMERIC,l.ALPHANUMERIC,de);let Fe,Ae;return z.isKanjiModeEnabled()?(Fe=G(H.BYTE,l.BYTE,de),Ae=G(H.KANJI,l.KANJI,de)):(Fe=G(H.BYTE_KANJI,l.BYTE,de),Ae=[]),he.concat(xe,Fe,Ae).sort(function(fe,Se){return fe.index-Se.index}).map(function(fe){return{data:fe.data,mode:fe.mode,length:fe.length}})}function K(de,he){switch(he){case l.NUMERIC:return L.getBitsLength(de);case l.ALPHANUMERIC:return A.getBitsLength(de);case l.KANJI:return V.getBitsLength(de);case l.BYTE:return P.getBitsLength(de)}}function Ke(de,he){let xe;const Fe=l.getBestModeForData(de);if(xe=l.from(he,Fe),xe!==l.BYTE&&xe.bit<Fe.bit)throw new Error('"'+de+'" cannot be encoded with mode '+l.toString(xe)+".\n Suggested mode is: "+l.toString(Fe));switch(xe===l.KANJI&&!z.isKanjiModeEnabled()&&(xe=l.BYTE),xe){case l.NUMERIC:return new L(de);case l.ALPHANUMERIC:return new A(de);case l.KANJI:return new V(de);case l.BYTE:return new P(de)}}q.fromArray=function(he){return he.reduce(function(xe,Fe){return"string"==typeof Fe?xe.push(Ke(Fe,null)):Fe.data&&xe.push(Ke(Fe.data,Fe.mode)),xe},[])},q.fromString=function(he,xe){const Ae=function be(de){const he=[];for(let xe=0;xe<de.length;xe++){const Fe=de[xe];switch(Fe.mode){case l.NUMERIC:he.push([Fe,{data:Fe.data,mode:l.ALPHANUMERIC,length:Fe.length},{data:Fe.data,mode:l.BYTE,length:Fe.length}]);break;case l.ALPHANUMERIC:he.push([Fe,{data:Fe.data,mode:l.BYTE,length:Fe.length}]);break;case l.KANJI:he.push([Fe,{data:Fe.data,mode:l.BYTE,length:oe(Fe.data)}]);break;case l.BYTE:he.push([{data:Fe.data,mode:l.BYTE,length:oe(Fe.data)}])}}return he}(Z(he,z.isKanjiModeEnabled())),Te=function _e(de,he){const xe={},Fe={start:{}};let Ae=["start"];for(let Te=0;Te<de.length;Te++){const fe=de[Te],Se=[];for(let Ie=0;Ie<fe.length;Ie++){const U=fe[Ie],pe=""+Te+Ie;Se.push(pe),xe[pe]={node:U,lastCount:0},Fe[pe]={};for(let Y=0;Y<Ae.length;Y++){const X=Ae[Y];xe[X]&&xe[X].node.mode===U.mode?(Fe[X][pe]=K(xe[X].lastCount+U.length,U.mode)-K(xe[X].lastCount,U.mode),xe[X].lastCount+=U.length):(xe[X]&&(xe[X].lastCount=U.length),Fe[X][pe]=K(U.length,U.mode)+4+l.getCharCountIndicator(U.mode,he))}}Ae=Se}for(let Te=0;Te<Ae.length;Te++)Fe[Ae[Te]].end=0;return{map:Fe,table:xe}}(Ae,xe),fe=W.find_path(Te.map,"start","end"),Se=[];for(let Ie=1;Ie<fe.length-1;Ie++)Se.push(Te.table[fe[Ie]].node);return q.fromArray(function De(de){return de.reduce(function(he,xe){const Fe=he.length-1>=0?he[he.length-1]:null;return Fe&&Fe.mode===xe.mode?(he[he.length-1].data+=xe.data,he):(he.push(xe),he)},[])}(Se))},q.rawSplit=function(he){return q.fromArray(Z(he,z.isKanjiModeEnabled()))}},4860:(je,q)=>{let O;const l=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];q.getSymbolSize=function(A){if(!A)throw new Error('"version" cannot be null or undefined');if(A<1||A>40)throw new Error('"version" should be in range from 1 to 40');return 4*A+17},q.getSymbolTotalCodewords=function(A){return l[A]},q.getBCHDigit=function(L){let A=0;for(;0!==L;)A++,L>>>=1;return A},q.setToSJISFunction=function(A){if("function"!=typeof A)throw new Error('"toSJISFunc" is not a valid function.');O=A},q.isKanjiModeEnabled=function(){return typeof O<"u"},q.toSJIS=function(A){return O(A)}},2316:(je,q)=>{q.isValid=function(l){return!isNaN(l)&&l>=1&&l<=40}},6602:(je,q,O)=>{const l=O(4860),L=O(6194),A=O(9020),P=O(6906),V=O(2316),z=l.getBCHDigit(7973);function oe(K,De){return P.getCharCountIndicator(K,De)+4}function G(K,De){let be=0;return K.forEach(function(_e){be+=oe(_e.mode,De)+_e.getBitsLength()}),be}q.from=function(De,be){return V.isValid(De)?parseInt(De,10):be},q.getCapacity=function(De,be,_e){if(!V.isValid(De))throw new Error("Invalid QR Code version");typeof _e>"u"&&(_e=P.BYTE);const he=8*(l.getSymbolTotalCodewords(De)-L.getTotalCodewordsCount(De,be));if(_e===P.MIXED)return he;const xe=he-oe(_e,De);switch(_e){case P.NUMERIC:return Math.floor(xe/10*3);case P.ALPHANUMERIC:return Math.floor(xe/11*2);case P.KANJI:return Math.floor(xe/13);default:return Math.floor(xe/8)}},q.getBestVersionForData=function(De,be){let _e;const Ke=A.from(be,A.M);if(Array.isArray(De)){if(De.length>1)return function Z(K,De){for(let be=1;be<=40;be++)if(G(K,be)<=q.getCapacity(be,De,P.MIXED))return be}(De,Ke);if(0===De.length)return 1;_e=De[0]}else _e=De;return function W(K,De,be){for(let _e=1;_e<=40;_e++)if(De<=q.getCapacity(_e,be,K))return _e}(_e.mode,_e.getLength(),Ke)},q.getEncodedBits=function(De){if(!V.isValid(De)||De<7)throw new Error("Invalid QR Code version");let be=De<<12;for(;l.getBCHDigit(be)-z>=0;)be^=7973<<l.getBCHDigit(be)-z;return De<<12|be}},179:(je,q,O)=>{const l=O(714);q.render=function(V,H,z){let W=z,oe=H;typeof W>"u"&&(!H||!H.getContext)&&(W=H,H=void 0),H||(oe=function A(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),W=l.getOptions(W);const G=l.getImageWidth(V.modules.size,W),Z=oe.getContext("2d"),K=Z.createImageData(G,G);return l.qrToImageData(K.data,V,W),function L(P,V,H){P.clearRect(0,0,V.width,V.height),V.style||(V.style={}),V.height=H,V.width=H,V.style.height=H+"px",V.style.width=H+"px"}(Z,oe,G),Z.putImageData(K,0,0),oe},q.renderToDataURL=function(V,H,z){let W=z;return typeof W>"u"&&(!H||!H.getContext)&&(W=H,H=void 0),W||(W={}),q.render(V,H,W).toDataURL(W.type||"image/png",(W.rendererOpts||{}).quality)}},1036:(je,q,O)=>{const l=O(714);function L(V,H){const z=V.a/255,W=H+'="'+V.hex+'"';return z<1?W+" "+H+'-opacity="'+z.toFixed(2).slice(1)+'"':W}function A(V,H,z){let W=V+H;return typeof z<"u"&&(W+=" "+z),W}q.render=function(H,z,W){const oe=l.getOptions(z),G=H.modules.size,Z=H.modules.data,K=G+2*oe.margin,De=oe.color.light.a?"<path "+L(oe.color.light,"fill")+' d="M0 0h'+K+"v"+K+'H0z"/>':"",be="<path "+L(oe.color.dark,"stroke")+' d="'+function P(V,H,z){let W="",oe=0,G=!1,Z=0;for(let K=0;K<V.length;K++){const De=Math.floor(K%H),be=Math.floor(K/H);!De&&!G&&(G=!0),V[K]?(Z++,K>0&&De>0&&V[K-1]||(W+=G?A("M",De+z,.5+be+z):A("m",oe,0),oe=0,G=!1),De+1<H&&V[K+1]||(W+=A("h",Z),Z=0)):oe++}return W}(Z,G,oe.margin)+'"/>',de='<svg xmlns="http://www.w3.org/2000/svg" '+(oe.width?'width="'+oe.width+'" height="'+oe.width+'" ':"")+'viewBox="0 0 '+K+" "+K+'" shape-rendering="crispEdges">'+De+be+"</svg>\n";return"function"==typeof W&&W(null,de),de}},714:(je,q)=>{function O(l){if("number"==typeof l&&(l=l.toString()),"string"!=typeof l)throw new Error("Color should be defined as hex string");let L=l.slice().replace("#","").split("");if(L.length<3||5===L.length||L.length>8)throw new Error("Invalid hex color: "+l);(3===L.length||4===L.length)&&(L=Array.prototype.concat.apply([],L.map(function(P){return[P,P]}))),6===L.length&&L.push("F","F");const A=parseInt(L.join(""),16);return{r:A>>24&255,g:A>>16&255,b:A>>8&255,a:255&A,hex:"#"+L.slice(0,6).join("")}}q.getOptions=function(L){L||(L={}),L.color||(L.color={});const P=L.width&&L.width>=21?L.width:void 0;return{width:P,scale:P?4:L.scale||4,margin:typeof L.margin>"u"||null===L.margin||L.margin<0?4:L.margin,color:{dark:O(L.color.dark||"#000000ff"),light:O(L.color.light||"#ffffffff")},type:L.type,rendererOpts:L.rendererOpts||{}}},q.getScale=function(L,A){return A.width&&A.width>=L+2*A.margin?A.width/(L+2*A.margin):A.scale},q.getImageWidth=function(L,A){const P=q.getScale(L,A);return Math.floor((L+2*A.margin)*P)},q.qrToImageData=function(L,A,P){const V=A.modules.size,H=A.modules.data,z=q.getScale(V,P),W=Math.floor((V+2*P.margin)*z),oe=P.margin*z,G=[P.color.light,P.color.dark];for(let Z=0;Z<W;Z++)for(let K=0;K<W;K++){let De=4*(Z*W+K),be=P.color.light;Z>=oe&&K>=oe&&Z<W-oe&&K<W-oe&&(be=G[H[Math.floor((Z-oe)/z)*V+Math.floor((K-oe)/z)]?1:0]),L[De++]=be.r,L[De++]=be.g,L[De++]=be.b,L[De]=be.a}}},2090:(je,q,O)=>{"use strict";O.d(q,{$s:()=>_s,BH:()=>De,G6:()=>Ie,L:()=>W,LL:()=>Le,Sg:()=>be,UG:()=>de,US:()=>H,ZB:()=>Z,ZR:()=>le,b$:()=>Fe,eu:()=>pe,hl:()=>U,jU:()=>he,m9:()=>nn,ne:()=>Jo,pd:()=>Jr,r3:()=>rr,ru:()=>xe,tV:()=>oe,uI:()=>Ke,vZ:()=>Gn,w1:()=>Te,xO:()=>js,xb:()=>Bt,z$:()=>_e,zI:()=>Y,zd:()=>Yi});const P=function(ie){const ee=[];let Q=0;for(let te=0;te<ie.length;te++){let re=ie.charCodeAt(te);re<128?ee[Q++]=re:re<2048?(ee[Q++]=re>>6|192,ee[Q++]=63&re|128):55296==(64512&re)&&te+1<ie.length&&56320==(64512&ie.charCodeAt(te+1))?(re=65536+((1023&re)<<10)+(1023&ie.charCodeAt(++te)),ee[Q++]=re>>18|240,ee[Q++]=re>>12&63|128,ee[Q++]=re>>6&63|128,ee[Q++]=63&re|128):(ee[Q++]=re>>12|224,ee[Q++]=re>>6&63|128,ee[Q++]=63&re|128)}return ee},H={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ie,ee){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let re=0;re<ie.length;re+=3){const Oe=ie[re],Ze=re+1<ie.length,ht=Ze?ie[re+1]:0,mn=re+2<ie.length,sn=mn?ie[re+2]:0;let Ft=(15&ht)<<2|sn>>6,In=63&sn;mn||(In=64,Ze||(Ft=64)),te.push(Q[Oe>>2],Q[(3&Oe)<<4|ht>>4],Q[Ft],Q[In])}return te.join("")},encodeString(ie,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(ie):this.encodeByteArray(P(ie),ee)},decodeString(ie,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(ie):function(ie){const ee=[];let Q=0,te=0;for(;Q<ie.length;){const re=ie[Q++];if(re<128)ee[te++]=String.fromCharCode(re);else if(re>191&&re<224){const Oe=ie[Q++];ee[te++]=String.fromCharCode((31&re)<<6|63&Oe)}else if(re>239&&re<365){const mn=((7&re)<<18|(63&ie[Q++])<<12|(63&ie[Q++])<<6|63&ie[Q++])-65536;ee[te++]=String.fromCharCode(55296+(mn>>10)),ee[te++]=String.fromCharCode(56320+(1023&mn))}else{const Oe=ie[Q++],Ze=ie[Q++];ee[te++]=String.fromCharCode((15&re)<<12|(63&Oe)<<6|63&Ze)}}return ee.join("")}(this.decodeStringToByteArray(ie,ee))},decodeStringToByteArray(ie,ee){this.init_();const Q=ee?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let re=0;re<ie.length;){const Oe=Q[ie.charAt(re++)],ht=re<ie.length?Q[ie.charAt(re)]:0;++re;const sn=re<ie.length?Q[ie.charAt(re)]:64;++re;const Ht=re<ie.length?Q[ie.charAt(re)]:64;if(++re,null==Oe||null==ht||null==sn||null==Ht)throw Error();te.push(Oe<<2|ht>>4),64!==sn&&(te.push(ht<<4&240|sn>>2),64!==Ht&&te.push(sn<<6&192|Ht))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}},W=function(ie){return function(ie){const ee=P(ie);return H.encodeByteArray(ee,!0)}(ie).replace(/\./g,"")},oe=function(ie){try{return H.decodeString(ie,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null};function Z(ie,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:return new Date(ee.getTime());case Object:void 0===ie&&(ie={});break;case Array:ie=[];break;default:return ee}for(const Q in ee)!ee.hasOwnProperty(Q)||!K(Q)||(ie[Q]=Z(ie[Q],ee[Q]));return ie}function K(ie){return"__proto__"!==ie}class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,Q)=>{this.resolve=ee,this.reject=Q})}wrapCallback(ee){return(Q,te)=>{Q?this.reject(Q):this.resolve(te),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee(Q):ee(Q,te))}}}function be(ie,ee){if(ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=ee||"demo-project",re=ie.iat||0,Oe=ie.sub||ie.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ze=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:re,exp:re+3600,auth_time:re,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},ie);return[W(JSON.stringify({alg:"none",type:"JWT"})),W(JSON.stringify(Ze)),""].join(".")}function _e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_e())}function de(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function he(){return"object"==typeof self&&self.self===self}function xe(){const ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function Fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Te(){const ie=_e();return ie.indexOf("MSIE ")>=0||ie.indexOf("Trident/")>=0}function Ie(){return!de()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){return"object"==typeof indexedDB}function pe(){return new Promise((ie,ee)=>{try{let Q=!0;const te="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(te);re.onsuccess=()=>{re.result.close(),Q||self.indexedDB.deleteDatabase(te),ie(!0)},re.onupgradeneeded=()=>{Q=!1},re.onerror=()=>{var Oe;ee((null===(Oe=re.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(Q){ee(Q)}})}function Y(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class le extends Error{constructor(ee,Q,te){super(Q),this.code=ee,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Le.prototype.create)}}class Le{constructor(ee,Q,te){this.service=ee,this.serviceName=Q,this.errors=te}create(ee,...Q){const te=Q[0]||{},re=`${this.service}/${ee}`,Oe=this.errors[ee],Ze=Oe?function Be(ie,ee){return ie.replace(pt,(Q,te)=>{const re=ee[te];return null!=re?String(re):`<${te}?>`})}(Oe,te):"Error";return new le(re,`${this.serviceName}: ${Ze} (${re}).`,te)}}const pt=/\{\$([^}]+)}/g;function rr(ie,ee){return Object.prototype.hasOwnProperty.call(ie,ee)}function Bt(ie){for(const ee in ie)if(Object.prototype.hasOwnProperty.call(ie,ee))return!1;return!0}function Gn(ie,ee){if(ie===ee)return!0;const Q=Object.keys(ie),te=Object.keys(ee);for(const re of Q){if(!te.includes(re))return!1;const Oe=ie[re],Ze=ee[re];if(Wn(Oe)&&Wn(Ze)){if(!Gn(Oe,Ze))return!1}else if(Oe!==Ze)return!1}for(const re of te)if(!Q.includes(re))return!1;return!0}function Wn(ie){return null!==ie&&"object"==typeof ie}function js(ie){const ee=[];for(const[Q,te]of Object.entries(ie))Array.isArray(te)?te.forEach(re=>{ee.push(encodeURIComponent(Q)+"="+encodeURIComponent(re))}):ee.push(encodeURIComponent(Q)+"="+encodeURIComponent(te));return ee.length?"&"+ee.join("&"):""}function Yi(ie){const ee={};return ie.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[re,Oe]=te.split("=");ee[decodeURIComponent(re)]=decodeURIComponent(Oe)}}),ee}function Jr(ie){const ee=ie.indexOf("?");if(!ee)return"";const Q=ie.indexOf("#",ee);return ie.substring(ee,Q>0?Q:void 0)}function Jo(ie,ee){const Q=new it(ie,ee);return Q.subscribe.bind(Q)}class it{constructor(ee,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{ee(this)}).catch(te=>{this.error(te)})}next(ee){this.forEachObserver(Q=>{Q.next(ee)})}error(ee){this.forEachObserver(Q=>{Q.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,Q,te){let re;if(void 0===ee&&void 0===Q&&void 0===te)throw new Error("Missing Observer.");re=function ms(ie,ee){if("object"!=typeof ie||null===ie)return!1;for(const Q of ee)if(Q in ie&&"function"==typeof ie[Q])return!0;return!1}(ee,["next","error","complete"])?ee:{next:ee,error:Q,complete:te},void 0===re.next&&(re.next=$n),void 0===re.error&&(re.error=$n),void 0===re.complete&&(re.complete=$n);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),Oe}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,ee)}sendOne(ee,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{Q(this.observers[ee])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $n(){}function _s(ie,ee=1e3,Q=2){const te=ee*Math.pow(Q,ie),re=Math.round(.5*te*(Math.random()-.5)*2);return Math.min(144e5,te+re)}function nn(ie){return ie&&ie._delegate?ie._delegate:ie}},4111:(je,q,O)=>{"use strict";var l=O(4650);let L=null;function A(){return L}const z=new l.OlP("DocumentToken");let W=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function oe(){return(0,l.LFG)(Z)}()},providedIn:"platform"}),n})();const G=new l.OlP("Location Initialized");let Z=(()=>{class n extends W{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return A().getBaseHref(this._doc)}onPopState(t){const r=A().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=A().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){K()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){K()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(z))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function De(){return new Z((0,l.LFG)(z))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function be(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function _e(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ke(n){return n&&"?"!==n[0]?"?"+n:n}let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(xe)},providedIn:"root"}),n})();const he=new l.OlP("appBaseHref");let xe=(()=>{class n extends de{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return be(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ke(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+Ke(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+Ke(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(W),l.LFG(he,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fe=(()=>{class n extends de{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=be(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+Ke(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+Ke(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(W),l.LFG(he,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=_e(Se(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ke(r))}normalize(t){return n.stripTrailingSlash(function fe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Se(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ke(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ke(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ke,n.joinWithSlash=be,n.stripTrailingSlash=_e,n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Te(){return new Ae((0,l.LFG)(de))}()},providedIn:"root"}),n})();function Se(n){return n.replace(/\/index.html$/,"")}const Ie={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var U=(()=>((U=U||{})[U.Decimal=0]="Decimal",U[U.Percent=1]="Percent",U[U.Currency=2]="Currency",U[U.Scientific=3]="Scientific",U))(),le=(()=>((le=le||{})[le.Decimal=0]="Decimal",le[le.Group=1]="Group",le[le.List=2]="List",le[le.PercentSign=3]="PercentSign",le[le.PlusSign=4]="PlusSign",le[le.MinusSign=5]="MinusSign",le[le.Exponential=6]="Exponential",le[le.SuperscriptingExponent=7]="SuperscriptingExponent",le[le.PerMille=8]="PerMille",le[le.Infinity=9]="Infinity",le[le.NaN=10]="NaN",le[le.TimeSeparator=11]="TimeSeparator",le[le.CurrencyDecimal=12]="CurrencyDecimal",le[le.CurrencyGroup=13]="CurrencyGroup",le))();function Rt(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===le.CurrencyDecimal)return t[l.wAp.NumberSymbols][le.Decimal];if(e===le.CurrencyGroup)return t[l.wAp.NumberSymbols][le.Group]}return r}const jr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Hs(n,e,t,r,i){const c=function Sn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],a=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=c[0],_=c[1]||"";t.posPre=f.substring(0,f.indexOf("#"));for(let T=0;T<_.length;T++){const S=_.charAt(T);"0"===S?t.minFrac=t.maxFrac=T+1:"#"===S?t.maxFrac=T+1:t.posSuf+=S}const b=f.split(",");if(t.gSize=b[1]?b[1].length:0,t.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,a){const T=i.length-t.posPre.length-t.posSuf.length,S=a.indexOf("#");t.negPre=a.substring(0,S).replace(/'/g,""),t.negSuf=a.slice(S+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Bt(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,U.Currency),Rt(e,le.MinusSign));return c.minFrac=function Pi(n){let e;const t=Ie[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),c.maxFrac=c.minFrac,function bn(n,e,t,r,i,a,c=!1){let f="",_=!1;if(isFinite(n)){let b=function Zu(n){let r,i,a,c,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(i<0&&(i=a),i+=+e.slice(a+1),e=e.substring(0,a)):i<0&&(i=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=a,r=[],c=0;a<=f;a++,c++)r[c]=Number(e.charAt(a))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(b=function vo(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(b));let T=e.minInt,S=e.minFrac,F=e.maxFrac;if(a){const Ue=a.match(jr);if(null===Ue)throw new Error(`${a} is not a valid digit info`);const Je=Ue[1],$e=Ue[3],We=Ue[5];null!=Je&&(T=Qn(Je)),null!=$e&&(S=Qn($e)),null!=We?F=Qn(We):null!=$e&&S>F&&(F=S)}!function Ji(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const a=Math.min(Math.max(e,i),t);let c=a+n.integerLen,f=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let S=c;S<r.length;S++)r[S]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=a+1),r[0]=0;for(let S=1;S<c;S++)r[S]=0}if(f>=5)if(c-1<0){for(let S=0;S>c;S--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,a);i++)r.push(0);let _=0!==a;const b=e+n.integerLen,T=r.reduceRight(function(S,F,j,J){return J[j]=(F+=S)<10?F:F-10,_&&(0===J[j]&&j>=b?J.pop():_=!1),F>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(b,S,F);let j=b.digits,J=b.integerLen;const ae=b.exponent;let me=[];for(_=j.every(Ue=>!Ue);J<T;J++)j.unshift(0);for(;J<0;J++)j.unshift(0);J>0?me=j.splice(J,j.length):(me=j,j=[0]);const Pe=[];for(j.length>=e.lgSize&&Pe.unshift(j.splice(-e.lgSize,j.length).join(""));j.length>e.gSize;)Pe.unshift(j.splice(-e.gSize,j.length).join(""));j.length&&Pe.unshift(j.join("")),f=Pe.join(Rt(t,r)),me.length&&(f+=Rt(t,i)+me.join("")),ae&&(f+=Rt(t,le.Exponential)+"+"+ae)}else f=Rt(t,le.Infinity);return f=n<0&&!_?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,c,e,le.CurrencyGroup,le.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function Qn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class Fa{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ei=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Fa(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),qs(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{qs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function qs(n,e){n.context.$implicit=e.item}let pn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Yu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){vr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){vr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Yu{constructor(){this.$implicit=null,this.ngIf=null}}function vr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}function ar(n,e){return new l.vHH(2100,!1)}class Td{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Pg{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const ys=new Pg,Fg=new Td;let Va=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,l.QGY)(t))return ys;if((0,l.F4k)(t))return Fg;throw ar()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),ws=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",a,c){if(!function Ba(n){return!(null==n||""===n||n!=n)}(t))return null;c=c||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let f=r||this._defaultCurrencyCode;"code"!==i&&(f="symbol"===i||"symbol-narrow"===i?function ms(n,e,t="en"){const r=function Qr(n){return(0,l.cg1)(n)[l.wAp.Currencies]}(t)[n]||Ie[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(f,"symbol"===i?"wide":"narrow",c):i);try{return Hs(function Rl(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),c,f,r,a)}catch(_){throw ar()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},n.\u0275pipe=l.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let Xn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Nr(n){return"server"===n}let kl=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new mf((0,l.LFG)(z),window)}),n})();class mf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Gr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=_i(this.window.history)||_i(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function _i(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class To extends class Md extends class H{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function V(n){L||(L=n)}(new To)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Wl(){return Co=Co||document.querySelector("base"),Co?Co.getAttribute("href"):null}();return null==t?null:function ni(n){lr=lr||document.createElement("a"),lr.setAttribute("href",n);const e=lr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Co=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ml(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let lr,Co=null;const wn=new l.OlP("TRANSITION_ID"),fc=[{provide:l.ip1,useFactory:function Od(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=A(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[wn,z,l.zs3],multi:!0}];let pc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Kl=new l.OlP("EventManagerPlugins");let xd=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Kl),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class gc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=A().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ra=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ia=(()=>{class n extends ra{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Rd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Rd))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(z))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Rd(n){A().remove(n)}const sa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kd=/%COMP%/g;function Jl(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Jl(n,i,t):(i=i.replace(kd,n),t.push(i))}return t}function Pd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let So=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new oa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Fd(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new Ld(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Jl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xd),l.LFG(ia),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class oa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(sa[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Za(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Za(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=sa[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=sa[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Pd(r)):this.eventManager.addEventListener(e,t,Pd(r))}}function Za(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Fd extends oa{constructor(e,t,r,i){super(e),this.component=r;const a=Jl(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Ln(n){return"_ngcontent-%COMP%".replace(kd,n)}(i+"-"+r.id),this.hostAttr=function Ql(n){return"_nghost-%COMP%".replace(kd,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ld extends oa{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Jl(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let br=(()=>{class n extends gc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(z))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Wa=["alt","control","meta","shift"],Ka={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ts={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ya=(()=>{class n extends gc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>A().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),Wa.forEach(b=>{const T=r.indexOf(b);T>-1&&(r.splice(T,1),c+=b+".")}),c+=a,0!=r.length||0===a.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=Ka[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Wa.forEach(c=>{c!==i&&(0,ts[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(z))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const nu=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function eu(){To.makeCurrent()},multi:!0},{provide:z,useFactory:function Ja(){return(0,l.RDi)(document),document},deps:[]}]),Ys=new l.OlP(""),Bd=[{provide:l.rWj,useClass:class yf{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(_){c=c||_,a--,0==a&&r(c)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?A().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Qs=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function No(){return new l.qLn},deps:[]},{provide:Kl,useClass:br,multi:!0,deps:[z,l.R0b,l.Lbi]},{provide:Kl,useClass:Ya,multi:!0,deps:[z]},{provide:So,useClass:So,deps:[xd,ia,l.AFp]},{provide:l.FYo,useExisting:So},{provide:ra,useExisting:ia},{provide:ia,useClass:ia,deps:[z]},{provide:xd,useClass:xd,deps:[Kl,l.R0b]},{provide:class ta{},useClass:pc,deps:[]},[]];let ru=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:wn,useExisting:l.AFp},fc]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ys,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Qs,...Bd],imports:[Xn,l.hGG]}),n})(),Is=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(z))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function aa(){return new Is((0,l.LFG)(z))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let fa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(qg),r},providedIn:"root"}),n})(),qg=(()=>{class n extends fa{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(z))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function $g(n){return new qg(n.get(z))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var fn=O(8996),ii=O(3269);function lt(...n){const e=(0,ii.yG)(n);return(0,fn.D)(n,e)}var en=O(7579);class on extends en.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const nl=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Zn=O(9751);const{isArray:Xs}=Array,{getPrototypeOf:lu,prototype:zg,keys:vc}=Object;function rl(n){if(1===n.length){const e=n[0];if(Xs(e))return{args:e,keys:null};if(function pa(n){return n&&"object"==typeof n&&lu(n)===zg}(e)){const t=vc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var As=O(4671),st=O(4004);const{isArray:il}=Array;function ga(n){return(0,st.U)(e=>function eo(n,e){return il(e)?n(...e):n(e)}(n,e))}function ma(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Dn=O(5403),bc=O(9672);function to(...n){const e=(0,ii.yG)(n),t=(0,ii.jO)(n),{args:r,keys:i}=rl(n);if(0===r.length)return(0,fn.D)([],e);const a=new Zn.y(function Zg(n,e,t=As.y){return r=>{wc(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let _=0;_<i;_++)wc(e,()=>{const b=(0,fn.D)(n[_],e);let T=!1;b.subscribe((0,Dn.x)(r,S=>{a[_]=S,T||(T=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>ma(i,c):As.y));return t?a.pipe(ga(t)):a}function wc(n,e,t){n?(0,bc.f)(t,n,e):e()}var uu=O(8189);function ns(...n){return function sl(){return(0,uu.J)(1)}()((0,fn.D)(n,(0,ii.yG)(n)))}var $r=O(8421);function Hi(n){return new Zn.y(e=>{(0,$r.Xf)(n()).subscribe(e)})}var Dc=O(9635),si=O(576);function oi(n,e){const t=(0,si.m)(n)?n:()=>n,r=i=>i.error(t());return new Zn.y(e?i=>e.schedule(r,0,i):r)}var ai=O(515),rs=O(727),ur=O(4482);function no(){return(0,ur.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Dn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ns extends Zn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ur.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rs.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Dn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rs.w0.EMPTY)}return e}refCount(){return no()(this)}}function Vn(n,e){return(0,ur.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,Dn.x)(r,_=>{i?.unsubscribe();let b=0;const T=a++;(0,$r.Xf)(n(_,T)).subscribe(i=(0,Dn.x)(r,S=>r.next(e?e(_,S,T,b++):S),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function $t(n){return n<=0?()=>ai.E:(0,ur.e)((e,t)=>{let r=0;e.subscribe((0,Dn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ro(...n){const e=(0,ii.yG)(n);return(0,ur.e)((t,r)=>{(e?ns(n,t,e):ns(n,t)).subscribe(r)})}function C(n,e){return(0,ur.e)((t,r)=>{let i=0;t.subscribe((0,Dn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var I=O(5577);function x(n){return(0,ur.e)((e,t)=>{let r=!1;e.subscribe((0,Dn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function $(n=ce){return(0,ur.e)((e,t)=>{let r=!1;e.subscribe((0,Dn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ce(){return new nl}function ye(n,e){const t=arguments.length>=2;return r=>r.pipe(n?C((i,a)=>n(i,a,r)):As.y,$t(1),t?x(e):$(()=>new nl))}function Me(n,e){return(0,si.m)(e)?(0,I.z)(n,e,1):(0,I.z)(n,1)}var He=O(8505);function ut(n){return(0,ur.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Dn.x)(t,void 0,void 0,c=>{a=(0,$r.Xf)(n(c,ut(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Dt(n,e,t,r,i){return(a,c)=>{let f=t,_=e,b=0;a.subscribe((0,Dn.x)(c,T=>{const S=b++;_=f?n(_,T,S):(f=!0,T),r&&c.next(_)},i&&(()=>{f&&c.next(_),c.complete()})))}}function Mt(n,e){return(0,ur.e)(Dt(n,e,arguments.length>=2,!0))}function mt(n){return n<=0?()=>ai.E:(0,ur.e)((e,t)=>{let r=[];e.subscribe((0,Dn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function An(n,e){const t=arguments.length>=2;return r=>r.pipe(n?C((i,a)=>n(i,a,r)):As.y,mt(1),t?x(e):$(()=>new nl))}function ro(n){return(0,ur.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ot="primary",is=Symbol("RouteTitle");class io{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function vi(n){return new io(n)}function _a(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Gi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!wf(n[i],e[i]))return!1;return!0}function wf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Wg(n){return Array.prototype.concat.apply([],n)}function Kg(n){return n.length>0?n[n.length-1]:null}function cr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ss(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,fn.D)(Promise.resolve(n)):lt(n)}const sw={exact:function Qg(n,e,t){if(!Lo(n.segments,e.segments)||!Fo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Qg(n.children[r],e.children[r],t))return!1;return!0},subset:ol},Ef={exact:function Tf(n,e){return Gi(n,e)},subset:function Jg(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>wf(n[t],e[t]))},ignored:()=>!0};function by(n,e,t){return sw[t.paths](n.root,e.root,t.matrixParams)&&Ef[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ol(n,e,t){return jd(n,e,e.segments,t)}function jd(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Lo(i,t)||e.hasChildren()||!Fo(i,t,r))}if(n.segments.length===t.length){if(!Lo(n.segments,t)||!Fo(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ol(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Lo(n.segments,i)&&Fo(n.segments,i,r)&&n.children[Ot])&&jd(n.children[Ot],e,a,r)}}function Fo(n,e,t){return e.every((r,i)=>Ef[t](n[i].parameters,r.parameters))}class al{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vi(this.queryParams)),this._queryParamMap}toString(){return Vo.serialize(this)}}class qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,cr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $d(this)}}class Hd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=vi(this.parameters)),this._parameterMap}toString(){return Sf(this)}}function Lo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Cf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Gd},providedIn:"root"}),n})();class Gd{parse(e){const t=new Sy(e);return new al(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ll(e.root,!0)}`,r=function Ey(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Tc(t)}=${Tc(i)}`).join("&"):`${Tc(t)}=${Tc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function wy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Vo=new Gd;function $d(n){return n.segments.map(e=>Sf(e)).join("/")}function ll(n,e){if(!n.hasChildren())return $d(n);if(e){const t=n.children[Ot]?ll(n.children[Ot],!1):"",r=[];return cr(n.children,(i,a)=>{a!==Ot&&r.push(`${a}:${ll(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Xg(n,e){let t=[];return cr(n.children,(r,i)=>{i===Ot&&(t=t.concat(e(r,i)))}),cr(n.children,(r,i)=>{i!==Ot&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ot?[ll(n.children[Ot],!1)]:[`${i}:${ll(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${$d(n)}/${t[0]}`:`${$d(n)}/(${t.join("//")})`}}function em(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tc(n){return em(n).replace(/%3B/gi,";")}function $i(n){return em(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bo(n){return decodeURIComponent(n)}function If(n){return Bo(n.replace(/\+/g,"%20"))}function Sf(n){return`${$i(n.path)}${function Dy(n){return Object.keys(n).map(e=>`;${$i(e)}=${$i(n[e])}`).join("")}(n.parameters)}`}const Ty=/^[^\/()?;=#]+/;function Af(n){const e=n.match(Ty);return e?e[0]:""}const ya=/^[^=?&#]+/,Iy=/^[^&#]+/;class Sy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ot]=new qt(e,t)),r}parseSegment(){const e=Af(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new Hd(Bo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Af(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Af(this.remaining);i&&(r=i,this.capture(r))}e[Bo(t)]=Bo(r)}parseQueryParam(e){const t=function Cy(n){const e=n.match(ya);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Nf(n){const e=n.match(Iy);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=If(t),a=If(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Af(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Ot);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Ot]:new qt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function va(n){return n.segments.length>0?new qt([],{[Ot]:n}):n}function os(n){const e={};for(const r of Object.keys(n.children)){const a=os(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function Cc(n){if(1===n.numberOfChildren&&n.children[Ot]){const e=n.children[Ot];return new qt(n.segments.concat(e.segments),e.children)}return n}(new qt(n.segments,e))}function so(n){return n instanceof al}function aw(n,e,t,r,i){if(0===t.length)return Ic(e.root,e.root,e.root,r,i);const a=function rm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sc(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return cr(a.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Sc(t,e,r)}(t);return a.toRoot()?Ic(e.root,e.root,new qt([],{}),r,i):function c(_){const b=function Of(n,e,t,r){if(n.isAbsolute)return new cu(e.root,!0,0);if(-1===r)return new cu(t,t===e.root,0);return function xf(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new cu(r,!1,i-a)}(t,r+(ul(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),T=b.processChildren?hl(b.segmentGroup,b.index,a.commands):dl(b.segmentGroup,b.index,a.commands);return Ic(e.root,b.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function ul(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function cl(n){return"object"==typeof n&&null!=n&&n.outlets}function Ic(n,e,t,r,i){let c,a={};r&&cr(r,(_,b)=>{a[b]=Array.isArray(_)?_.map(T=>`${T}`):`${_}`}),c=n===e?t:nm(n,e,t);const f=va(os(c));return new al(f,a,i)}function nm(n,e,t){const r={};return cr(n.children,(i,a)=>{r[a]=i===e?t:nm(i,e,t)}),new qt(n.segments,r)}class Sc{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ul(r[0]))throw new l.vHH(4003,!1);const i=r.find(cl);if(i&&i!==Kg(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function dl(n,e,t){if(n||(n=new qt([],{})),0===n.segments.length&&n.hasChildren())return hl(n,e,t);const r=function Ny(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(cl(f))break;const _=`${f}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!Zd(_,b,c))return a;r+=2}else{if(!Zd(_,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new qt(n.segments.slice(0,r.pathIndex),{});return a.children[Ot]=new qt(n.segments.slice(r.pathIndex),n.children),hl(a,0,i)}return r.match&&0===i.length?new qt(n.segments,{}):r.match&&!n.hasChildren()?Bn(n,e,t):r.match?hl(n,0,i):Bn(n,e,t)}function hl(n,e,t){if(0===t.length)return new qt(n.segments,{});{const r=function zd(n){return cl(n[0])?n[0].outlets:{[Ot]:n}}(t),i={};return cr(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=dl(n.children[c],e,a))}),cr(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new qt(n.segments,i)}}function Bn(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(cl(a)){const _=Rf(a.outlets);return new qt(r,_)}if(0===i&&ul(t[0])){r.push(new Hd(n.segments[e].path,im(t[0]))),i++;continue}const c=cl(a)?a.outlets[Ot]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&ul(f)?(r.push(new Hd(c,im(f))),i+=2):(r.push(new Hd(c,{})),i++)}return new qt(r,{})}function Rf(n){const e={};return cr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Bn(new qt([],{}),0,t))}),e}function im(n){const e={};return cr(n,(t,r)=>e[r]=`${t}`),e}function Zd(n,e,t){return n==t.path&&Gi(e,t.parameters)}class oo{constructor(e,t){this.id=e,this.url=t}}class kf extends oo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ms extends oo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wd extends oo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pf extends oo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class My extends oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lw extends oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uw extends oo{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ac extends oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kd extends oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yd{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qd{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ff{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oy{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jd{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sm{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qr{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Lf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Nc(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Nc(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=du(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return du(e,this._root).map(t=>t.value)}}function Nc(n,e){if(n===e.value)return e;for(const t of e.children){const r=Nc(n,t);if(r)return r}return null}function du(n,e){if(n===e.value)return[e];for(const t of e.children){const r=du(n,t);if(r.length)return r.unshift(e),r}return[]}class as{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ls(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Vf extends Lf{constructor(e,t){super(e),this.snapshot=t,Or(this,e)}toString(){return this.snapshot.toString()}}function eh(n,e){const t=function Os(n,e){const c=new ao([],{},{},"",{},Ot,e,null,n.root,-1,{});return new rh("",new as(c,[]))}(n,e),r=new on([new Hd("",{})]),i=new on({}),a=new on({}),c=new on({}),f=new on(""),_=new ba(r,i,c,f,a,Ot,e,t.root);return _.snapshot=t.root,new Vf(new as(_,[]),t)}class ba{constructor(e,t,r,i,a,c,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,st.U)(b=>b[is]))??lt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(e=>vi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(e=>vi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function th(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function nh(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ao{constructor(e,t,r,i,a,c,f,_,b,T,S,F){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.[is],this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=T,this._correctedLastPathIndex=F??T,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rh extends Lf{constructor(e,t){super(t),this.url=e,Or(this,t)}toString(){return ih(this._root)}}function Or(n,e){e.value._routerState=n,e.children.forEach(t=>Or(n,t))}function ih(n){const e=n.children.length>0?` { ${n.children.map(ih).join(", ")} } `:"";return`${n.value}${e}`}function Mc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Gi(e.params,t.params)||n.params.next(t.params),function Po(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Gi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function sh(n,e){const t=Gi(n.params,e.params)&&function Ec(n,e){return Lo(n,e)&&n.every((t,r)=>Gi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||sh(n.parent,e.parent))}function Uo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function om(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Uo(n,r,i);return Uo(n,r)})}(n,e,t);return new as(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Uo(n,f)),c}}const r=function am(n){return new ba(new on(n.url),new on(n.params),new on(n.queryParams),new on(n.fragment),new on(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Uo(n,a));return new as(r,i)}}const Bf="ngNavigationCancelingError";function hu(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=so(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lm(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function lm(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Bf]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Uf(n){return um(n)&&so(n.url)}function um(n){return n&&n[Bf]}class cm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new y,this.attachRef=null}}let y=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new cm,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const p=!1;let m=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=i||Ot,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,p);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,p);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,p);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,p);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new w(t,f,i.injector);if(r&&function M(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(c);this.activated=i.createComponent(b,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(y),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class w{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ba?this.route:e===y?this.childContexts:this.parent.get(e,t)}}let k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[m],encapsulation:2}),n})();function se(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function oh(n){const e=n.children&&n.children.map(oh),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=k),t}function wi(n){return n.outlet||Ot}function Oc(n,e){const t=n.filter(r=>wi(r)===e);return t.push(...n.filter(r=>wi(r)!==e)),t}function xc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ah{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Mc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ls(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),cr(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ls(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ls(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ls(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new sm(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Oy(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Mc(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),Mc(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=xc(i.snapshot),_=f?.get(l._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class hm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rc{constructor(e,t){this.component=e,this.route=t}}function xy(n,e,t){const r=n._root;return kc(r,e?e._root:null,t,[r.value])}function fl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function kc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=ls(e);return n.children.forEach(c=>{(function dw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function Ry(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Lo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Lo(n.url,e.url)||!Gi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sh(n,e)||!Gi(n.queryParams,e.queryParams);default:return!sh(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new hm(r)):(a.data=c.data,a._resolvedData=c._resolvedData),kc(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Rc(f.outlet.component,c))}else c&&lh(e,f,i),i.canActivateChecks.push(new hm(r)),kc(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),cr(a,(c,f)=>lh(c,t.getContext(f),i)),i}function lh(n,e,t){const r=ls(n),i=n.value;cr(r,(a,c)=>{lh(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Rc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function uh(n){return"function"==typeof n}function fm(n){return n instanceof nl||"EmptyError"===n?.name}const pm=Symbol("INITIAL_VALUE");function ch(){return Vn(n=>to(n.map(e=>e.pipe($t(1),Ro(pm)))).pipe((0,st.U)(e=>{for(const t of e)if(!0!==t){if(t===pm)return pm;if(!1===t||t instanceof al)return t}return!0}),C(e=>e!==pm),$t(1)))}function Di(n){return(0,Dc.z)((0,He.b)(e=>{if(so(e))throw hu(0,e)}),(0,st.U)(e=>!0===e))}const gm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mm(n,e,t,r,i){const a=zr(n,e,t);return a.matched?function Ly(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?lt(i.map(c=>{const f=fl(c,n);return ss(function eC(n){return n&&uh(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(ch(),Di()):lt(!0)}(r=se(e,r),e,t).pipe((0,st.U)(c=>!0===c?a:{...gm})):lt(a)}function zr(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...gm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||_a)(t,n,e);if(!i)return{...gm};const a={};cr(i.posParams,(f,_)=>{a[_]=f.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function pu(n,e,t,r,i="corrected"){if(t.length>0&&function cC(n,e,t){return t.some(r=>_m(n,e,r)&&wi(r)!==Ot)}(n,t,r)){const c=new qt(e,function uC(n,e,t,r){const i={};i[Ot]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&wi(a)!==Ot){const c=new qt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[wi(a)]=c}return i}(n,e,r,new qt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function gw(n,e,t){return t.some(r=>_m(n,e,r))}(n,t,r)){const c=new qt(n.segments,function pw(n,e,t,r,i,a){const c={};for(const f of r)if(_m(n,t,f)&&!i[wi(f)]){const _=new qt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[wi(f)]=_}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new qt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function _m(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Vy(n,e,t,r){return!!(wi(n)===r||r!==Ot&&_m(e,t,n))&&("**"===n.path||zr(e,n,t).matched)}function mw(n,e,t){return 0===e.length&&!n.children[t]}const Hf=!1;class ym{constructor(e){this.segmentGroup=e||null}}class _w{constructor(e){this.urlTree=e}}function Gf(n){return oi(new ym(n))}function yw(n){return oi(new _w(n))}class hC{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=pu(this.urlTree.root,[],[],this.config).segmentGroup,t=new qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ot).pipe((0,st.U)(a=>this.createUrlTree(os(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ut(a=>{if(a instanceof _w)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof ym?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ot).pipe((0,st.U)(i=>this.createUrlTree(os(i),e.queryParams,e.fragment))).pipe(ut(i=>{throw i instanceof ym?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,Hf)}createUrlTree(e,t,r){const i=va(e);return new al(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,st.U)(a=>new qt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,fn.D)(i).pipe(Me(a=>{const c=r.children[a],f=Oc(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,st.U)(_=>({segment:_,outlet:a})))}),Mt((a,c)=>(a[c.outlet]=c.segment,a),{}),An())}expandSegment(e,t,r,i,a,c){return(0,fn.D)(r).pipe(Me(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(ut(b=>{if(b instanceof ym)return lt(null);throw b}))),ye(f=>!!f),ut((f,_)=>{if(fm(f))return mw(t,i,a)?lt(new qt([],{})):Gf(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return Vy(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):Gf(t):Gf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?yw(a):this.lineralizeSegments(r,a).pipe((0,I.z)(c=>{const f=new qt(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:T}=zr(t,i,a);if(!f)return Gf(t);const S=this.applyRedirectCommands(_,i.redirectTo,T);return i.redirectTo.startsWith("/")?yw(S):this.lineralizeSegments(i,S).pipe((0,I.z)(F=>this.expandSegment(e,t,r,F.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=se(r,e),r.loadChildren?(r._loadedRoutes?lt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,st.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new qt(i,{})))):lt(new qt(i,{}))):mm(t,r,i,e).pipe(Vn(({matched:c,consumedSegments:f,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,I.z)(T=>{const S=T.injector??e,F=T.routes,{segmentGroup:j,slicedSegments:J}=pu(t,f,_,F),ae=new qt(j.segments,j.children);if(0===J.length&&ae.hasChildren())return this.expandChildren(S,F,ae).pipe((0,st.U)(Je=>new qt(f,Je)));if(0===F.length&&0===J.length)return lt(new qt(f,{}));const me=wi(r)===a;return this.expandSegment(S,ae,F,J,me?Ot:a,!0).pipe((0,st.U)(Ue=>new qt(f.concat(Ue.segments),Ue.children)))})):Gf(t)))}getChildConfig(e,t,r){return t.children?lt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?lt({routes:t._loadedRoutes,injector:t._loadedInjector}):function lC(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?lt(!0):lt(i.map(c=>{const f=fl(c,n);return ss(function ky(n){return n&&uh(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(ch(),Di())}(e,t,r).pipe((0,I.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,He.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function dh(n){return oi(lm(Hf,3))}())):lt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return lt(r);if(i.numberOfChildren>1||!i.children[Ot])return oi(new l.vHH(4e3,Hf));i=i.children[Ot]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new al(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return cr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return cr(t.children,(f,_)=>{c[_]=this.createSegmentGroup(e,f,r,i)}),new qt(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,Hf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class kM{}class wa{constructor(e,t,r,i,a,c,f,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f,this.urlSerializer=_}recognize(){const e=pu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ot).pipe((0,st.U)(t=>{if(null===t)return null;const r=new ao([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new as(r,t),a=new rh(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=th(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,fn.D)(Object.keys(r.children)).pipe(Me(i=>{const a=r.children[i],c=Oc(t,i);return this.processSegmentGroup(e,c,a,i)}),Mt((i,a)=>i&&a?(i.push(...a),i):null),function Mr(n,e=!1){return(0,ur.e)((t,r)=>{let i=0;t.subscribe((0,Dn.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),x(null),An(),(0,st.U)(i=>{if(null===i)return null;const a=Hy(i);return function Uy(n){n.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,fn.D)(t).pipe(Me(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,a)),ye(c=>!!c),ut(c=>{if(fm(c))return mw(r,i,a)?lt([]):lt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Vy(t,r,i,a))return lt(null);let c;if("**"===t.path){const f=i.length>0?Kg(i).parameters:{},_=bw(r)+i.length;c=lt({snapshot:new ao(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vm(t),wi(t),t.component??t._loadedComponent??null,t,hh(r),_,bm(t),_),consumedSegments:[],remainingSegments:[]})}else c=mm(r,t,i,e).pipe((0,st.U)(({matched:f,consumedSegments:_,remainingSegments:b,parameters:T})=>{if(!f)return null;const S=bw(r)+_.length;return{snapshot:new ao(_,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vm(t),wi(t),t.component??t._loadedComponent??null,t,hh(r),S,bm(t),S),consumedSegments:_,remainingSegments:b}}));return c.pipe(Vn(f=>{if(null===f)return lt(null);const{snapshot:_,consumedSegments:b,remainingSegments:T}=f;e=t._injector??e;const S=t._loadedInjector??e,F=function jy(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:j,slicedSegments:J}=pu(r,b,T,F.filter(me=>void 0===me.redirectTo),this.relativeLinkResolution);if(0===J.length&&j.hasChildren())return this.processChildren(S,F,j).pipe((0,st.U)(me=>null===me?null:[new as(_,me)]));if(0===F.length&&0===J.length)return lt([new as(_,[])]);const ae=wi(t)===a;return this.processSegment(S,F,j,J,ae?Ot:a).pipe((0,st.U)(me=>null===me?null:[new as(_,me)]))}))}}function pC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Hy(n){const e=[],t=new Set;for(const r of n){if(!pC(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Hy(r.children);e.push(new as(r.value,i))}return e.filter(r=>!t.has(r))}function hh(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function bw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function vm(n){return n.data||{}}function bm(n){return n.resolve||{}}function FM(n,e){return(0,I.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return lt(t);let a=0;return(0,fn.D)(i).pipe(Me(c=>function fh(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!wm(i)&&(a[is]=i.title),function Gy(n,e,t,r){const i=function Ew(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return lt({});const a={};return(0,fn.D)(i).pipe((0,I.z)(c=>function mC(n,e,t,r){const i=xc(e)??r,a=fl(n,i);return ss(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(ye(),(0,He.b)(f=>{a[c]=f}))),mt(1),function ko(n){return(0,st.U)(()=>n)}(a),ut(c=>fm(c)?ai.E:oi(c)))}(a,n,e,r).pipe((0,st.U)(c=>(n._resolvedData=c,n.data=th(n,t).resolve,i&&wm(i)&&(n.data[is]=i.title),null)))}(c.route,r,n,e)),(0,He.b)(()=>a++),mt(1),(0,I.z)(c=>a===i.length?lt(t):ai.E))})}function wm(n){return"string"==typeof n.title||null===n.title}function $y(n){return Vn(e=>{const t=n(e);return t?(0,fn.D)(t).pipe((0,st.U)(()=>e)):lt(e)})}let Tw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Ot);return r}getResolvedTitleForRoute(t){return t.data[is]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Cw)},providedIn:"root"}),n})(),Cw=(()=>{class n extends Tw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Is))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _C{}class Iw extends class yC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const $f=new l.OlP("",{providedIn:"root",factory:()=>({})}),zy=new l.OlP("ROUTES");let Zy=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return lt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ss(t.loadComponent()).pipe((0,He.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),ro(()=>{this.componentLoaders.delete(t)})),i=new Ns(r,()=>new en.x).pipe(no());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,st.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,b,T=!1;Array.isArray(f)?b=f:(_=f.create(t).injector,b=Wg(_.get(zy,[],l.XFs.Self|l.XFs.Optional)));return{routes:b.map(oh),injector:_}}),ro(()=>{this.childrenLoaders.delete(r)})),c=new Ns(a,()=>new en.x).pipe(no());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return ss(t()).pipe((0,I.z)(r=>r instanceof l.YKP||Array.isArray(r)?lt(r):(0,fn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Sw{}class Aw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Nw(n){throw n}function Mw(n,e,t){return e.parse("/")}const vC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ow(){const n=(0,l.f3M)(Cf),e=(0,l.f3M)(y),t=(0,l.f3M)(Ae),r=(0,l.f3M)(l.zs3),i=(0,l.f3M)(l.Sil),a=(0,l.f3M)(zy,{optional:!0})??[],c=(0,l.f3M)($f,{optional:!0})??{},f=(0,l.f3M)(Cw),_=(0,l.f3M)(Tw,{optional:!0}),b=(0,l.f3M)(Sw,{optional:!0}),T=(0,l.f3M)(_C,{optional:!0}),S=new Dr(null,n,e,t,r,i,Wg(a));return b&&(S.urlHandlingStrategy=b),T&&(S.routeReuseStrategy=T),S.titleStrategy=_??f,function Em(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,S),S}let Dr=(()=>{class n{constructor(t,r,i,a,c,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new en.x,this.errorHandler=Nw,this.malformedUriErrorHandler=Mw,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>lt(void 0),this.urlHandlingStrategy=new Aw,this.routeReuseStrategy=new Iw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(Zy),this.configLoader.onLoadEndListener=F=>this.triggerEvent(new Qd(F)),this.configLoader.onLoadStartListener=F=>this.triggerEvent(new Yd(F)),this.ngModule=c.get(l.h0i),this.console=c.get(l.c2e);const S=c.get(l.R0b);this.isNgZoneEnabled=S instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Yg(){return new al(new qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eh(this.currentUrlTree,this.rootComponentType),this.transitions=new on({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(C(i=>0!==i.id),(0,st.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Vn(i=>{let a=!1,c=!1;return lt(i).pipe((0,He.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Vn(f=>{const _=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Wy(f.source)&&(this.browserUrlTree=f.extractedUrl),lt(f).pipe(Vn(S=>{const F=this.transitions.getValue();return r.next(new kf(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),F!==this.transitions.getValue()?ai.E:Promise.resolve(S)}),function fC(n,e,t,r){return Vn(i=>function pl(n,e,t,r,i){return new hC(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,st.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,He.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},i.urlAfterRedirects=S.urlAfterRedirects}),function Dw(n,e,t,r,i,a){return(0,I.z)(c=>function PM(n,e,t,r,i,a,c="emptyOnly",f="legacy"){return new wa(n,e,t,r,i,c,f,a).recognize().pipe(Vn(_=>null===_?function vw(n){return new Zn.y(e=>e.error(n))}(new kM):lt(_)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,a).pipe((0,st.U)(f=>({...c,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,He.b)(S=>{if(i.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(j,S)}this.browserUrlTree=S.urlAfterRedirects}const F=new My(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(F)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:j,source:J,restoredState:ae,extras:me}=f,Pe=new kf(F,this.serializeUrl(j),J,ae);r.next(Pe);const Ue=eh(j,this.rootComponentType).snapshot;return lt(i={...f,targetSnapshot:Ue,urlAfterRedirects:j,extras:{...me,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),ai.E}),(0,He.b)(f=>{const _=new lw(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,st.U)(f=>i={...f,guards:xy(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function nC(n,e){return(0,I.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?lt({...t,guardsResult:!0}):function rC(n,e,t,r){return(0,fn.D)(n).pipe((0,I.z)(i=>function aC(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?lt(a.map(f=>{const _=xc(e)??i,b=fl(f,_);return ss(function jf(n){return n&&uh(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):_.runInContext(()=>b(n,e,t,r))).pipe(ye())})).pipe(ch()):lt(!0)}(i.component,i.route,t,e,r)),ye(i=>!0!==i,!0))}(c,r,i,n).pipe((0,I.z)(f=>f&&function hw(n){return"boolean"==typeof n}(f)?function Fy(n,e,t,r){return(0,fn.D)(e).pipe(Me(i=>ns(function sC(n,e){return null!==n&&e&&e(new Ff(n)),lt(!0)}(i.route.parent,r),function iC(n,e){return null!==n&&e&&e(new Jd(n)),lt(!0)}(i.route,r),function fw(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function cw(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Hi(()=>lt(c.guards.map(_=>{const b=xc(c.node)??t,T=fl(_,b);return ss(function Py(n){return n&&uh(n.canActivateChild)}(T)?T.canActivateChild(r,n):b.runInContext(()=>T(r,n))).pipe(ye())})).pipe(ch())));return lt(a).pipe(ch())}(n,i.path,t),function oC(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return lt(!0);const i=r.map(a=>Hi(()=>{const c=xc(e)??t,f=fl(a,c);return ss(function XT(n){return n&&uh(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(ye())}));return lt(i).pipe(ch())}(n,i.route,t))),ye(i=>!0!==i,!0))}(r,a,n,e):lt(f)),(0,st.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,He.b)(f=>{if(i.guardsResult=f.guardsResult,so(f.guardsResult))throw hu(0,f.guardsResult);const _=new uw(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),C(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),$y(f=>{if(f.guards.canActivateChecks.length)return lt(f).pipe((0,He.b)(_=>{const b=new Ac(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),Vn(_=>{let b=!1;return lt(_).pipe(FM(this.paramsInheritanceStrategy,this.ngModule.injector),(0,He.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,He.b)(_=>{const b=new Kd(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),$y(f=>{const _=b=>{const T=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,He.b)(S=>{b.component=S}),(0,st.U)(()=>{})));for(const S of b.children)T.push(..._(S));return T};return to(_(f.targetSnapshot.root)).pipe(x(),$t(1))}),$y(()=>this.afterPreactivation()),(0,st.U)(f=>{const _=function bi(n,e,t){const r=Uo(n,e._root,t?t._root:void 0);return new Vf(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:_}}),(0,He.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,st.U)(r=>(new ah(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,He.b)({next(){a=!0},complete(){a=!0}}),ro(()=>{a||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ut(f=>{if(c=!0,um(f)){Uf(f)||(this.navigated=!0,this.restoreHistory(i,!0));const _=new Wd(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(_),Uf(f)){const b=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wy(i.source)};this.scheduleNavigation(b,"imperative",null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Pf(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(_);try{i.resolve(this.errorHandler(f))}catch(b){i.reject(b)}}return ai.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(oh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:_}=r,b=i||this.routerState.root,T=_?this.currentUrlTree.fragment:c;let S=null;switch(f){case"merge":S={...this.currentUrlTree.queryParams,...a};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=a||null}return null!==S&&(S=this.removeEmptyProps(S)),aw(b,this.currentUrlTree,t,S,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=so(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function xw(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...vC}:!1===r?{...VM}:r,so(t))return by(this.currentUrlTree,t,i);const a=this.parseUrl(t);return by(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ms(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let f,_,b;c?(f=c.resolve,_=c.reject,b=c.promise):b=new Promise((F,j)=>{f=F,_=j});const T=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),S=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:T,targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(F=>Promise.reject(F))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new Wd(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return Ow()},providedIn:"root"}),n})();function Wy(n){return"imperative"!==n}let qf=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new en.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Dr),l.Y36(ba),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),zf=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new en.x,this.subscription=t.events.subscribe(a=>{a instanceof Ms&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,c){return!!(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Dr),l.Y36(ba),l.Y36(de))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),Zf=(()=>{class n{constructor(t,r,i,a,c,f){this.router=t,this.element=r,this.renderer=i,this.cdr=a,this.link=c,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof Ms&&this.update()})}ngAfterContentInit(){lt(this.links.changes,this.linksWithHrefs.changes,lt(null)).pipe((0,uu.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,fn.D)(t).pipe((0,uu.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Tm(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Dr),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(qf,8),l.Y36(zf,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,qf,5),l.Suo(i,zf,5)),2&t){let a;l.iGM(a=l.CRH())&&(r.links=a),l.iGM(a=l.CRH())&&(r.linksWithHrefs=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),n})();class Ky{}let Yy=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(C(t=>t instanceof Ms),Me(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,f=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,fn.D)(i).pipe((0,uu.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):lt(null);const a=i.pipe((0,I.z)(c=>null===c?lt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,fn.D)([a,c]).pipe((0,uu.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Dr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Ky),l.LFG(Zy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pc=new l.OlP("");let kw=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof kf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ms&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new qr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Fc(n,e){return{\u0275kind:n,\u0275providers:e}}function Kf(n){return[{provide:zy,multi:!0,useValue:n}]}function DC(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(Dr),i=n.get(Qy);1===n.get(Jy)&&r.initialNavigation(),n.get(lo,null,l.XFs.Optional)?.setUpPreloading(),n.get(Pc,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const Qy=new l.OlP("",{factory:()=>new en.x}),Jy=new l.OlP("",{providedIn:"root",factory:()=>1});const lo=new l.OlP("");function CC(n){return Fc(0,[{provide:lo,useExisting:Yy},{provide:Ky,useExisting:n}])}const Lw=new l.OlP("ROUTER_FORROOT_GUARD"),SC=[Ae,{provide:Cf,useClass:Gd},{provide:Dr,useFactory:Ow},y,{provide:ba,useFactory:function Pw(n){return n.routerState.root},deps:[Dr]},Zy];function Vw(){return new l.PXZ("Router",Dr)}let Bw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[SC,[],Kf(t),{provide:Lw,useFactory:Uw,deps:[[Dr,new l.FiY,new l.tp0]]},{provide:$f,useValue:r||{}},r?.useHash?{provide:de,useClass:Fe}:{provide:de,useClass:xe},{provide:Pc,useFactory:()=>{const n=(0,l.f3M)(Dr),e=(0,l.f3M)(kl),t=(0,l.f3M)($f);return t.scrollOffset&&e.setOffset(t.scrollOffset),new kw(n,e,t)}},r?.preloadingStrategy?CC(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Vw},r?.initialNavigation?jw(r):[],[{provide:Xy,useFactory:DC},{provide:l.tb,multi:!0,useExisting:Xy}]]}}static forChild(t){return{ngModule:n,providers:[Kf(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Lw,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[k]}),n})();function Uw(n){return"guarded"}function jw(n){return["disabled"===n.initialNavigation?Fc(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Dr);return()=>{e.setUpLocationChangeListener()}}},{provide:Jy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Fc(2,[{provide:Jy,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(G,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const c=e.get(Dr),f=e.get(Qy);(function i(a){e.get(Dr).events.pipe(C(f=>f instanceof Ms||f instanceof Wd||f instanceof Pf),(0,st.U)(f=>f instanceof Ms||f instanceof Wd&&(0===f.code||1===f.code)&&null),C(f=>null!==f),$t(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),c.afterPreactivation=()=>(a(!0),r||f.closed?lt(void 0):f),c.initialNavigation()}))}}]).\u0275providers:[]]}const Xy=new l.OlP("");let Gw=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),gu=(()=>{class n extends Gw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Ea=new l.OlP("NgValueAccessor"),$w={provide:Ea,useExisting:(0,l.Gpc)(()=>ph),multi:!0},Lc=new l.OlP("CompositionEventMode");let ph=(()=>{class n extends Gw{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qw(){const n=A()?A().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Lc,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([$w]),l.qOj]}),n})();function Ta(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function zw(n){return null!=n&&"number"==typeof n.length}const qi=new l.OlP("NgValidators"),Vc=new l.OlP("NgAsyncValidators"),HM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class uo{static min(e){return function tv(n){return e=>{if(Ta(e.value)||Ta(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function RC(n){return e=>{if(Ta(e.value)||Ta(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Zw(n){return Ta(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Bc(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Ww(n){return Ta(n.value)||HM.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function nv(n){return e=>Ta(e.value)||!zw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Yf(n){return e=>zw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Kw(n){if(!n)return Qf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ta(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return e1(e)}static composeAsync(e){return iv(e)}}function Qf(n){return null}function Yw(n){return null!=n}function Qw(n){return(0,l.QGY)(n)?(0,fn.D)(n):n}function Jw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Xw(n,e){return e.map(t=>t(n))}function rv(n){return n.map(e=>function kC(n){return!n.validate}(e)?e:t=>e.validate(t))}function e1(n){if(!n)return null;const e=n.filter(Yw);return 0==e.length?null:function(t){return Jw(Xw(t,e))}}function Im(n){return null!=n?e1(rv(n)):null}function iv(n){if(!n)return null;const e=n.filter(Yw);return 0==e.length?null:function(t){return function Hw(...n){const e=(0,ii.jO)(n),{args:t,keys:r}=rl(n),i=new Zn.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let _=c,b=c;for(let T=0;T<c;T++){let S=!1;(0,$r.Xf)(t[T]).subscribe((0,Dn.x)(a,F=>{S||(S=!0,b--),f[T]=F},()=>_--,void 0,()=>{(!_||!S)&&(b||a.next(r?ma(r,f):f),a.complete())}))}});return e?i.pipe(ga(e)):i}(Xw(t,e).map(Qw)).pipe((0,st.U)(Jw))}}function Jf(n){return null!=n?iv(rv(n)):null}function PC(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Sm(n){return n._rawValidators}function t1(n){return n._rawAsyncValidators}function n1(n){return n?Array.isArray(n)?n:[n]:[]}function gl(n,e){return Array.isArray(n)?n.includes(e):n===e}function sv(n,e){const t=n1(e);return n1(n).forEach(i=>{gl(t,i)||t.push(i)}),t}function ov(n,e){return n1(e).filter(t=>!gl(n,t))}class Xf{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Im(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Jf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Un extends Xf{get formDirective(){return null}get path(){return null}}class ml extends Xf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class r1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let gh=(()=>{class n extends r1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ml,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),mh=(()=>{class n extends r1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Un,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const _h="VALID",tp="INVALID",yh="PENDING",Uc="DISABLED";function f1(n){return(uv(n)?n.validators:n)||null}function VC(n){return Array.isArray(n)?Im(n):n||null}function p1(n,e){return(uv(e)?e.asyncValidators:n)||null}function BC(n){return Array.isArray(n)?Jf(n):n||null}function uv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function UC(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")}function jC(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,"")})}class cv{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=VC(this._rawValidators),this._composedAsyncValidatorFn=BC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_h}get invalid(){return this.status===tp}get pending(){return this.status==yh}get disabled(){return this.status===Uc}get enabled(){return this.status!==Uc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=VC(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=BC(e)}addValidators(e){this.setValidators(sv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ov(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ov(e,this._rawAsyncValidators))}hasValidator(e){return gl(this._rawValidators,e)}hasAsyncValidator(e){return gl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=yh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Uc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_h,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_h||this.status===yh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uc:_h}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=yh,this._hasOwnPendingAsyncValidator=!0;const t=Qw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Uc:this.errors?tp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yh)?yh:this._anyControlsHaveStatus(tp)?tp:_h}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Nm extends cv{constructor(e,t,r){super(f1(t),p1(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){jC(this,0,e),Object.keys(e).forEach(r=>{UC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Mm extends Nm{}function Hc(n,e){Ca(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function GC(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&dv(n,e)})}(n,e),function qC(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function $C(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&dv(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function HC(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function rp(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ip(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function vh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ca(n,e){const t=Sm(n);null!==e.validator?n.setValidators(PC(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=t1(n);null!==e.asyncValidator?n.setAsyncValidators(PC(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();vh(e._rawValidators,i),vh(e._rawAsyncValidators,i)}function ip(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Sm(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=t1(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return vh(e._rawValidators,r),vh(e._rawAsyncValidators,r),t}function dv(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function v1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function mv(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const lp=class extends cv{constructor(e=null,t,r){super(f1(t),p1(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=mv(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){v1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){v1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){mv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let up=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const C1={provide:Ea,useExisting:(0,l.Gpc)(()=>Rm),multi:!0};let Rm=(()=>{class n extends gu{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([C1]),l.qOj]}),n})(),S1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const cp=new l.OlP("NgModelWithFormControlWarning"),KM={provide:Un,useExisting:(0,l.Gpc)(()=>$c)};let $c=(()=>{class n extends Un{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ip(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Hc(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){rp(t.control||null,t,!1),function pv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function fv(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(rp(r||null,t),(n=>n instanceof lp)(i)&&(Hc(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function g1(n,e){Ca(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Om(n,e){return ip(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ca(this.form,this),this._oldForm&&ip(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(qi,10),l.Y36(Vc,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([KM]),l.qOj,l.TTD]}),n})();const eI={provide:ml,useExisting:(0,l.Gpc)(()=>_u)};let _u=(()=>{class n extends ml{constructor(t,r,i,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function op(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===ph?t=a:function _1(n){return Object.getPrototypeOf(n.constructor)===gu}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function bh(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function np(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Un,13),l.Y36(qi,10),l.Y36(Vc,10),l.Y36(Ea,10),l.Y36(cp,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([eI]),l.qOj,l.TTD]}),n})();const vv={provide:Ea,useExisting:(0,l.Gpc)(()=>qc),multi:!0};function hp(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let qc=(()=>{class n extends gu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=hp(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function YM(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([vv]),l.qOj]}),n})(),O1=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(hp(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(qc,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const x1={provide:Ea,useExisting:(0,l.Gpc)(()=>fp),multi:!0};function bv(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let fp=(()=>{class n extends gu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));r=(a,c)=>{a._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const c=a;for(let f=0;f<c.length;f++){const b=this._getOptionValue(c[f].value);i.push(b)}}else{const c=r.options;for(let f=0;f<c.length;f++){const _=c[f];if(_.selected){const b=this._getOptionValue(_.value);i.push(b)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function R1(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([x1]),l.qOj]}),n})(),Ho=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(bv(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(bv(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(fp,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),B1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[S1]}),n})(),uI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[B1]}),n})(),U1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:cp,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[B1]}),n})();class j1 extends cv{constructor(e,t,r){super(f1(t),p1(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){jC(this,0,e),e.forEach((r,i)=>{UC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function cI(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let yu=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return cI(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new Nm(i,a)}record(t,r=null){const i=this._reduceControls(t);return new Mm(i,r)}control(t,r,i){let a={};return this.useNonNullable?(cI(r)?a=r:(a.validators=r,a.asyncValidators=i),new lp(t,{...a,nonNullable:!0})):new lp(t,r,i)}array(t,r,i){const a=t.map(c=>this._createControl(c));return new j1(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof lp||t instanceof cv?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:U1}),n})();var dI=O(6451),xs=O(5363),_p=O(6063);class Ei extends en.x{constructor(e=1/0,t=1/0,r=_p.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)f=_;f&&r.splice(0,f+1)}}}var zc=O(3099);function yp(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,zc.B)({connector:()=>new Ei(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Rs(n,e){return(0,si.m)(e)?Vn(()=>n,e):Vn(()=>n)}var vp=O(9468),hr=O(5813),Ti=O(2011);O(5867);var Ne=O(5861),Wc=O(9681),Dp=O(4859),an=O(2090),Ia=O(1877);const q1=new Map,Pm={activated:!1,tokenObservers:[]},Fm={initialized:!1,enabled:!1};function xr(n){return q1.get(n)||Pm}function $o(n,e){q1.set(n,e)}function Kc(){return Fm}class Sv{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ne.Z)(function*(){t.stop();try{t.pending=new an.BH,yield function K1(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new an.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ci=new an.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Av(n){if(!xr(n).activated)throw Ci.create("use-before-activation",{appName:n.name})}function Bm(n,e){return Um.apply(this,arguments)}function Um(){return(Um=(0,Ne.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const j=yield c.getHeartbeatsHeader();j&&(a["X-Firebase-Client"]=j)}const f={method:"POST",body:JSON.stringify(e),headers:a};let _,b;try{_=yield fetch(n,f)}catch(j){throw Ci.create("fetch-network-error",{originalErrorMessage:null===(r=j)||void 0===r?void 0:r.message})}if(200!==_.status)throw Ci.create("fetch-status-error",{httpStatus:_.status});try{b=yield _.json()}catch(j){throw Ci.create("fetch-parse-error",{originalErrorMessage:null===(i=j)||void 0===i?void 0:i.message})}const T=b.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw Ci.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const S=1e3*Number(T[1]),F=Date.now();return{token:b.token,expireTimeMillis:F+S,issuedAtTimeMillis:F}})).apply(this,arguments)}function Y1(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ch="firebase-app-check-store";let Tp=null;function Ov(){return Tp||(Tp=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(Ci.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ch,{keyPath:"compositeKey"})}}catch(r){e(Ci.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Tp)}function Rv(){return(Rv=(0,Ne.Z)(function*(n,e){const r=(yield Ov()).transaction(Ch,"readwrite"),a=r.objectStore(Ch).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=_=>{c()},r.onerror=_=>{var b;f(Ci.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const Cp=new Ia.Yd("@firebase/app-check");function Pv(n,e){return(0,an.hl)()?function rO(n,e){return function xv(n,e){return Rv.apply(this,arguments)}(function eD(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Cp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function rD(){return Kc().enabled}function iD(){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,Ne.Z)(function*(){const n=Kc();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const sD={error:"UNKNOWN_ERROR"};function iO(n){return an.US.encodeString(JSON.stringify(n),!1)}function Ih(n){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,Ne.Z)(function*(n,e=!1){const t=n.app;Av(t);const r=xr(t);let a,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&cs(_)&&(i=_)}if(!e&&i&&cs(i))return{token:i.token};let f,c=!1;if(rD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Bm(Y1(t,yield iD()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0);const _=yield r.exchangeTokenPromise;return yield Pv(t,_),$o(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),c=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Cp.warn(_.message):Cp.error(_),a=_}return i?(f={token:i.token},$o(t,Object.assign(Object.assign({},r),{token:i})),yield Pv(t,i)):f=oD(a),c&&fo(t,f),f})).apply(this,arguments)}function Fv(n,e){const t=xr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),$o(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Lv(n){const{app:e}=n,t=xr(e);let r=t.tokenRefresher;r||(r=function Sa(n){const{app:e}=n;return new Sv((0,Ne.Z)(function*(){let r;if(r=xr(e).token?yield Ih(n,!0):yield Ih(n),r.error)throw r.error}),()=>!0,()=>{const t=xr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),$o(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function fo(n,e){const t=xr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function cs(n){return n.expireTimeMillis-Date.now()>0}function oD(n){return{token:iO(sD),error:n}}class aD{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=xr(this.app);for(const t of e)Fv(this.app,t.next);return Promise.resolve()}}const hD="app-check-internal";!function RI(){(0,Wc._registerComponent)(new Dp.wA("app-check",n=>function EI(n,e){return new aD(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(hD).initialize()})),(0,Wc._registerComponent)(new Dp.wA(hD,n=>function TI(n){return{getToken:e=>Ih(n,e),addTokenListener:e=>function ho(n,e,t,r){const{app:i}=n,a=xr(i),c={next:t,error:r,type:e};if($o(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&cs(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),Lv(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Lv(n))}(n,"INTERNAL",e),removeTokenListener:e=>Fv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wc.registerVersion)("@firebase/app-check","0.5.12")}();class $v{constructor(){return(0,hr.vb)("app-check")}}typeof window<"u"&&window;var pD=O(127);const zv=new l.OlP("angularfire2.auth.use-emulator"),Zv=new l.OlP("angularfire2.auth.settings"),Wv=new l.OlP("angularfire2.auth.tenant-id"),Wm=new l.OlP("angularfire2.auth.langugage-code"),Km=new l.OlP("angularfire2.auth.use-device-language"),wu=new l.OlP("angularfire.auth.persistence"),mD=(n,e,t,r,i,a,c,f)=>(0,Ti.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),c)for(const[b,T]of Object.entries(c))_.settings[b]=T;return f&&_.setPersistence(f),_},[t,r,i,a,c,f]);let Ym=(()=>{class n{constructor(t,r,i,a,c,f,_,b,T,S,F,j){const J=new en.x,ae=lt(void 0).pipe((0,xs.Q)(c.outsideAngular),Vn(()=>a.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,2476)))),(0,st.U)(()=>(0,Ti.on)(t,a,r)),(0,st.U)(me=>mD(me,a,f,b,T,S,_,F)),yp({bufferSize:1,refCount:!1}));if(Nr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{ae.pipe(ye()).subscribe();const Pe=ae.pipe(Vn($e=>$e.getRedirectResult().then(We=>We,()=>null)),hr.iC,yp({bufferSize:1,refCount:!1})),Ue=ae.pipe(Vn($e=>new Zn.y(We=>({unsubscribe:a.runOutsideAngular(()=>$e.onAuthStateChanged(et=>We.next(et),et=>We.error(et),()=>We.complete()))})))),Je=ae.pipe(Vn($e=>new Zn.y(We=>({unsubscribe:a.runOutsideAngular(()=>$e.onIdTokenChanged(et=>We.next(et),et=>We.error(et),()=>We.complete()))}))));this.authState=Pe.pipe(Rs(Ue),(0,vp.R)(c.outsideAngular),(0,xs.Q)(c.insideAngular)),this.user=Pe.pipe(Rs(Je),(0,vp.R)(c.outsideAngular),(0,xs.Q)(c.insideAngular)),this.idToken=this.user.pipe(Vn($e=>$e?(0,fn.D)($e.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(Vn($e=>$e?(0,fn.D)($e.getIdTokenResult()):lt(null))),this.credential=(0,dI.T)(Pe,J,this.authState.pipe(C($e=>!$e))).pipe((0,st.U)($e=>$e?.user?$e:null),(0,vp.R)(c.outsideAngular),(0,xs.Q)(c.insideAngular))}return(0,Ti.pX)(this,ae,a,{spy:{apply:(me,Pe,Ue)=>{(me.startsWith("signIn")||me.startsWith("createUser"))&&Ue.then(Je=>J.next(Je))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ti.Dh),l.LFG(Ti.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(hr.HU),l.LFG(zv,8),l.LFG(Zv,8),l.LFG(Wv,8),l.LFG(Wm,8),l.LFG(Km,8),l.LFG(wu,8),l.LFG($v,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ah=(()=>{class n{constructor(){pD.Z.registerVersion("angularfire",hr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ym]}),n})(),HI=(()=>{class n{constructor(t){this.afa=t}signInWithEmail(t,r){return this.afa.signInWithEmailAndPassword(t,r)}saveLocalData(t,r){localStorage.setItem(t,r)}getLocalData(t){return localStorage.getItem(t)}clearLocalStorage(){localStorage.clear()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ym))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Np=O(4986);function _D(){return(0,ur.e)((n,e)=>{let t,r=!1;n.subscribe((0,Dn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function yD(n,e){return n===e}O(2476);var yt,Tt=O(3942),GI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yl={},Du=Du||{},kt=GI||self;function Yc(){}function Qc(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Rn(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Qm="closure_uid_"+(1e9*Math.random()>>>0),vD=0;function $I(n,e,t){return n.call.apply(n.bind,arguments)}function bD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function li(n,e,t){return(li=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$I:bD).apply(null,arguments)}function Op(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Zr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function Eu(){this.s=this.s,this.o=this.o}var zI={};Eu.prototype.s=!1,Eu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function hO(n){return Object.prototype.hasOwnProperty.call(n,Qm)&&n[Qm]||(n[Qm]=++vD)}(this);delete zI[n]}},Eu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nh=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Kv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function wD(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Qc(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function Ii(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ii.prototype.h=function(){this.defaultPrevented=!0};var Jm=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kt.addEventListener("test",Yc,e),kt.removeEventListener("test",Yc,e)}catch{}return n}();function xp(n){return/^[\s\xa0]*$/.test(n)}var Yv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Xm(n,e){return n<e?-1:n>e?1:0}function e_(){var n=kt.navigator;return n&&(n=n.userAgent)?n:""}function ds(n){return-1!=e_().indexOf(n)}function Jc(n){return Jc[" "](n),n}Jc[" "]=Yc;var n_,n,WI=ds("Opera"),Mh=ds("Trident")||ds("MSIE"),Qv=ds("Edge"),t_=Qv||Mh,Jv=ds("Gecko")&&!(-1!=e_().toLowerCase().indexOf("webkit")&&!ds("Edge"))&&!(ds("Trident")||ds("MSIE"))&&!ds("Edge"),KI=-1!=e_().toLowerCase().indexOf("webkit")&&!ds("Edge");function Xv(){var n=kt.document;return n?n.documentMode:void 0}e:{var e0="",DD=(n=e_(),Jv?/rv:([^\);]+)(\)|;)/.exec(n):Qv?/Edge\/([\d\.]+)/.exec(n):Mh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):KI?/WebKit\/(\S+)/.exec(n):WI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(DD&&(e0=DD?DD[1]:""),Mh){var ED=Xv();if(null!=ED&&ED>parseFloat(e0)){n_=String(ED);break e}}n_=e0}var fO={};var YI=kt.document&&Mh&&(Xv()||parseInt(n_,10))||void 0;function kp(n,e){if(Ii.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Jv){e:{try{Jc(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:TD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&kp.X.h.call(this)}}Zr(kp,Ii);var TD={2:"touch",3:"pen",4:"mouse"};kp.prototype.h=function(){kp.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var vl="closure_listenable_"+(1e6*Math.random()|0),QI=0;function JI(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++QI,this.ba=this.ea=!1}function i_(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function t0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function CD(n){const e={};for(const t in n)e[t]=n[t];return e}const n0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ID(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<n0.length;a++)t=n0[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function s_(n){this.src=n,this.g={},this.h=0}function Xc(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=Nh(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(i_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function r0(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}s_.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=r0(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new JI(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var o_="closure_lm_"+(1e6*Math.random()|0),s0={};function o0(n,e,t,r,i){if(r&&r.once)return ND(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)o0(n,e[a],t,r,i);return null}return t=d0(t),n&&n[vl]?n.N(e,t,Rn(r)?!!r.capture:!!r,i):SD(n,e,t,!1,r,i)}function SD(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=Rn(i)?!!i.capture:!!i,f=u0(n);if(f||(n[o_]=f=new s_(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function AD(){const e=MD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Jm||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(l0(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function ND(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)ND(n,e[a],t,r,i);return null}return t=d0(t),n&&n[vl]?n.O(e,t,Rn(r)?!!r.capture:!!r,i):SD(n,e,t,!0,r,i)}function a_(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)a_(n,e[a],t,r,i);else r=Rn(r)?!!r.capture:!!r,t=d0(t),n&&n[vl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=r0(a=n.g[e],t,r,i))&&(i_(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=u0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=r0(e,t,r,i)),(t=-1<n?e[n]:null)&&a0(t))}function a0(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[vl])Xc(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(l0(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=u0(e))?(Xc(t,n),0==t.h&&(t.src=null,e[o_]=null)):i_(n)}}}function l0(n){return n in s0?s0[n]:s0[n]="on"+n}function MD(n,e){if(n.ba)n=!0;else{e=new kp(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&a0(n),n=t.call(r,e)}return n}function u0(n){return(n=n[o_])instanceof s_?n:null}var c0="__closure_events_fn_"+(1e9*Math.random()>>>0);function d0(n){return"function"==typeof n?n:(n[c0]||(n[c0]=function(e){return n.handleEvent(e)}),n[c0])}function kr(){Eu.call(this),this.i=new s_(this),this.P=this,this.I=null}function ui(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ii(e,n);else if(e instanceof Ii)e.target=e.target||n;else{var i=e;ID(e=new Ii(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=Pp(c,r,!0,e)&&i}if(i=Pp(c=e.g=n,r,!0,e)&&i,i=Pp(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Pp(c=e.g=t[a],r,!1,e)&&i}function Pp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var f=c.listener,_=c.ha||c.src;c.ea&&Xc(n.i,c),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Zr(kr,Eu),kr.prototype[vl]=!0,kr.prototype.removeEventListener=function(n,e,t,r){a_(this,n,e,t,r)},kr.prototype.M=function(){if(kr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)i_(t[r]);delete n.g[e],n.h--}}this.I=null},kr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},kr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var h0=kt.JSON.stringify;function XI(){var n=p0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var f0,OD=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new tS,n=>n.reset());class tS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function nS(n){kt.setTimeout(()=>{throw n},0)}function xD(n,e){f0||function RD(){var n=kt.Promise.resolve(void 0);f0=function(){n.then(rS)}}(),l_||(f0(),l_=!0),p0.add(n,e)}var l_=!1,p0=new class eS{constructor(){this.h=this.g=null}add(e,t){const r=OD.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function rS(){for(var n;n=XI();){try{n.h.call(n.g)}catch(t){nS(t)}var e=OD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}l_=!1}function Oh(n,e){kr.call(this),this.h=n||1,this.g=e||kt,this.j=li(this.kb,this),this.l=Date.now()}function u_(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function g0(n,e,t){if("function"==typeof n)t&&(n=li(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=li(n.handleEvent,n)}return 2147483647<Number(e)?-1:kt.setTimeout(n,e||0)}function kD(n){n.g=g0(()=>{n.g=null,n.i&&(n.i=!1,kD(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Zr(Oh,kr),(yt=Oh.prototype).ca=!1,yt.R=null,yt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ui(this,"tick"),this.ca&&(u_(this),this.start()))}},yt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yt.M=function(){Oh.X.M.call(this),u_(this),delete this.g};class m0 extends Eu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kD(this)}M(){super.M(),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ed(n){Eu.call(this),this.h=n,this.g={}}Zr(ed,Eu);var _0=[];function c_(n,e,t,r){Array.isArray(t)||(t&&(_0[0]=t.toString()),t=_0);for(var i=0;i<t.length;i++){var a=o0(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function PD(n){t0(n.g,function(e,t){this.g.hasOwnProperty(t)&&a0(e)},n),n.g={}}function d_(){this.g=!0}function td(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function FD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return h0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ed.prototype.M=function(){ed.X.M.call(this),PD(this)},ed.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},d_.prototype.Aa=function(){this.g=!1},d_.prototype.info=function(){};var nd={},sS=null;function Fp(){return sS=sS||new kr}function h_(n){Ii.call(this,nd.Oa,n)}function Lp(n){const e=Fp();ui(e,new h_(e,n))}function f_(n,e){Ii.call(this,nd.STAT_EVENT,n),this.stat=e}function zi(n){const e=Fp();ui(e,new f_(e,n))}function v0(n,e){Ii.call(this,nd.Pa,n),this.size=e}function rd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kt.setTimeout(function(){n()},e)}nd.Oa="serverreachability",Zr(h_,Ii),nd.STAT_EVENT="statevent",Zr(f_,Ii),nd.Pa="timingevent",Zr(v0,Ii);var Vp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},b0={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function p_(){}function LD(){}p_.prototype.h=null;var g_,Bp={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function D0(){Ii.call(this,"d")}function E0(){Ii.call(this,"c")}function T0(){}function Rh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new ed(this),this.O=oS,this.T=new Oh(n=t_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new VD}function VD(){this.i=null,this.g="",this.h=!1}Zr(D0,Ii),Zr(E0,Ii),Zr(T0,p_),T0.prototype.g=function(){return new XMLHttpRequest},T0.prototype.i=function(){return{}},g_=new T0;var oS=45e3,BD={},C0={};function I0(n,e,t){n.K=1,n.v=y_(Aa(e)),n.s=t,n.P=!0,UD(n,null)}function UD(n,e){n.F=Date.now(),kh(n),n.A=Aa(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),ZD(t.i,"t",r),n.C=0,t=n.l.H,n.h=new VD,n.g=ld(n.l,t?e:null,!n.s),0<n.N&&(n.L=new m0(li(n.Ka,n,n.g),n.N)),c_(n.S,n.g,"readystatechange",n.hb),e=n.H?CD(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Lp(1),function y0(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var T=b[0];b=b[1];var S=T.split("_");c=2<=S.length&&"type"==S[1]?c+(T+"=")+b+"&":c+(T+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function jD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function S0(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=HD(n,t),i==C0){4==e&&(n.o=4,zi(14),r=!1),td(n.j,n.m,null,"[Incomplete Response]");break}if(i==BD){n.o=4,zi(15),td(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}td(n.j,n.m,i,null),A0(n,i)}jD(n)&&i!=C0&&i!=BD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,zi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),C_(e),e.K=!0,zi(11))):(td(n.j,n.m,t,"[Invalid Chunked Response]"),id(n),Up(n))}function HD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?C0:(t=Number(e.substring(t,r)),isNaN(t)?BD:(r+=1)+t>e.length?C0:(e=e.substr(r,t),n.C=r+t,e))}function kh(n){n.V=Date.now()+n.O,GD(n,n.O)}function GD(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rd(li(n.fb,n),e)}function m_(n){n.B&&(kt.clearTimeout(n.B),n.B=null)}function Up(n){0==n.l.G||n.I||I_(n.l,n)}function id(n){m_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,u_(n.T),PD(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function A0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||w_(t.h,n)))if(!n.J&&w_(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;ad(t),Cu(t)}Kp(t),zi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=rd(li(t.bb,t),6e3));if(1>=b_(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Iu(t,11)}else if((n.J||t.g==n)&&ad(t),!xp(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.T=b[0],b=b[1],2==t.G)if("c"==b[0]){t.I=b[1],t.ka=b[2];const T=b[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const S=b[4];null!=S&&(t.Ca=S,t.j.info("SVER="+t.Ca));const F=b[5];null!=F&&"number"==typeof F&&0<F&&(t.J=r=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const j=n.g;if(j){const J=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(J){var a=r.h;a.g||-1==J.indexOf("spdy")&&-1==J.indexOf("quic")&&-1==J.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(R0(a,a.h),a.h=null))}if(r.D){const ae=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;ae&&(r.za=ae,jn(r.F,r.D,ae))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=G0(r,r.H?r.ka:null,r.V),c.J){YD(r.h,c);var f=c,_=r.J;_&&f.setTimeout(_),f.B&&(m_(f),kh(f)),r.g=c}else lE(r);0<t.i.length&&Vh(t)}else"stop"!=b[0]&&"close"!=b[0]||Iu(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Iu(t,7):T_(t):"noop"!=b[0]&&t.l&&t.l.wa(b),t.A=0)}Lp(4)}catch{}}function N0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Qc(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function jp(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Qc(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function aS(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Qc(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(yt=Rh.prototype).setTimeout=function(n){this.O=n},yt.hb=function(n){n=n.target;const e=this.L;e&&3==hs(n)?e.l():this.Ka(n)},yt.Ka=function(n){try{if(n==this.g)e:{const T=hs(this.g);var e=this.g.Ea();const S=this.g.aa();if(!(3>T)&&(3!=T||t_||this.g&&(this.h.h||this.g.fa()||rE(this.g)))){this.I||4!=T||7==e||Lp(8==e||0>=S?3:2),m_(this);var t=this.g.aa();this.Y=t;t:if(jD(this)){var r=rE(this.g);n="";var i=r.length,a=4==hs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){id(this),Up(this);var c="";break t}this.h.i=new kt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function iS(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xp(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,zi(12),id(this),Up(this);break e}td(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,A0(this,t)}this.P?(S0(this,T,c),t_&&this.i&&3==T&&(c_(this.S,this.T,"tick",this.gb),this.T.start())):(td(this.j,this.m,c,null),A0(this,c)),4==T&&id(this),this.i&&!this.I&&(4==T?I_(this.l,this):(this.i=!1,kh(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,zi(12)):(this.o=0,zi(13)),id(this),Up(this)}}}catch{}},yt.gb=function(){if(this.g){var n=hs(this.g),e=this.g.fa();this.C<e.length&&(m_(this),S0(this,n,e),this.i&&4!=n&&kh(this))}},yt.cancel=function(){this.I=!0,id(this)},yt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function xh(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Lp(3),zi(17)),id(this),this.o=2,Up(this)):GD(this,this.V-n)};var M0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Tu){this.h=void 0!==e?e:n.h,Hp(this,n.j),this.s=n.s,this.g=n.g,__(this,n.m),this.l=n.l,e=n.i;var t=new sd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),lS(this,t),this.o=n.o}else n&&(t=String(n).match(M0))?(this.h=!!e,Hp(this,t[1]||"",!0),this.s=Gp(t[2]||""),this.g=Gp(t[3]||"",!0),__(this,t[4]),this.l=Gp(t[5]||"",!0),lS(this,t[6]||"",!0),this.o=Gp(t[7]||"")):(this.h=!!e,this.i=new sd(null,this.h))}function Aa(n){return new Tu(n)}function Hp(n,e,t){n.j=t?Gp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function __(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function lS(n,e,t){e instanceof sd?(n.i=e,function v_(n,e){e&&!n.j&&(po(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(qD(this,r),ZD(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=$p(e,Na)),n.i=new sd(e,n.h))}function jn(n,e,t){n.i.set(e,t)}function y_(n){return jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Gp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $p(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,uS),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function uS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Tu.prototype.toString=function(){var n=[],e=this.j;e&&n.push($p(e,Ph,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push($p(e,Ph,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push($p(t,"/"==t.charAt(0)?O0:cS,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",$p(t,dS)),n.join("")};var Ph=/[#\/\?@]/g,cS=/[#\?:]/g,O0=/[#\?]/g,Na=/[#\?@]/g,dS=/#/g;function sd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function po(n){n.g||(n.g=new Map,n.h=0,n.i&&function $D(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qD(n,e){po(n),e=bl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function zD(n,e){return po(n),e=bl(n,e),n.g.has(e)}function ZD(n,e,t){qD(n,e),0<t.length&&(n.i=null,n.g.set(bl(n,e),Kv(t)),n.h+=t.length)}function bl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function WD(n){this.l=n||KD,n=kt.PerformanceNavigationTiming?0<(n=kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kt.g&&kt.g.Ga&&kt.g.Ga()&&kt.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(yt=sd.prototype).add=function(n,e){po(this),this.i=null,n=bl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},yt.forEach=function(n,e){po(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},yt.oa=function(){po(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},yt.W=function(n){po(this);let e=[];if("string"==typeof n)zD(this,n)&&(e=e.concat(this.g.get(bl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},yt.set=function(n,e){return po(this),this.i=null,zD(this,n=bl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},yt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},yt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var KD=10;function x0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function b_(n){return n.h?1:n.g?n.g.size:0}function w_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function R0(n,e){n.g?n.g.add(e):n.h=e}function YD(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function fS(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Kv(n.i)}function qp(){}function k0(){this.g=new qp}function QD(n,e,t){const r=t||"";try{N0(n,function(i,a){let c=i;Rn(i)&&(c=h0(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Fh(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function zp(n){this.l=n.$b||null,this.j=n.ib||!1}function D_(n,e){kr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=F0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}WD.prototype.cancel=function(){if(this.i=fS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},qp.prototype.stringify=function(n){return kt.JSON.stringify(n,void 0)},qp.prototype.parse=function(n){return kt.JSON.parse(n,void 0)},Zr(zp,p_),zp.prototype.g=function(){return new D_(this.l,this.j)},zp.prototype.i=function(n){return function(){return n}}({}),Zr(D_,kr);var F0=0;function JD(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function Lh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,od(n)}function od(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(yt=D_.prototype).open=function(n,e){if(this.readyState!=F0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,od(this)},yt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||kt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},yt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lh(this)),this.readyState=F0},yt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof kt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JD(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},yt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Lh(this):od(this),3==this.readyState&&JD(this)}},yt.Ua=function(n){this.g&&(this.response=this.responseText=n,Lh(this))},yt.Ta=function(n){this.g&&(this.response=n,Lh(this))},yt.ga=function(){this.g&&Lh(this)},yt.setRequestHeader=function(n,e){this.v.append(n,e)},yt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},yt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(D_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var XD=kt.JSON.parse;function Er(n){kr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=L0,this.K=this.L=!1}Zr(Er,kr);var L0="",eE=/^https?$/i,pS=["POST","PUT"];function V0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,nE(n),Zp(n)}function nE(n){n.D||(n.D=!0,ui(n,"complete"),ui(n,"error"))}function B0(n){if(n.h&&typeof Du<"u"&&(!n.C[1]||4!=hs(n)||2!=n.aa()))if(n.v&&4==hs(n))g0(n.Ha,0,n);else if(ui(n,"readystatechange"),4==hs(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(M0)[1]||null;if(!i&&kt.self&&kt.self.location){var a=kt.self.location.protocol;i=a.substr(0,a.length-1)}r=!eE.test(i?i.toLowerCase():"")}t=r}if(t)ui(n,"complete"),ui(n,"success");else{n.m=6;try{var c=2<hs(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",nE(n)}}finally{Zp(n)}}}function Zp(n,e){if(n.g){Si(n);const t=n.g,r=n.C[0]?Yc:null;n.g=null,n.C=null,e||ui(n,"ready");try{t.onreadystatechange=r}catch{}}}function Si(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(kt.clearTimeout(n.A),n.A=null)}function hs(n){return n.g?n.g.readyState:0}function rE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case L0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function iE(n){let e="";return t0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function sE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=iE(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):jn(n,e,t))}function E_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function U0(n){this.Ca=0,this.i=[],this.j=new d_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=E_("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=E_("baseRetryDelayMs",5e3,n),this.ab=E_("retryDelaySeedMs",1e4,n),this.Za=E_("forwardChannelMaxRetries",2,n),this.ta=E_("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new WD(n&&n.concurrentRequestLimit),this.Fa=new k0,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function T_(n){if(oE(n),3==n.G){var e=n.U++,t=Aa(n.F);jn(t,"SID",n.I),jn(t,"RID",e),jn(t,"TYPE","terminate"),Wp(n,t),(e=new Rh(n,n.j,e,void 0)).K=2,e.v=y_(Aa(t)),t=!1,kt.navigator&&kt.navigator.sendBeacon&&(t=kt.navigator.sendBeacon(e.v.toString(),"")),!t&&kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ld(e.l,null),e.g.da(e.v)),e.F=Date.now(),kh(e)}uE(n)}function Cu(n){n.g&&(C_(n),n.g.cancel(),n.g=null)}function oE(n){Cu(n),n.u&&(kt.clearTimeout(n.u),n.u=null),ad(n),n.h.cancel(),n.m&&("number"==typeof n.m&&kt.clearTimeout(n.m),n.m=null)}function Vh(n){x0(n.h)||n.m||(n.m=!0,xD(n.Ja,n),n.C=0)}function j0(n,e){var t;t=e?e.m:n.U++;const r=Aa(n.F);jn(r,"SID",n.I),jn(r,"RID",t),jn(r,"AID",n.T),Wp(n,r),n.o&&n.s&&sE(r,n.o,n.s),t=new Rh(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=aE(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),R0(n.h,t),I0(t,r,e)}function Wp(n,e){n.ia&&t0(n.ia,function(t,r){jn(e,r,t)}),n.l&&N0({},function(t,r){jn(e,r,t)})}function aE(n,e,t){t=Math.min(n.i.length,t);var r=n.l?li(n.l.Qa,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let b=i[_].h;const T=i[_].g;if(b-=a,0>b)a=Math.max(0,i[_].h-100),f=!1;else try{QD(T,c,"req"+b+"_")}catch{r&&r(T)}}if(f){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function lE(n){n.g||n.u||(n.Z=1,xD(n.Ia,n),n.A=0)}function Kp(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=rd(li(n.Ia,n),mS(n,n.A)),n.A++,0))}function C_(n){null!=n.B&&(kt.clearTimeout(n.B),n.B=null)}function H0(n){n.g=new Rh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Aa(n.sa);jn(e,"RID","rpc"),jn(e,"SID",n.I),jn(e,"CI",n.L?"0":"1"),jn(e,"AID",n.T),jn(e,"TYPE","xmlhttp"),Wp(n,e),n.o&&n.s&&sE(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=y_(Aa(e)),t.s=null,t.P=!0,UD(t,n)}function ad(n){null!=n.v&&(kt.clearTimeout(n.v),n.v=null)}function I_(n,e){var t=null;if(n.g==e){ad(n),C_(n),n.g=null;var r=2}else{if(!w_(n.h,e))return;t=e.D,YD(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ui(r=Fp(),new v0(r,t,e,i)),Vh(n)}else lE(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function gS(n,e){return!(b_(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=rd(li(n.Ja,n,e),mS(n,n.C)),n.C++,0)))}(n,e)||2==r&&Kp(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Iu(n,5);break;case 4:Iu(n,10);break;case 3:Iu(n,6);break;default:Iu(n,2)}}function mS(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function Iu(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=li(n.jb,n);t||(t=new Tu("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||Hp(t,"https"),y_(t)),function P0(n,e){const t=new d_;if(kt.Image){const r=new Image;r.onload=Op(Fh,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Op(Fh,t,r,"TestLoadImage: error",!1,e),r.onabort=Op(Fh,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Op(Fh,t,r,"TestLoadImage: timeout",!1,e),kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else zi(2);n.G=0,n.l&&n.l.va(e),uE(n),oE(n)}function uE(n){if(n.G=0,n.la=[],n.l){const e=fS(n.h);(0!=e.length||0!=n.i.length)&&(wD(n.la,e),wD(n.la,n.i),n.h.i.length=0,Kv(n.i),n.i.length=0),n.l.ua()}}function G0(n,e,t){var r=t instanceof Tu?Aa(t):new Tu(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),__(r,r.m);else{var i=kt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Tu(null,void 0);r&&Hp(a,r),e&&(a.g=e),i&&__(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&jn(r,t,e),jn(r,"VER",n.ma),Wp(n,r),r}function ld(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Er(t&&n.Da&&!n.ra?new zp({ib:!0}):n.ra)).L=n.H,e}function cE(){}function Yp(){if(Mh&&!(10<=Number(YI)))throw Error("Environmental error: no available transport.")}function Zi(n,e){kr.call(this),this.g=new U0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!xp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Qp(this)}function _S(n){D0.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function dE(){E0.call(this),this.status=1}function Qp(n){this.g=n}(yt=Er.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():g_.g(),this.C=function w0(n){return n.h||(n.h=n.i())}(this.u?this.u:g_),this.g.onreadystatechange=li(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void V0(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=kt.FormData&&n instanceof kt.FormData,!(0<=Nh(pS,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Si(this),0<this.B&&((this.K=function tE(n){return Mh&&function pO(){return function ZI(n){var e=fO;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Yv(String(n_)).split("."),t=Yv("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Xm(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Xm(0==i[2].length,0==a[2].length)||Xm(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=li(this.qa,this)):this.A=g0(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){V0(this,a)}},yt.qa=function(){typeof Du<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ui(this,"timeout"),this.abort(8))},yt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ui(this,"complete"),ui(this,"abort"),Zp(this))},yt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zp(this,!0)),Er.X.M.call(this)},yt.Ha=function(){this.s||(this.F||this.v||this.l?B0(this):this.eb())},yt.eb=function(){B0(this)},yt.aa=function(){try{return 2<hs(this)?this.g.status:-1}catch{return-1}},yt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},yt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),XD(e)}},yt.Ea=function(){return this.m},yt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(yt=U0.prototype).ma=8,yt.G=1,yt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Rh(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=CD(a),ID(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=aE(this,i,e),jn(t=Aa(this.F),"RID",n),jn(t,"CVER",22),this.D&&jn(t,"X-HTTP-Session-Id",this.D),Wp(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(iE(a)))+"&"+e:this.o&&sE(t,this.o,a)),R0(this.h,i),this.Xa&&jn(t,"TYPE","init"),this.O?(jn(t,"$req",e),jn(t,"SID","null"),i.Z=!0,I0(i,t,null)):I0(i,t,e),this.G=2}}else 3==this.G&&(n?j0(this,n):0==this.i.length||x0(this.h)||j0(this))},yt.Ia=function(){if(this.u=null,H0(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=rd(li(this.cb,this),n)}},yt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,zi(10),Cu(this),H0(this))},yt.bb=function(){null!=this.v&&(this.v=null,Cu(this),Kp(this),zi(19))},yt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),zi(2)):(this.j.info("Failed to ping google.com"),zi(1))},(yt=cE.prototype).xa=function(){},yt.wa=function(){},yt.va=function(){},yt.ua=function(){},yt.Qa=function(){},Yp.prototype.g=function(n,e){return new Zi(n,e)},Zr(Zi,kr),Zi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;zi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=G0(n,null,n.V),Vh(n)},Zi.prototype.close=function(){T_(this.g)},Zi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=h0(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&Vh(e)},Zi.prototype.M=function(){this.g.l=null,delete this.j,T_(this.g),delete this.g,Zi.X.M.call(this)},Zr(_S,D0),Zr(dE,E0),Zr(Qp,cE),Qp.prototype.xa=function(){ui(this.g,"a")},Qp.prototype.wa=function(n){ui(this.g,new _S(n))},Qp.prototype.va=function(n){ui(this.g,new dE(n))},Qp.prototype.ua=function(){ui(this.g,"b")},Yp.prototype.createWebChannel=Yp.prototype.g,Zi.prototype.send=Zi.prototype.u,Zi.prototype.open=Zi.prototype.m,Zi.prototype.close=Zi.prototype.close,Vp.NO_ERROR=0,Vp.TIMEOUT=8,Vp.HTTP_ERROR=6,b0.COMPLETE="complete",LD.EventType=Bp,Bp.OPEN="a",Bp.CLOSE="b",Bp.ERROR="c",Bp.MESSAGE="d",kr.prototype.listen=kr.prototype.N,Er.prototype.listenOnce=Er.prototype.O,Er.prototype.getLastError=Er.prototype.Na,Er.prototype.getLastErrorCode=Er.prototype.Ea,Er.prototype.getStatus=Er.prototype.aa,Er.prototype.getResponseJson=Er.prototype.Ra,Er.prototype.getResponseText=Er.prototype.fa,Er.prototype.send=Er.prototype.da;var yS=yl.createWebChannelTransport=function(){return new Yp},vS=yl.getStatEventTarget=function(){return Fp()},$0=yl.ErrorCode=Vp,hE=yl.EventType=b0,fE=yl.Event=nd,pE=yl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gE=yl.FetchXmlHttpFactory=zp,Jp=yl.WebChannel=LD,bS=yl.XhrIo=Er;const mE="@firebase/firestore";class Lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let Bh="9.10.0";const wl=new Ia.Yd("@firebase/firestore");function S_(){return wl.logLevel}function Ge(n,...e){if(wl.logLevel<=Ia.in.DEBUG){const t=e.map(yE);wl.debug(`Firestore (${Bh}): ${n}`,...t)}}function Tr(n,...e){if(wl.logLevel<=Ia.in.ERROR){const t=e.map(yE);wl.error(`Firestore (${Bh}): ${n}`,...t)}}function ud(n,...e){if(wl.logLevel<=Ia.in.WARN){const t=e.map(yE);wl.warn(`Firestore (${Bh}): ${n}`,...t)}}function yE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${Bh}) INTERNAL ASSERTION FAILED: `+n;throw Tr(e),new Error(e)}function xt(n,e){n||at()}function nt(n,e){return n}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends an.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lr.UNAUTHENTICATED))}shutdown(){}}class A_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _O{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ci,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=c;e.enqueueRetryable((0,Ne.Z)(function*(){yield b.promise,yield a(r.currentUser)}))},_=b=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ci)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new wS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new Lr(e)}}class vE{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(xt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class N_{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new vE(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bE{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,Ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.A=t.token,new q0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function z0(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Z0{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=z0(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Pt(n,e){return n<e?-1:n>e?1:0}function cd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function DS(n){return n+"\0"}class Hn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ve(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ve(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ve(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hn.fromMillis(Date.now())}static fromDate(e){return Hn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Hn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new Hn(0,0))}static max(){return new At(new Hn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xp{constructor(e,t,r){void 0===t?t=0:t>e.length&&at(),void 0===r?r=e.length-t:r>e.length-t&&at(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Xp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends Xp{construct(e,t,r){return new Qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ve(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const ES=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends Xp{construct(e,t,r){return new Cr(e,t,r)}static isValidIdentifier(e){return ES.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ve(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ve(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ve(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new Ve(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cr(t)}static emptyPath(){return new Cr([])}}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(Qt.fromString(e))}static fromName(e){return new tt(Qt.fromString(e).popFirst(5))}static empty(){return new tt(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new Qt(e.slice()))}}class W0{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function K0(n){return n.fields.find(e=>2===e.kind)}function dd(n){return n.fields.filter(e=>2!==e.kind)}W0.UNKNOWN_ID=-1;class Y0{constructor(e,t){this.fieldPath=e,this.kind=t}}class Uh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Uh(0,er.min())}}function Q0(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=At.fromTimestamp(1e9===r?new Hn(t+1,0):new Hn(t,r));return new er(i,tt.empty(),e)}function IS(n){return new er(n.readTime,n.key,-1)}class er{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new er(At.min(),tt.empty(),-1)}static max(){return new er(At.max(),tt.empty(),-1)}}function J0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=tt.comparator(n.documentKey,e.documentKey),0!==t?t:Pt(n.largestBatchId,e.largestBatchId))}const M_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Vr(n){return X0.apply(this,arguments)}function X0(){return X0=(0,Ne.Z)(function*(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==M_)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),X0.apply(this,arguments)}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ve?t:ve.resolve(t)}catch(t){return ve.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.reject(t)}static resolve(e){return new ve((t,r)=>{t(e)})}static reject(e){return new ve((t,r)=>{r(e)})}static waitFor(e){return new ve((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},_=>r(_))}),c=!0,a===i&&t()})}static or(e){let t=ve.resolve(!1);for(const r of e)t=t.next(i=>i?ve.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ve((r,i)=>{const a=e.length,c=new Array(a);let f=0;for(let _=0;_<a;_++){const b=_;t(e[b]).next(T=>{c[b]=T,++f,f===a&&r(c)},T=>i(T))}})}static doWhile(e,t){return new ve((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class O_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ci,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new jh(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=nb(r.target.error);this.P.reject(new jh(e,i))}}static open(e,t,r,i){try{return new O_(t,e.transaction(i,r))}catch(a){throw new jh(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new SS(t)}}class qo{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===qo.D((0,an.z$)())&&Tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ge("SimpleDb","Removing database:",e),Su(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,an.hl)())return!1;if(qo.N())return!0;const e=(0,an.z$)(),t=qo.D(e),r=0<t&&t<10,i=qo.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Ne.Z)(function*(){return t.db||(Ge("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new jh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new Ve(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ve(Ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new jh(e,f))},a.onupgradeneeded=c=>{Ge("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Ne.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const _=O_.open(a.db,e,c?"readonly":"readwrite",r),b=i(_).next(T=>(_.V(),T)).catch(T=>(_.abort(T),ve.reject(T))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,T="FirebaseError"!==b.name&&f<3;if(Ge("SimpleDb","Transaction failed with error:",b.message,"Retrying:",T),a.close(),!T)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class eb{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Su(this.U.delete())}}class jh extends Ve{constructor(e,t){super(Ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Dl(n){return"IndexedDbTransactionError"===n.name}class SS{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ge("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Su(r)}add(e){return Ge("SimpleDb","ADD",this.store.name,e,e),Su(this.store.add(e))}get(e){return Su(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ge("SimpleDb","DELETE",this.store.name,e),Su(this.store.delete(e))}count(){return Ge("SimpleDb","COUNT",this.store.name),Su(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ve((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ve((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){Ge("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,c,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ve((r,i)=>{t.onerror=a=>{const c=nb(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}H(e,t){const r=[];return new ve((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const _=new eb(f),b=t(f.primaryKey,f.value,_);if(b instanceof ve){const T=b.catch(S=>(_.done(),ve.reject(S)));r.push(T)}_.isDone?i():null===_.G?f.continue():f.continue(_.G)}}).next(()=>ve.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Su(n){return new ve((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=nb(r.target.error);t(i)}})}let tb=!1;function nb(n){const e=qo.D((0,an.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tb||(tb=!0,setTimeout(()=>{throw r},0)),r}}return n}class DE{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ge("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ne.Z)(function*(){t.task=null;try{Ge("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Dl(r)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Vr(r)}yield t.nt(6e4)}))}}class AS{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ne.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return ve.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Ge("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(f=>{i-=f,r.add(c)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,a)).next(f=>(Ge("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const c=IS(a);J0(c,r)>0&&(r=c)}),new er(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ai{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function El(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Au(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function x_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Ai.at=-1;class gn{constructor(e,t){this.comparator=e,this.root=t||Ni.EMPTY}insert(e,t){return new gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new R_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new R_(this.root,e,this.comparator,!1)}getReverseIterator(){return new R_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new R_(this.root,e,this.comparator,!0)}}class R_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ni{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Ni.RED,this.left=i??Ni.EMPTY,this.right=a??Ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Ni(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ni.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1,Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ni(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class En{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EE(this.data.getIterator())}getIteratorFrom(e){return new EE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new En(this.comparator);return t.data=e,t}}class EE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hh(n){return n.hasNext()?n.getNext():void 0}class ks{constructor(e){this.fields=e,e.sort(Cr.comparator)}static empty(){return new ks([])}unionWith(e){let t=new En(Cr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ks(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Wr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Wr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Wr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wr.EMPTY_BYTE_STRING=new Wr("");const CE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nu(n){if(xt(!!n),"string"==typeof n){let e=0;const t=CE.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tr(n.seconds),nanos:tr(n.nanos)}}function tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Gh(n){return"string"==typeof n?Wr.fromBase64String(n):Wr.fromUint8Array(n)}function eg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function rb(n){const e=n.mapValue.fields.__previous_value__;return eg(e)?rb(e):e}function $h(n){const e=Nu(n.mapValue.fields.__local_write_time__.timestampValue);return new Hn(e.seconds,e.nanos)}class IE{constructor(e,t,r,i,a,c,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Tl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Tl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}function qh(n){return null==n}function Mu(n){return 0===n&&1/n==-1/0}function tg(n){return"number"==typeof n&&Number.isInteger(n)&&!Mu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},k_={nullValue:"NULL_VALUE"};function Ou(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?eg(n)?4:xS(n)?9007199254740991:10:at()}function zo(n,e){if(n===e)return!0;const t=Ou(n);if(t!==Ou(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $h(n).isEqual($h(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Nu(r.timestampValue),c=Nu(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Gh(n.bytesValue).isEqual(Gh(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return tr(r.geoPointValue.latitude)===tr(i.geoPointValue.latitude)&&tr(r.geoPointValue.longitude)===tr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return tr(r.integerValue)===tr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=tr(r.doubleValue),c=tr(i.doubleValue);return a===c?Mu(a)===Mu(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return cd(n.arrayValue.values||[],e.arrayValue.values||[],zo);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(El(a)!==El(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!zo(a[f],c[f])))return!1;return!0}(n,e);default:return at()}var i}function ng(n,e){return void 0!==(n.values||[]).find(t=>zo(t,e))}function xu(n,e){if(n===e)return 0;const t=Ou(n),r=Ou(e);if(t!==r)return Pt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=tr(i.integerValue||i.doubleValue),f=tr(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return NS(n.timestampValue,e.timestampValue);case 4:return NS($h(n),$h(e));case 5:return Pt(n.stringValue,e.stringValue);case 6:return function(i,a){const c=Gh(i),f=Gh(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let _=0;_<c.length&&_<f.length;_++){const b=Pt(c[_],f[_]);if(0!==b)return b}return Pt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Pt(tr(i.latitude),tr(a.latitude));return 0!==c?c:Pt(tr(i.longitude),tr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let _=0;_<c.length&&_<f.length;++_){const b=xu(c[_],f[_]);if(b)return b}return Pt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Cl.mapValue&&a===Cl.mapValue)return 0;if(i===Cl.mapValue)return 1;if(a===Cl.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let T=0;T<f.length&&T<b.length;++T){const S=Pt(f[T],b[T]);if(0!==S)return S;const F=xu(c[f[T]],_[b[T]]);if(0!==F)return F}return Pt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw at()}}function NS(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pt(n,e);const t=Nu(n),r=Nu(e),i=Pt(t.seconds,r.seconds);return 0!==i?i:Pt(t.nanos,r.nanos)}function rg(n){return P_(n)}function P_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Nu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Gh(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=P_(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${P_(r.fields[f])}`;return a+"}"}(n.mapValue):at();var e}function hd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ib(n){return!!n&&"integerValue"in n}function ig(n){return!!n&&"arrayValue"in n}function MS(n){return!!n&&"nullValue"in n}function OS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sb(n){return!!n&&"mapValue"in n}function F_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Au(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=F_(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=F_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function xS(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function RS(n){return"nullValue"in n?k_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?hd(Tl.empty(),tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function L_(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?hd(Tl.empty(),tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Cl:at()}function SE(n,e){const t=xu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function AE(n,e){const t=xu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Kr{constructor(e){this.value=e}static empty(){return new Kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=F_(t)}setAll(e){let t=Cr.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=F_(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());sb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];sb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Au(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Kr(F_(this.value))}}function Ru(n){const e=[];return Au(n.fields,(t,r)=>{const i=new Cr([t]);if(sb(r)){const a=Ru(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new ks(e)}class Nn{constructor(e,t,r,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Nn(e,0,At.min(),At.min(),Kr.empty(),0)}static newFoundDocument(e,t,r){return new Nn(e,1,t,At.min(),r,0)}static newNoDocument(e,t){return new Nn(e,2,t,At.min(),Kr.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,At.min(),Kr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ob{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.ht=null}}function V_(n,e=null,t=[],r=[],i=null,a=null,c=null){return new ob(n,e,t,r,i,a,c)}function fd(n){const e=nt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+rg(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),qh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>rg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>rg(r)).join(",")),e.ht=t}return e.ht}function pd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!kE(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!zo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!BS(n.startAt,e.startAt)&&BS(n.endAt,e.endAt)}function gd(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function lb(n,e){return n.filters.filter(t=>t instanceof Mi&&t.field.isEqual(e))}function kS(n,e,t){let r=k_,i=!0;for(const a of lb(n,e)){let c=k_,f=!0;switch(a.op){case"<":case"<=":c=RS(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=k_}SE({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];SE({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function PS(n,e,t){let r=Cl,i=!0;for(const a of lb(n,e)){let c=Cl,f=!0;switch(a.op){case">=":case">":c=L_(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=Cl}AE({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];AE({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Mi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new NE(e,t,r):"array-contains"===t?new VS(e,r):"in"===t?new OE(e,r):"not-in"===t?new xE(e,r):"array-contains-any"===t?new RE(e,r):new Mi(e,t,r)}static lt(e,t,r){return"in"===t?new FS(e,r):new LS(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(xu(t,this.value)):null!==t&&Ou(this.value)===Ou(t)&&this.ft(xu(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class NE extends Mi{constructor(e,t,r){super(e,t,r),this.key=tt.fromName(r.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.ft(t)}}class FS extends Mi{constructor(e,t){super(e,"in",t),this.keys=ME(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LS extends Mi{constructor(e,t){super(e,"not-in",t),this.keys=ME(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ME(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>tt.fromName(r.referenceValue))}class VS extends Mi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ig(t)&&ng(t.arrayValue,this.value)}}class OE extends Mi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ng(this.value.arrayValue,t)}}class xE extends Mi{constructor(e,t){super(e,"not-in",t)}matches(e){if(ng(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ng(this.value.arrayValue,t)}}class RE extends Mi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ig(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ng(this.value.arrayValue,r))}}class ku{constructor(e,t){this.position=e,this.inclusive=t}}class zh{constructor(e,t="asc"){this.field=e,this.dir=t}}function kE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function B_(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?tt.comparator(tt.fromName(c.referenceValue),t.key):xu(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function BS(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zo(n.position[t],e.position[t]))return!1;return!0}class Ma{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=_,this._t=null,this.wt=null}}function U_(n,e,t,r,i,a,c,f){return new Ma(n,e,t,r,i,a,c,f)}function Zh(n){return new Ma(n)}function PE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function FE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function LE(n){for(const e of n.filters)if(e.dt())return e.field;return null}function ub(n){return null!==n.collectionGroup}function Wh(n){const e=nt(n);if(null===e._t){e._t=[];const t=LE(e),r=FE(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new zh(t)),e._t.push(new zh(Cr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new zh(Cr.keyField(),a))}}}return e._t}function fs(n){const e=nt(n);if(!e.wt)if("F"===e.limitType)e.wt=V_(e.path,e.collectionGroup,Wh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Wh(e))t.push(new zh(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new ku(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ku(e.startAt.position,e.startAt.inclusive):null;e.wt=V_(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function cb(n,e,t){return new Ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function j_(n,e){return pd(fs(n),fs(e))&&n.limitType===e.limitType}function US(n){return`${fd(fs(n))}|lt:${n.limitType}`}function VE(n){return`Query(target=${function ab(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${rg(r.value)}`;var r}).join(", ")}]`),qh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>rg(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>rg(t)).join(",")),`Target(${e})`}(fs(n))}; limitType=${n.limitType})`}function BE(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):tt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=B_(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,Wh(t),r)||t.endAt&&!function(i,a,c){const f=B_(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,Wh(t),r)));var t,r}function UE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jS(n){return(e,t)=>{let r=!1;for(const i of Wh(n)){const a=yO(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function yO(n,e,t){const r=n.field.isKeyField()?tt.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),_=c.data.field(i);return null!==f&&null!==_?xu(f,_):at()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}function HS(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mu(e)?"-0":e}}function GS(n){return{integerValue:""+n}}function jE(n,e){return tg(e)?GS(e):HS(n,e)}class db{constructor(){this._=void 0}}function s(n,e,t){return n instanceof d?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof h?g(n,e):n instanceof v?D(n,e):function(r,i){const a=u(r,i),c=N(a)+N(r.yt);return ib(a)&&ib(r.yt)?GS(c):HS(r.It,c)}(n,e)}function o(n,e,t){return n instanceof h?g(n,e):n instanceof v?D(n,e):t}function u(n,e){return n instanceof E?ib(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class d extends db{}class h extends db{constructor(e){super(),this.elements=e}}function g(n,e){const t=R(e);for(const r of n.elements)t.some(i=>zo(i,r))||t.push(r);return{arrayValue:{values:t}}}class v extends db{constructor(e){super(),this.elements=e}}function D(n,e){let t=R(e);for(const r of n.elements)t=t.filter(i=>!zo(i,r));return{arrayValue:{values:t}}}class E extends db{constructor(e,t){super(),this.It=e,this.yt=t}}function N(n){return tr(n.integerValue||n.doubleValue)}function R(n){return ig(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class B{constructor(e,t){this.field=e,this.transform=t}}class ge{constructor(e,t){this.version=e,this.transformResults=t}}class we{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new we}static exists(e){return new we(void 0,e)}static updateTime(e){return new we(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qe(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ye{}function ct(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Pu(n.key,we.none()):new yn(n.key,n.data,we.none());{const t=n.data,r=Kr.empty();let i=new En(Cr.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new Wi(n.key,r,new ks(i.toArray()),we.none())}}function bt(n,e,t){n instanceof yn?function(r,i,a){const c=r.value.clone(),f=G_(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Wi?function(r,i,a){if(!qe(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=G_(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(H_(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ke(n,e,t,r){return n instanceof yn?function(i,a,c,f){if(!qe(i.precondition,a))return c;const _=i.value.clone(),b=$_(i.fieldTransforms,f,a);return _.setAll(b),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Wi?function(i,a,c,f){if(!qe(i.precondition,a))return c;const _=$_(i.fieldTransforms,f,a),b=a.data;return b.setAll(H_(i)),b.setAll(_),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(c=t,qe(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function Nt(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=u(r.transform,i||null);null!=a&&(null===t&&(t=Kr.empty()),t.set(r.field,a))}return t||null}function cn(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&cd(t,r,(i,a)=>function ne(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof h&&r instanceof h||t instanceof v&&r instanceof v?cd(t.elements,r.elements,zo):t instanceof E&&r instanceof E?zo(t.yt,r.yt):t instanceof d&&r instanceof d);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class yn extends Ye{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wi extends Ye{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function H_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function G_(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,o(c,f,t[i]))}return r}function $_(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,s(a,c,e))}return r}class Pu extends Ye{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sg extends Ye{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hb{constructor(e){this.count=e}}var fr,tn;function q_(n){switch(n){default:return at();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}function vO(n){if(void 0===n)return Tr("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case fr.OK:return Ce.OK;case fr.CANCELLED:return Ce.CANCELLED;case fr.UNKNOWN:return Ce.UNKNOWN;case fr.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case fr.INTERNAL:return Ce.INTERNAL;case fr.UNAVAILABLE:return Ce.UNAVAILABLE;case fr.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case fr.NOT_FOUND:return Ce.NOT_FOUND;case fr.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case fr.ABORTED:return Ce.ABORTED;case fr.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case fr.DATA_LOSS:return Ce.DATA_LOSS;default:return at()}}(tn=fr||(fr={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class Kh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Au(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return x_(this.inner)}size(){return this.innerSize}}const yF=new gn(tt.comparator);function go(){return yF}const bO=new gn(tt.comparator);function fb(...n){let e=bO;for(const t of n)e=e.insert(t.key,t);return e}function wO(n){let e=bO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fu(){return pb()}function DO(){return pb()}function pb(){return new Kh(n=>n.toString(),(n,e)=>n.isEqual(e))}const vF=new gn(tt.comparator),bF=new En(tt.comparator);function zt(...n){let e=bF;for(const t of n)e=e.add(t);return e}const wF=new En(Pt);function HE(){return wF}class gb{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,mb.createSynthesizedTargetChangeForCurrentChange(e,t)),new gb(At.min(),r,HE(),go(),zt())}}class mb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new mb(Wr.EMPTY_BYTE_STRING,t,zt(),zt(),zt())}}class GE{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class EO{constructor(e,t){this.targetId=e,this.At=t}}class TO{constructor(e,t,r=Wr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class CO{constructor(){this.Rt=0,this.bt=SO(),this.Pt=Wr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=zt(),t=zt(),r=zt();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:at()}}),new mb(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=SO()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class DF{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=go(),this.qt=IO(),this.Kt=new En(Pt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const a=i.target;if(gd(a))if(0===r){const c=new tt(a.path);this.jt(t,c,Nn.newNoDocument(c,At.min()))}else xt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,c)=>{const f=this.Xt(c);if(f){if(a.current&&gd(f.target)){const _=new tt(f.target.path);null!==this.Ut.get(_)||this.ee(c,_)||this.jt(c,_,Nn.newNoDocument(_,e))}a.Dt&&(t.set(c,a.xt()),a.Nt())}});let r=zt();this.qt.forEach((a,c)=>{let f=!0;c.forEachWhile(_=>{const b=this.Xt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.Ut.forEach((a,c)=>c.setReadTime(e));const i=new gb(e,t,this.Kt,this.Ut,r);return this.Ut=go(),this.qt=IO(),this.Kt=new En(Pt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new CO,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new En(Pt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new CO),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function IO(){return new gn(tt.comparator)}function SO(){return new gn(tt.comparator)}const EF={asc:"ASCENDING",desc:"DESCENDING"},TF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class CF{constructor(e,t){this.databaseId=e,this.gt=t}}function _b(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AO(n,e){return n.gt?e.toBase64():e.toUint8Array()}function IF(n,e){return _b(n,e.toTimestamp())}function Oi(n){return xt(!!n),At.fromTimestamp(function(e){const t=Nu(e);return new Hn(t.seconds,t.nanos)}(n))}function $S(n,e){return(t=n,new Qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function NO(n){const e=Qt.fromString(n);return xt(VO(e)),e}function yb(n,e){return $S(n.databaseId,e.path)}function Lu(n,e){const t=NO(e);if(t.get(1)!==n.databaseId.projectId)throw new Ve(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ve(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(OO(t))}function qS(n,e){return $S(n.databaseId,e)}function MO(n){const e=NO(n);return 4===e.length?Qt.emptyPath():OO(e)}function vb(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OO(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function xO(n,e,t){return{name:yb(n,e),fields:t.value.mapValue.fields}}function RO(n,e,t){const r=Lu(n,e.name),i=Oi(e.updateTime),a=new Kr({mapValue:{fields:e.fields}}),c=Nn.newFoundDocument(r,i,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function bb(n,e){let t;if(e instanceof yn)t={update:xO(n,e.key,e.value)};else if(e instanceof Pu)t={delete:yb(n,e.key)};else if(e instanceof Wi)t={update:xO(n,e.key,e.data),updateMask:PF(e.fieldMask)};else{if(!(e instanceof sg))return at();t={verify:yb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof d)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof h)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof v)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof E)return{fieldPath:a.field.canonicalString(),increment:c.yt};throw at()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:IF(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:at()),t;var i}function zS(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?we.updateTime(Oi(i.updateTime)):void 0!==i.exists?we.exists(i.exists):we.none():we.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?(xt("REQUEST_TIME"===c.setToServerValue),f=new d):"appendMissingElements"in c?f=new h(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new v(c.removeAllFromArray.values||[]):"increment"in c?f=new E(a,c.increment):at();const _=Cr.fromServerFormat(c.fieldPath);return new B(_,f)}(n,i)):[];var i;if(e.update){const i=Lu(n,e.update.name),a=new Kr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ks((e.updateMask.fieldPaths||[]).map(b=>Cr.fromServerFormat(b)));return new Wi(i,a,c,t,r)}return new yn(i,a,t,r)}if(e.delete){const i=Lu(n,e.delete);return new Pu(i,t)}if(e.verify){const i=Lu(n,e.verify);return new sg(i,t)}return at()}function kO(n,e){return{documents:[qS(n,e.path)]}}function PO(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=qS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=qS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const b=_.map(T=>function(S){if("=="===S.op){if(OS(S.value))return{unaryFilter:{field:z_(S.field),op:"IS_NAN"}};if(MS(S.value))return{unaryFilter:{field:z_(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(OS(S.value))return{unaryFilter:{field:z_(S.field),op:"IS_NOT_NAN"}};if(MS(S.value))return{unaryFilter:{field:z_(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:z_(S.field),op:xF(S.op),value:S.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:z_((T=b).field),direction:OF(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(b=e.limit,n.gt||qh(b)?b:{value:b});var b,f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function FO(n){let e=MO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=LO(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new zh(Z_((S=T).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;t.limit&&(f=function(T){let S;return S="object"==typeof T?T.value:T,qh(S)?null:S}(t.limit));let _=null;var T;t.startAt&&(_=new ku((T=t.startAt).values||[],!!T.before));let b=null;return t.endAt&&(b=function(T){return new ku(T.values||[],!T.before)}(t.endAt)),U_(e,i,c,a,f,"F",_,b)}function LO(n){return n?void 0!==n.unaryFilter?[kF(n)]:void 0!==n.fieldFilter?[RF(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>LO(e)).reduce((e,t)=>e.concat(t)):at():[]}function OF(n){return EF[n]}function xF(n){return TF[n]}function z_(n){return{fieldPath:n.canonicalString()}}function Z_(n){return Cr.fromServerFormat(n.fieldPath)}function RF(n){return Mi.create(Z_(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(n.fieldFilter.op),n.fieldFilter.value)}function kF(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Z_(n.unaryFilter.field);return Mi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Z_(n.unaryFilter.field);return Mi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Z_(n.unaryFilter.field);return Mi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Z_(n.unaryFilter.field);return Mi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return at()}}function PF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ps(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=BO(e)),e=FF(n.get(t),e);return BO(e)}function FF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function BO(n){return n+"\x01\x01"}function Vu(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&at(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:at()}a=c+2}return new Qt(r)}const UO=["userId","batchId"];function $E(n,e){return[n,Ps(e)]}function jO(n,e,t){return[n,Ps(e),t]}const LF={},VF=["prefixPath","collectionGroup","readTime","documentId"],BF=["prefixPath","collectionGroup","documentId"],UF=["collectionGroup","readTime","prefixPath","documentId"],jF=["canonicalId","targetId"],HF=["targetId","path"],GF=["path","targetId"],$F=["collectionId","parent"],qF=["indexId","uid"],zF=["uid","sequenceNumber"],ZF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],WF=["indexId","uid","orderedDocumentKey"],KF=["userId","collectionPath","documentId"],YF=["userId","collectionPath","largestBatchId"],QF=["userId","collectionGroup","largestBatchId"],HO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],JF=[...HO,"documentOverlays"],GO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$O=GO,XF=[...$O,"indexConfiguration","indexState","indexEntries"];class ZS extends wE{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function xi(n,e){const t=nt(n);return qo.O(t.ie,e)}class WS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&bt(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ke(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ke(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=DO();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(i.key)?null:f;const _=ct(c,f);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(At.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zt())}isEqual(e){return this.batchId===e.batchId&&cd(this.mutations,e.mutations,(t,r)=>cn(t,r))&&cd(this.baseMutations,e.baseMutations,(t,r)=>cn(t,r))}}class KS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=vF;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new KS(e,t,r,i)}}class YS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yh{constructor(e,t,r,i,a=At.min(),c=At.min(),f=Wr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new Yh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Yh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Yh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class qO{constructor(e){this.re=e}}function zO(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:qE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:yb(i=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:_b(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:og(e.version)};else{if(!e.isUnknownDocument())return at();r.unknownDocument={path:t.path.toArray(),version:og(e.version)}}var i,a;return r}function qE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function og(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ag(n){const e=new Hn(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function lg(n,e){const t=(e.baseMutations||[]).map(a=>zS(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>zS(n.re,a)),i=Hn.fromMillis(e.localWriteTimeMs);return new WS(e.batchId,i,t,r)}function wb(n){const e=ag(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ag(n.lastLimboFreeSnapshotVersion):At.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=fs(Zh(MO(i.documents[0])))):r=fs(FO(n.query)),new Yh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Wr.fromBase64String(n.resumeToken))}function ZO(n,e){const t=og(e.snapshotVersion),r=og(e.lastLimboFreeSnapshotVersion);let i;i=gd(e.target)?kO(n.re,e.target):PO(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fd(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function QS(n){const e=FO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?cb(e,e.limit,"L"):e}function JS(n,e){return new YS(e.largestBatchId,zS(n.re,e.overlayMutation))}function WO(n,e){const t=e.path.lastSegment();return[n,Ps(e.path.popLast()),t]}function KO(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:og(r.readTime),documentKey:Ps(r.documentKey.path),largestBatchId:r.largestBatchId}}class tL{getBundleMetadata(e,t){return YO(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:ag(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return YO(e).put({bundleId:(r=t).id,createTime:og(Oi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return QO(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:QS(i.bundledQuery),readTime:ag(i.readTime)};var i})}saveNamedQuery(e,t){return QO(e).put({name:(r=t).name,readTime:og(Oi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function YO(n){return xi(n,"bundles")}function QO(n){return xi(n,"namedQueries")}class zE{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new zE(e,t.uid||"")}getOverlay(e,t){return Db(e).get(WO(this.userId,t)).next(r=>r?JS(this.It,r):null)}getOverlays(e,t){const r=Fu();return ve.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new YS(t,c);i.push(this.ue(e,f))}),ve.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Ps(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(Db(e).Y("collectionPathOverlayIndex",f))}),ve.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Fu(),a=Ps(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Db(e).W("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const b=JS(this.It,_);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Fu();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Db(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,b,T)=>{const S=JS(this.It,b);a.size()<i||S.largestBatchId===c?(a.set(S.getKey(),S),c=S.largestBatchId):T.done()}).next(()=>a)}ue(e,t){return Db(e).put(function(r,i,a){const[c,f,_]=WO(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:bb(r.re,a.mutation)}}(this.It,this.userId,t))}}function Db(n){return xi(n,"documentOverlays")}class ug{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(tr(e.integerValue));else if("doubleValue"in e){const r=tr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Mu(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Gh(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?xS(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):at()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),tt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function nL(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function JO(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=nL(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}ug.Te=new ug;class rL{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=JO(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=JO(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class iL{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class sL{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Eb{constructor(){this.Be=new rL,this.Le=new iL(this.Be),this.Ue=new sL(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class cg{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new cg(this.indexId,this.documentKey,this.arrayValue,r)}}function dg(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=XO(n.arrayValue,e.arrayValue),0!==t?t:(t=XO(n.directionalValue,e.directionalValue),0!==t?t:tt.comparator(n.documentKey,e.documentKey)))}function XO(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class oL{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=K0(e);if(void 0!==t&&!this.ze(t))return!1;const r=dd(e);let i=0,a=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const c=r[i];if(!this.He(this.je,c)||!this.Je(this.Ge[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Ge.length||!this.Je(this.Ge[a++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class aL{constructor(){this.Ye=new XS}addToCollectionParentIndex(e,t){return this.Ye.add(t),ve.resolve()}getCollectionParents(e,t){return ve.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ve.resolve()}deleteFieldIndex(e,t){return ve.resolve()}getDocumentsMatchingTarget(e,t){return ve.resolve(null)}getIndexType(e,t){return ve.resolve(0)}getFieldIndexes(e,t){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,t){return ve.resolve(er.min())}getMinOffsetFromCollectionGroup(e,t){return ve.resolve(er.min())}updateCollectionGroup(e,t,r){return ve.resolve()}updateIndexEntries(e,t){return ve.resolve()}}class XS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new En(Qt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new En(Qt.comparator)).toArray()}}const ZE=new Uint8Array(0);class lL{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new XS,this.Ze=new Kh(r=>fd(r),(r,i)=>pd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:r,parent:Ps(i)};return ex(e).put(a)}return ve.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[DS(t),""],!1,!0);return ex(e).W(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(Vu(c.parent))}return r})}addFieldIndex(e,t){const r=WE(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete i.indexId;const a=r.add(i);if(t.indexState){const c=Cb(e);return a.next(f=>{c.put(KO(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=WE(e),i=Cb(e),a=Tb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Tb(e);let i=!0;const a=new Map;return ve.forEach(this.tn(t),c=>this.en(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=zt();const f=[];return ve.forEach(a,(_,b)=>{var T;Ge("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Je=>`${Je.fieldPath}:${Je.kind}`).join(",")}`} to execute ${fd(t)}`);const S=function(Je,$e){const We=K0($e);if(void 0===We)return null;for(const et of lb(Je,We.fieldPath))switch(et.op){case"array-contains-any":return et.value.arrayValue.values||[];case"array-contains":return[et.value]}return null}(b,_),F=function(Je,$e){const We=new Map;for(const et of dd($e))for(const gt of lb(Je,et.fieldPath))switch(gt.op){case"==":case"in":We.set(et.fieldPath.canonicalString(),gt.value);break;case"not-in":case"!=":return We.set(et.fieldPath.canonicalString(),gt.value),Array.from(We.values())}return null}(b,_),j=function(Je,$e){const We=[];let et=!0;for(const gt of dd($e)){const Ut=0===gt.kind?kS(Je,gt.fieldPath,Je.startAt):PS(Je,gt.fieldPath,Je.startAt);We.push(Ut.value),et&&(et=Ut.inclusive)}return new ku(We,et)}(b,_),J=function(Je,$e){const We=[];let et=!0;for(const gt of dd($e)){const Ut=0===gt.kind?PS(Je,gt.fieldPath,Je.endAt):kS(Je,gt.fieldPath,Je.endAt);We.push(Ut.value),et&&(et=Ut.inclusive)}return new ku(We,et)}(b,_),ae=this.nn(_,b,j),me=this.nn(_,b,J),Pe=this.sn(_,b,F),Ue=this.rn(_.indexId,S,ae,j.inclusive,me,J.inclusive,Pe);return ve.forEach(Ue,Je=>r.J(Je,t.limit).next($e=>{$e.forEach(We=>{const et=tt.fromSegments(We.documentKey);c.has(et)||(c=c.add(et),f.push(et))})}))}).next(()=>f)}return ve.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,a,c,f){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),b=_/(null!=t?t.length:1),T=[];for(let S=0;S<_;++S){const F=t?this.on(t[S/b]):ZE,j=this.un(e,F,r[S%b],i),J=this.cn(e,F,a[S%b],c),ae=f.map(me=>this.un(e,F,me,!0));T.push(...this.createRange(j,J,ae))}return T}un(e,t,r,i){const a=new cg(e,tt.empty(),t,r);return i?a:a.Ke()}cn(e,t,r,i){const a=new cg(e,tt.empty(),t,r);return i?a.Ke():a}en(e,t){const r=new oL(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const f of a)r.We(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;return ve.forEach(this.tn(t),i=>this.en(e,i).next(a=>{a?0!==r&&a.fields.length<function(c){let f=new En(Cr.comparator),_=!1;for(const b of c.filters){const T=b;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?_=!0:f=f.add(T.field))}for(const b of c.orderBy)b.field.isKeyField()||(f=f.add(b.field));return f.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new Eb;for(const i of dd(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.qe(i.kind);ug.Te.ce(a,c)}return r.$e()}on(e){const t=new Eb;return ug.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new Eb;return ug.Te.ce(hd(this.databaseId,t),r.qe(function(i){const a=dd(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new Eb);let a=0;for(const c of dd(e)){const f=r[a++];for(const _ of i)if(this.ln(t,c.fieldPath)&&ig(f))i=this.fn(i,c,f);else{const b=_.qe(c.kind);ug.Te.ce(f,b)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const _=new Eb;_.seed(f.$e()),ug.Te.ce(c,_.qe(t.kind)),a.push(_)}return a}ln(e,t){return!!e.filters.find(r=>r instanceof Mi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=WE(e),i=Cb(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const c=[];return ve.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{c.push(function(b,T){const S=T?new Uh(T.sequenceNumber,new er(ag(T.readTime),new tt(Vu(T.documentKey)),T.largestBatchId)):Uh.empty(),F=b.fields.map(([j,J])=>new Y0(Cr.fromServerFormat(j),J));return new W0(b.indexId,b.collectionGroup,F,S)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Pt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=WE(e),a=Cb(e);return this._n(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ve.forEach(f,_=>a.put(KO(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ve.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?ve.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ve.forEach(f,_=>this.wn(e,i,_).next(b=>{const T=this.mn(a,_);return b.isEqual(T)?ve.resolve():this.gn(e,a,_,b,T)}))))})}yn(e,t,r,i){return Tb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return Tb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=Tb(e);let a=new En(dg);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(c,f)=>{a=a.add(new cg(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}mn(e,t){let r=new En(dg);const i=this.an(t,e);if(null==i)return r;const a=K0(t);if(null!=a){const c=e.data.field(a.fieldPath);if(ig(c))for(const f of c.arrayValue.values||[])r=r.add(new cg(t.indexId,e.key,this.on(f),i))}else r=r.add(new cg(t.indexId,e.key,ZE,i));return r}gn(e,t,r,i,a){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,_,b,T,S){const F=f.getIterator(),j=_.getIterator();let J=Hh(F),ae=Hh(j);for(;J||ae;){let me=!1,Pe=!1;if(J&&ae){const Ue=b(J,ae);Ue<0?Pe=!0:Ue>0&&(me=!0)}else null!=J?Pe=!0:me=!0;me?(T(ae),ae=Hh(j)):Pe?(S(J),J=Hh(F)):(J=Hh(F),ae=Hh(j))}}(i,a,dg,f=>{c.push(this.yn(e,t,r,f))},f=>{c.push(this.pn(e,t,r,f))}),ve.waitFor(c)}_n(e){let t=1;return Cb(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>dg(c,f)).filter((c,f,_)=>!f||0!==dg(c,_[f-1]));const i=[];i.push(e);for(const c of r){const f=dg(c,e),_=dg(c,t);if(0===f)i[0]=e.Ke();else if(f>0&&_<0)i.push(c),i.push(c.Ke());else if(_>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2)a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,ZE,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,ZE,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(tx)}getMinOffset(e,t){return ve.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||at())).next(tx)}}function ex(n){return xi(n,"collectionParents")}function Tb(n){return xi(n,"indexEntries")}function WE(n){return xi(n,"indexConfiguration")}function Cb(n){return xi(n,"indexState")}function tx(n){xt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;J0(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new er(e.readTime,e.documentKey,t)}const nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mo(e,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rx(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=r.Z({range:c},(T,S,F)=>(f++,F.delete()));a.push(_.next(()=>{xt(1===f)}));const b=[];for(const T of t.mutations){const S=jO(e,T.key.path,t.batchId);a.push(i.delete(S)),b.push(T.key)}return ve.waitFor(a).next(()=>b)}function KE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at();e=n.noDocument}return JSON.stringify(e).length}mo.DEFAULT_COLLECTION_PERCENTILE=10,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mo.DEFAULT=new mo(41943040,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mo.DISABLED=new mo(-1,0,0);class YE{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){xt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new YE(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qh(e).Z({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=W_(e),c=Qh(e);return c.add({}).next(f=>{xt("number"==typeof f);const _=new WS(f,t,r,i),b=function(F,j,J){const ae=J.baseMutations.map(Pe=>bb(F.re,Pe)),me=J.mutations.map(Pe=>bb(F.re,Pe));return{userId:j,batchId:J.batchId,localWriteTimeMs:J.localWriteTime.toMillis(),baseMutations:ae,mutations:me}}(this.It,this.userId,_),T=[];let S=new En((F,j)=>Pt(F.canonicalString(),j.canonicalString()));for(const F of i){const j=jO(this.userId,F.key.path,f);S=S.add(F.key.path.popLast()),T.push(c.put(b)),T.push(a.put(j,LF))}return S.forEach(F=>{T.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.In[f]=_.keys()}),ve.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return Qh(e).get(t).next(r=>r?(xt(r.userId===this.userId),lg(this.It,r)):null)}Tn(e,t){return this.In[t]?ve.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Qh(e).Z({index:"userMutationsIndex",range:i},(c,f,_)=>{f.userId===this.userId&&(xt(f.batchId>=r),a=lg(this.It,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Qh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qh(e).W("userMutationsIndex",t).next(r=>r.map(i=>lg(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=$E(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return W_(e).Z({range:i},(c,f,_)=>{const[b,T,S]=c,F=Vu(T);if(b===this.userId&&t.path.isEqual(F))return Qh(e).get(S).next(j=>{if(!j)throw at();xt(j.userId===this.userId),a.push(lg(this.It,j))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(Pt);const i=[];return t.forEach(a=>{const c=$E(this.userId,a.path),f=IDBKeyRange.lowerBound(c),_=W_(e).Z({range:f},(b,T,S)=>{const[F,j,J]=b,ae=Vu(j);F===this.userId&&a.path.isEqual(ae)?r=r.add(J):S.done()});i.push(_)}),ve.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=$E(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new En(Pt);return W_(e).Z({range:c},(_,b,T)=>{const[S,F,j]=_,J=Vu(F);S===this.userId&&r.isPrefixOf(J)?J.length===i&&(f=f.add(j)):T.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Qh(e).get(a).next(c=>{if(null===c)throw at();xt(c.userId===this.userId),r.push(lg(this.It,c))}))}),ve.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return rx(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ve.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ve.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return W_(e).Z({range:r},(a,c,f)=>{if(a[0]===this.userId){const _=Vu(a[1]);i.push(_)}else f.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return ix(e,this.userId,t)}Rn(e){return sx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ix(n,e,t){const r=$E(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return W_(n).Z({range:a,X:!0},(f,_,b)=>{const[T,S,F]=f;T===e&&S===i&&(c=!0),b.done()}).next(()=>c)}function Qh(n){return xi(n,"mutations")}function W_(n){return xi(n,"documentMutations")}function sx(n){return xi(n,"mutationQueues")}class hg{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new hg(0)}static vn(){return new hg(-1)}}class uL{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new hg(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>At.fromTimestamp(new Hn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>K_(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return K_(e).Z((c,f)=>{const _=wb(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>ve.waitFor(a)).next(()=>i)}forEachTarget(e,t){return K_(e).Z((r,i)=>{const a=wb(i);t(a)})}Vn(e){return ox(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}Sn(e,t){return ox(e).put("targetGlobalKey",t)}Dn(e,t){return K_(e).put(ZO(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=fd(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return K_(e).Z({range:i,index:"queryTargetsIndex"},(c,f,_)=>{const b=wb(f);pd(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Jh(e);return t.forEach(c=>{const f=Ps(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),ve.waitFor(i)}removeMatchingKeys(e,t,r){const i=Jh(e);return ve.forEach(t,a=>{const c=Ps(a.path);return ve.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Jh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Jh(e);let a=zt();return i.Z({range:r,X:!0},(c,f,_)=>{const b=Vu(c[1]),T=new tt(b);a=a.add(T)}).next(()=>a)}containsKey(e,t){const r=Ps(t.path),i=IDBKeyRange.bound([r],[DS(r)],!1,!0);let a=0;return Jh(e).Z({index:"documentTargetsIndex",X:!0,range:i},([c,f],_,b)=>{0!==c&&(a++,b.done())}).next(()=>a>0)}se(e,t){return K_(e).get(t).next(r=>r?wb(r):null)}}function K_(n){return xi(n,"targets")}function ox(n){return xi(n,"targetGlobal")}function Jh(n){return xi(n,"targetDocuments")}function ax([n,e],[t,r]){const i=Pt(n,t);return 0===i?Pt(e,r):i}class cL{constructor(e){this.xn=e,this.buffer=new En(ax),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ax(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ne.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Dl(r)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Vr(r)}yield t.Fn(3e5)}))}}class hL{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ve.resolve(Ai.at);const r=new cL(t);return this.$n.forEachTarget(e,i=>r.Mn(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.Mn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(nx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nx):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,a,c,f,_,b;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,c=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,f=Date.now(),this.removeTargets(e,r,t))).next(S=>(a=S,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(b=Date.now(),S_()<=Ia.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${S} documents in `+(b-_)+`ms\nTotal Duration: ${b-T}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:S})))}}class fL{constructor(e,t){this.db=e,this.garbageCollector=new hL(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return QE(e,r)}removeReference(e,t,r){return QE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return QE(e,t)}Gn(e,t){return function(r,i){let a=!1;return sx(r).tt(c=>ix(r,c,i).next(f=>(f&&(a=!0),ve.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(c,f)=>{if(f<=t){const _=this.Gn(e,c).next(b=>{if(!b)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,At.min()),Jh(e).delete([0,Ps(c.path)])))});i.push(_)}}).next(()=>ve.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return QE(e,t)}Kn(e,t){const r=Jh(e);let i,a=Ai.at;return r.Z({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:b})=>{0===c?(a!==Ai.at&&t(new tt(Vu(i)),a),a=b,i=_):a=Ai.at}).next(()=>{a!==Ai.at&&t(new tt(Vu(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function QE(n,e){return Jh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ps(e.path),sequenceNumber:r}));var r}class lx{constructor(){this.changes=new Kh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ve.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pL{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return fg(e).put(r)}removeEntry(e,t,r){return fg(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],qE(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Nn.newInvalidDocument(t);return fg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ib(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:Nn.newInvalidDocument(t)};return fg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ib(t))},(i,a)=>{r={document:this.jn(t,a),size:KE(a)}}).next(()=>r)}getEntries(e,t){let r=go();return this.zn(e,t,(i,a)=>{const c=this.jn(i,a);r=r.insert(i,c)}).next(()=>r)}Hn(e,t){let r=go(),i=new gn(tt.comparator);return this.zn(e,t,(a,c)=>{const f=this.jn(a,c);r=r.insert(a,f),i=i.insert(a,KE(c))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ve.resolve();let i=new En(hx);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(Ib(i.first()),Ib(i.last())),c=i.getIterator();let f=c.getNext();return fg(e).Z({index:"documentKeyIndex",range:a},(_,b,T)=>{const S=tt.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&hx(f,S)<0;)r(f,null),f=c.getNext();f&&f.isEqual(S)&&(r(f,b),f=c.hasNext()?c.getNext():null),f?T.j(Ib(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),qE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fg(e).W(IDBKeyRange.bound(i,a,!0)).next(c=>{let f=go();for(const _ of c){const b=this.jn(tt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=go();const c=dx(t,r),f=dx(t,er.max());return fg(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,b,T)=>{const S=this.jn(tt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(S.key,S),a.size===i&&T.done()}).next(()=>a)}newChangeBuffer(e){return new gL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return cx(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Qn(e,t){return cx(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function eL(n,e){let t;if(e.document)t=RO(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=tt.fromSegments(e.noDocument.path),i=ag(e.noDocument.readTime);t=Nn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at();{const r=tt.fromSegments(e.unknownDocument.path),i=ag(e.unknownDocument.version);t=Nn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Hn(r[0],r[1]);return At.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(At.min()))return r}return Nn.newInvalidDocument(e)}}function ux(n){return new pL(n)}class gL extends lx{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Kh(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new En((a,c)=>Pt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const _=zO(this.Yn.It,c);i=i.add(a.path.popLast()),r+=KE(_)-f.size,t.push(this.Yn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=zO(this.Yn.It,c.convertToNoDocument(At.min()));t.push(this.Yn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),ve.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function cx(n){return xi(n,"remoteDocumentGlobal")}function fg(n){return xi(n,"remoteDocumentsV14")}function Ib(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dx(n,e){const t=e.documentKey.path.toArray();return[n,qE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function hx(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Pt(t[a],r[a]),i)return i;return i=Pt(t.length,r.length),i||(i=Pt(t[t.length-2],r[r.length-2]),i||Pt(t[t.length-1],r[r.length-1]))}class mL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fx{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&ke(r.mutation,i,ks.empty(),Hn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=zt()){const i=Fu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=fb();return a.forEach((f,_)=>{c=c.insert(f,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Fu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,zt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let a=go();const c=pb(),f=pb();return t.forEach((_,b)=>{const T=r.get(b.key);i.has(b.key)&&(void 0===T||T.mutation instanceof Wi)?a=a.insert(b.key,b):void 0!==T&&(c.set(b.key,T.mutation.getFieldMask()),ke(T.mutation,b,T.mutation.getFieldMask(),Hn.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((b,T)=>c.set(b,T)),t.forEach((b,T)=>{var S;return f.set(b,new mL(T,null!==(S=c.get(b))&&void 0!==S?S:null))}),f))}recalculateAndSaveOverlays(e,t){const r=pb();let i=new gn((c,f)=>c-f),a=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let T=r.get(_)||ks.empty();T=f.applyToLocalView(b,T),r.set(_,T);const S=(i.get(f.batchId)||zt()).add(_);i=i.insert(f.batchId,S)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),b=_.key,T=_.value,S=DO();T.forEach(F=>{if(!a.has(F)){const j=ct(t.get(F),r.get(F));null!==j&&S.set(F,j),a=a.add(F)}}),c.push(this.documentOverlayCache.saveOverlays(e,b,S))}return ve.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return tt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ub(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ve.resolve(Fu());let f=-1,_=a;return c.next(b=>ve.forEach(b,(T,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),a.get(T)?ve.resolve():this.getBaseDocument(e,T,S).next(F=>{_=_.insert(T,F)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,_,b,zt())).next(T=>({batchId:f,changes:wO(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tt(t)).next(r=>{let i=fb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=fb();return this.indexManager.getCollectionParents(e,i).next(c=>ve.forEach(c,f=>{const _=(b=t,T=f.child(i),new Ma(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(b=>{b.forEach((T,S)=>{a=a.insert(T,S)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((f,_)=>{const b=_.getKey();null===i.get(b)&&(i=i.insert(b,Nn.newInvalidDocument(b)))});let c=fb();return i.forEach((f,_)=>{const b=a.get(f);void 0!==b&&ke(b.mutation,_,ks.empty(),Hn.now()),BE(t,_)&&(c=c.insert(f,_))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ve.resolve(Nn.newInvalidDocument(t))}}class _L{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ve.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Oi(r.createTime)}),ve.resolve()}getNamedQuery(e,t){return ve.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:QS(r.bundledQuery),readTime:Oi(r.readTime)}),ve.resolve();var r}}class yL{constructor(){this.overlays=new gn(tt.comparator),this.es=new Map}getOverlay(e,t){return ve.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fu();return ve.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ue(e,t,a)}),ve.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),ve.resolve()}getOverlaysForCollection(e,t,r){const i=Fu(),a=t.length+1,c=new tt(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new gn((b,T)=>b-T);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let T=a.get(b.largestBatchId);null===T&&(T=Fu(),a=a.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const f=Fu(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,T)=>f.set(b,T)),!(f.size()>=i)););return ve.resolve(f)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new YS(t,r));let a=this.es.get(t);void 0===a&&(a=zt(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class eA{constructor(){this.ns=new En(Ri.ss),this.rs=new En(Ri.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ri(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ri(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new tt(new Qt([])),r=new Ri(t,e),i=new Ri(t,e+1),a=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new tt(new Qt([])),r=new Ri(t,e),i=new Ri(t,e+1);let a=zt();return this.rs.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Ri(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ri{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return tt.comparator(e.key,t.key)||Pt(e._s,t._s)}static os(e,t){return Pt(e._s,t._s)||tt.comparator(e.key,t.key)}}class vL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new En(Ri.ss)}checkEmpty(e){return ve.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const c=new WS(a,t,r,i);this.mutationQueue.push(c);for(const f of i)this.gs=this.gs.add(new Ri(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ve.resolve(c)}lookupMutationBatch(e,t){return ve.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return ve.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ri(t,0),i=new Ri(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],c=>{const f=this.ys(c._s);a.push(f)}),ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(Pt);return t.forEach(i=>{const a=new Ri(i,0),c=new Ri(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],f=>{r=r.add(f._s)})}),ve.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;tt.isDocumentKey(a)||(a=a.child(""));const c=new Ri(new tt(a),0);let f=new En(Pt);return this.gs.forEachWhile(_=>{const b=_.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(f=f.add(_._s)),!0)},c),ve.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ve.forEach(t.mutations,i=>{const a=new Ri(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ri(t,0),i=this.gs.firstAfterOrEqual(r);return ve.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ve.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bL{constructor(e){this.Es=e,this.docs=new gn(tt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ve.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(t))}getEntries(e,t){let r=go();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Nn.newInvalidDocument(i))}),ve.resolve(r)}getAllFromCollection(e,t,r){let i=go();const a=new tt(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:_}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||J0(IS(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return ve.resolve(i)}getAllFromCollectionGroup(e,t,r,i){at()}As(e,t){return ve.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new wL(this)}getSize(e){return ve.resolve(this.size)}}class wL extends lx{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ve.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class DL{constructor(e){this.persistence=e,this.Rs=new Kh(t=>fd(t),pd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.bs=0,this.Ps=new eA,this.targetCount=0,this.vs=hg.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ve.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new hg(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ve.resolve()}updateTargetData(e,t){return this.Dn(t),ve.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ve.waitFor(a).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ve.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ve.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),ve.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ve.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ve.resolve(r)}containsKey(e,t){return ve.resolve(this.Ps.containsKey(t))}}class px{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ai(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new DL(this),this.indexManager=new aL,this.remoteDocumentCache=new bL(r=>this.referenceDelegate.xs(r)),this.It=new qO(t),this.Ns=new _L(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new vL(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ge("MemoryPersistence","Starting transaction:",e);const i=new EL(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Ms(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Os(e,t){return ve.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class EL extends wE{constructor(e){super(),this.currentSequenceNumber=e}}class JE{constructor(e){this.persistence=e,this.Fs=new eA,this.$s=null}static Bs(e){return new JE(e)}get Ls(){if(this.$s)return this.$s;throw at()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ve.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ve.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Ls,r=>{const i=tt.fromPath(r);return this.Us(e,i).next(a=>{a||t.removeEntry(i,At.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ve.or([()=>ve.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class TL{constructor(e){this.It=e}$(e,t,r,i){const a=new O_("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UO,{unique:!0}),f.createObjectStore("documentMutations"),gx(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=ve.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),gx(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,_){return _.store("mutations").W().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UO,{unique:!0});const T=_.store("mutations"),S=b.map(F=>T.put(F));return ve.waitFor(S)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.qs(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(c=c.next(()=>this.Gs(a))),r<8&&i>=8&&(c=c.next(()=>this.Qs(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.js(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:KF});_.createIndex("collectionPathOverlayIndex",YF,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",QF,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:VF});_.createIndex("documentKeyIndex",BF),_.createIndex("collectionGroupIndex",UF)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.zs(e,a))),r<15&&i>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:qF}).createIndex("sequenceNumberIndex",zF,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:ZF}).createIndex("documentKeyIndex",WF,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=KE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ve.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(f=>ve.forEach(f,_=>{xt(_.userId===a.userId);const b=lg(this.It,_);return rx(e,a.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((c,f)=>{const _=new Qt(c),b=[0,Ps(_)];a.push(t.get(b).next(T=>T?ve.resolve():t.put({targetId:0,path:Ps(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ve.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:$F});const r=t.store("collectionParents"),i=new XS,a=c=>{if(i.add(c)){const f=c.lastSegment(),_=c.popLast();return r.put({collectionId:f,parent:Ps(_)})}};return t.store("remoteDocuments").Z({X:!0},(c,f)=>{const _=new Qt(c);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,f,_],b)=>{const T=Vu(f);return a(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=wb(i),c=ZO(this.It,a);return t.put(c)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,c)=>{const f=t.store("remoteDocumentsV14"),_=(b=c,b.document?new tt(Qt.fromString(b.document.name).popFirst(5)):b.noDocument?tt.fromSegments(b.noDocument.path):b.unknownDocument?tt.fromSegments(b.unknownDocument.path):at()).path.toArray();var b;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(T))}).next(()=>ve.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=ux(this.It),a=new px(JE.Bs,this.It.re);return r.W().next(c=>{const f=new Map;return c.forEach(_=>{var b;let T=null!==(b=f.get(_.userId))&&void 0!==b?b:zt();lg(this.It,_).keys().forEach(S=>T=T.add(S)),f.set(_.userId,T)}),ve.forEach(f,(_,b)=>{const T=new Lr(b),S=zE.oe(this.It,T),F=a.getIndexManager(T),j=YE.oe(T,this.It,F,a.referenceDelegate);return new fx(i,j,S,F).recalculateAndSaveOverlaysForDocumentKeys(new ZS(t,Ai.at),_).next()})})}}function gx(n){n.createObjectStore("targetDocuments",{keyPath:HF}).createIndex("documentTargetsIndex",GF,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jF,{unique:!0}),n.createObjectStore("targetGlobal")}const tA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nA{constructor(e,t,r,i,a,c,f,_,b,T,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=c,this.document=f,this.Js=b,this.Ys=T,this.Xs=S,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=F=>Promise.resolve(),!nA.C())throw new Ve(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fL(this,i),this.ii=t+"main",this.It=new qO(_),this.ri=new qo(this.ii,this.Xs,new TL(this.It)),this.Cs=new uL(this.referenceDelegate,this.It),this.remoteDocumentCache=ux(this.It),this.Ns=new tL,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&Tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(Ce.FAILED_PRECONDITION,tA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ai(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Ne.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ne.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ne.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>XE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Dl(e))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Sb(e).get("owner").next(t=>ve.resolve(this.mi(t)))}gi(e){return XE(e).delete(this.clientId)}yi(){var e=this;return(0,Ne.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=xi(r,"clientMetadata");return i.W().next(a=>{const c=e.Ii(a,18e5),f=a.filter(_=>-1===c.indexOf(_));return ve.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ve.resolve(!0):Sb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ve(Ce.FAILED_PRECONDITION,tA);return!1}}return!(!this.networkEnabled||!this.inForeground)||XE(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ne.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new ZS(t,Ai.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>XE(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return YE.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lL(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return zE.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ge("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?XF:14===c?$O:13===c?GO:12===c?JF:11===c?HO:void at();var c;let f;return this.ri.runTransaction(e,i,a,_=>(f=new ZS(_,this.Ss?this.Ss.next():Ai.at),"readwrite-primary"===t?this.fi(f).next(b=>!!b||this.di(f)).next(b=>{if(!b)throw Tr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ve(Ce.FAILED_PRECONDITION,M_);return r(f)}).next(b=>this.wi(f).next(()=>b)):this.Vi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Vi(e){return Sb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ve(Ce.FAILED_PRECONDITION,tA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sb(e).put("owner",t)}static C(){return qo.C()}_i(e){const t=Sb(e);return t.get("owner").next(r=>this.mi(r)?(Ge("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ve.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Tr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,an.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ge("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Tr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Tr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sb(n){return xi(n,"owner")}function XE(n){return xi(n,"clientMetadata")}function rA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class iA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=zt(),i=zt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new iA(e,t.fromCache,r,i)}}class mx{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Mi(e,t,i,r)).next(a=>a||this.Oi(e,t))}ki(e,t){if(PE(t))return ve.resolve(null);let r=fs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=cb(t,null,"F"),r=fs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=zt(...a);return this.Ni.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(_=>{const b=this.Fi(t,f);return this.$i(t,b,c,_.readTime)?this.ki(e,cb(t,null,"F")):this.Bi(e,b,t,_)}))})))}Mi(e,t,r,i){return PE(t)||i.isEqual(At.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,r,i)?this.Oi(e,t):(S_()<=Ia.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),VE(t)),this.Bi(e,c,t,Q0(i,-1)))})}Fi(e,t){let r=new En(jS(e));return t.forEach((i,a)=>{BE(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Oi(e,t){return S_()<=Ia.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",VE(t)),this.Ni.getDocumentsMatchingQuery(e,t,er.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class CL{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new gn(Pt),this.qi=new Kh(a=>fd(a),pd),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function _x(n,e,t,r){return new CL(n,e,t,r)}function yx(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,Ne.Z)(function*(n,e){const t=nt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let _=zt();for(const b of i){c.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}for(const b of a){f.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}return t.localDocuments.getDocuments(r,_).next(b=>({ji:b,removedBatchIds:c,addedBatchIds:f}))})})}),sA.apply(this,arguments)}function IL(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,f,_,b){const T=_.batch,S=T.keys();let F=ve.resolve();return S.forEach(j=>{F=F.next(()=>b.getEntry(f,j)).next(J=>{const ae=_.docVersions.get(j);xt(null!==ae),J.version.compareTo(ae)<0&&(T.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),b.addEntry(J)))})}),F.next(()=>c.mutationQueue.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=zt();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(f=f.add(c.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function vx(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function SL(n,e){const t=nt(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const f=[];e.targetChanges.forEach((T,S)=>{const F=i.get(S);if(!F)return;f.push(t.Cs.removeMatchingKeys(a,T.removedDocuments,S).next(()=>t.Cs.addMatchingKeys(a,T.addedDocuments,S)));let j=F.withSequenceNumber(a.currentSequenceNumber);var J,ae,me;e.targetMismatches.has(S)?j=j.withResumeToken(Wr.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,r)),i=i.insert(S,j),ae=j,me=T,(0===(J=F).resumeToken.approximateByteSize()||ae.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,j))});let _=go(),b=zt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,T))}),f.push(bx(a,c,e.documentUpdates).next(T=>{_=T.Wi,b=T.zi})),!r.isEqual(At.min())){const T=t.Cs.getLastRemoteSnapshotVersion(a).next(S=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(T)}return ve.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,b)).next(()=>_)}).then(a=>(t.Ui=i,a))}function bx(n,e,t){let r=zt(),i=zt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=go();return t.forEach((f,_)=>{const b=a.get(f);_.isFoundDocument()!==b.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(At.min())?(e.removeEntry(f,_.readTime),c=c.insert(f,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),c=c.insert(f,_)):Ge("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",_.version)}),{Wi:c,zi:i}})}function AL(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y_(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,ve.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new Yh(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Q_(n,e,t){return oA.apply(this,arguments)}function oA(){return oA=(0,Ne.Z)(function*(n,e,t){const r=nt(n),i=r.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Dl(c))throw c;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),oA.apply(this,arguments)}function eT(n,e,t){const r=nt(n);let i=At.min(),a=zt();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,_,b){const T=nt(f),S=T.qi.get(b);return void 0!==S?ve.resolve(T.Ui.get(S)):T.Cs.getTargetData(_,b)}(r,c,fs(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,f.targetId).next(_=>{a=_})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:At.min(),t?a:zt())).next(f=>(Ex(r,UE(e),f),{documents:f,Hi:a})))}function wx(n,e){const t=nt(n),r=nt(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.se(a,e).next(c=>c?c.target:null))}function Dx(n,e){const t=nt(n),r=t.Ki.get(e)||At.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,Q0(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Ex(t,e,i),i))}function Ex(n,e,t){let r=At.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function aA(){return aA=(0,Ne.Z)(function*(n,e,t,r){const i=nt(n);let a=zt(),c=go();for(const b of t){const T=e.Ji(b.metadata.name);b.document&&(a=a.add(T));const S=e.Yi(b);S.setReadTime(e.Xi(b.metadata.readTime)),c=c.insert(T,S)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),_=yield Y_(i,(b=r,fs(Zh(Qt.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>bx(b,f,c).next(T=>(f.apply(b),T)).next(T=>i.Cs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>i.Cs.addMatchingKeys(b,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(b,T.Wi,T.zi)).next(()=>T.Wi)))}),aA.apply(this,arguments)}function ML(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,Ne.Z)(function*(n,e,t=zt()){const r=yield Y_(n,fs(QS(e.bundledQuery))),i=nt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=Oi(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ns.saveNamedQuery(a,e);const f=r.withResumeToken(Wr.EMPTY_BYTE_STRING,c);return i.Ui=i.Ui.insert(f.targetId,f),i.Cs.updateTargetData(a,f).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),lA.apply(this,arguments)}function Tx(n,e){return`firestore_clients_${n}_${e}`}function Cx(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function uA(n,e){return`firestore_targets_${n}_${e}`}class tT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Ve(i.error.code,i.error.message))),c?new tT(e,t,i.state,a):(Tr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ab{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Ve(r.error.code,r.error.message))),a?new Ab(e,r.state,i):(Tr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=HE();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=tg(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new nT(e,a):(Tr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class cA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cA(t.clientId,t.onlineState):(Tr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dA{constructor(){this.activeTargetIds=HE()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hA{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new gn(Pt),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Tx(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new dA),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(Tx(e.persistenceKey,i));if(a){const c=nT.Zi(i,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(uA(this.persistenceKey,e));if(r){const i=Ab.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ge("SharedClientState","READ",e,t),t}setItem(e,t){Ge("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ge("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ne.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let c=Ai.at;if(null!=a)try{const f=JSON.parse(a);xt("number"==typeof f),c=f}catch(f){Tr("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==Ai.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Mr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Or(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new tT(this.currentUser,e,t,r),a=Cx(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=Cx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=uA(this.persistenceKey,e),a=new Ab(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return nT.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return tT.Zi(new Lr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Ab.Zi(i,t)}yr(e){return cA.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ne.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),c=[],f=[];return a.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Br(c,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=HE();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Ix{constructor(){this.Lr=new dA,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new dA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OL{qr(e){}shutdown(){}}class Sx{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const xL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class RL{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class kL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,a){const c=this.ao(e,t);Ge("RestConnection","Sending: ",c,r);const f={};return this.ho(f,i,a),this.lo(e,c,f,r).then(_=>(Ge("RestConnection","Received: ",_),_),_=>{throw ud("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}fo(e,t,r,i,a,c){return this.co(e,t,r,i,a)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ao(e,t){return`${this.oo}/v1/${t}:${xL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){return new Promise((a,c)=>{const f=new bS;f.listenOnce(hE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case $0.NO_ERROR:const b=f.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(b)),a(b);break;case $0.TIMEOUT:Ge("Connection",'RPC "'+e+'" timed out'),c(new Ve(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case $0.HTTP_ERROR:const T=f.getStatus();if(Ge("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const S=f.getResponseJson().error;if(S&&S.status&&S.message){const F=function(j){const J=j.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(J)>=0?J:Ce.UNKNOWN}(S.status);c(new Ve(F,S.message))}else c(new Ve(Ce.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ve(Ce.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Ge("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}_o(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=yS(),c=vS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new gE({})),this.ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const _=i.join("");Ge("Connection","Creating WebChannel: "+_,f);const b=a.createWebChannel(_,f);let T=!1,S=!1;const F=new RL({Hr:J=>{S?Ge("Connection","Not sending because WebChannel is closed:",J):(T||(Ge("Connection","Opening WebChannel transport."),b.open(),T=!0),Ge("Connection","WebChannel sending:",J),b.send(J))},Jr:()=>b.close()}),j=(J,ae,me)=>{J.listen(ae,Pe=>{try{me(Pe)}catch(Ue){setTimeout(()=>{throw Ue},0)}})};return j(b,Jp.EventType.OPEN,()=>{S||Ge("Connection","WebChannel transport opened.")}),j(b,Jp.EventType.CLOSE,()=>{S||(S=!0,Ge("Connection","WebChannel transport closed"),F.io())}),j(b,Jp.EventType.ERROR,J=>{S||(S=!0,ud("Connection","WebChannel transport errored:",J),F.io(new Ve(Ce.UNAVAILABLE,"The operation could not be completed")))}),j(b,Jp.EventType.MESSAGE,J=>{var ae;if(!S){const me=J.data[0];xt(!!me);const Pe=me,Ue=Pe.error||(null===(ae=Pe[0])||void 0===ae?void 0:ae.error);if(Ue){Ge("Connection","WebChannel received error:",Ue);const Je=Ue.status;let $e=function(et){const gt=fr[et];if(void 0!==gt)return vO(gt)}(Je),We=Ue.message;void 0===$e&&($e=Ce.INTERNAL,We="Unknown error status: "+Je+" with message "+Ue.message),S=!0,F.io(new Ve($e,We)),b.close()}else Ge("Connection","WebChannel received:",me),F.ro(me)}}),j(c,fE.STAT_EVENT,J=>{J.stat===pE.PROXY?Ge("Connection","Detected buffering proxy"):J.stat===pE.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.so()},0),F}}function Ax(){return typeof window<"u"?window:null}function rT(){return typeof document<"u"?document:null}function Nb(n){return new CF(n,!0)}class fA{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Nx{constructor(e,t,r,i,a,c,f,_){this.Hs=e,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new fA(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Ne.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ne.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Ne.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(Tr(t.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===Ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Ve(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Ne.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PL extends Nx{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.It=a}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function AF(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:at(),i=e.targetChange.targetIds||[],a=function(_,b){return _.gt?(xt(void 0===b||"string"==typeof b),Wr.fromBase64String(b||"")):(xt(void 0===b||b instanceof Uint8Array),Wr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const b=void 0===_.code?Ce.UNKNOWN:vO(_.code);return new Ve(b,_.message||"")}(c);t=new TO(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Lu(n,r.document.name),a=Oi(r.document.updateTime),c=new Kr({mapValue:{fields:r.document.fields}}),f=Nn.newFoundDocument(i,a,c);t=new GE(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Lu(n,r.document),a=r.readTime?Oi(r.readTime):At.min(),c=Nn.newNoDocument(i,a);t=new GE([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Lu(n,r.document);t=new GE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return at();{const r=e.filter,a=new hb(r.count||0);t=new EO(r.targetId,a)}}var _;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return At.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?At.min():a.readTime?Oi(a.readTime):At.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=vb(this.It),t.addTarget=function(i,a){let c;const f=a.target;return c=gd(f)?{documents:kO(i,f)}:{query:PO(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=AO(i,a.resumeToken):a.snapshotVersion.compareTo(At.min())>0&&(c.readTime=_b(i,a.snapshotVersion.toTimestamp())),c}(this.It,e);const r=function MF(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=vb(this.It),t.removeTarget=e,this.Bo(t)}}class FL extends Nx{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function NF(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let a=Oi(r.updateTime?r.updateTime:i);return a.isEqual(At.min())&&(a=Oi(i)),new ge(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.Zo(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=vb(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>bb(this.It,r))};this.Bo(t)}}class LL extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Ve(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.Vo.co(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ve(Ce.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.Vo.fo(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ve(Ce.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class VL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Tr(t),this.ou=!1):Ge("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class BL{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(f=>{r.enqueueAndForget((0,Ne.Z)(function*(){var _;Xh(c)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ne.Z)(function*(b){const T=nt(b);T._u.add(4),yield J_(T),T.gu.set("Unknown"),T._u.delete(4),yield Mb(T)}),function(b){return _.apply(this,arguments)})(c))}))}),this.gu=new VL(r,i)}}function Mb(n){return pA.apply(this,arguments)}function pA(){return pA=(0,Ne.Z)(function*(n){if(Xh(n))for(const e of n.wu)yield e(!0)}),pA.apply(this,arguments)}function J_(n){return gA.apply(this,arguments)}function gA(){return gA=(0,Ne.Z)(function*(n){for(const e of n.wu)yield e(!1)}),gA.apply(this,arguments)}function iT(n,e){const t=nt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),yA(t)?_A(t):ey(t).ko()&&mA(t,e))}function Ob(n,e){const t=nt(n),r=ey(t);t.du.delete(e),r.ko()&&Mx(t,e),0===t.du.size&&(r.ko()?r.Fo():Xh(t)&&t.gu.set("Unknown"))}function mA(n,e){n.yu.Ot(e.targetId),ey(n).zo(e)}function Mx(n,e){n.yu.Ot(e),ey(n).Ho(e)}function _A(n){n.yu=new DF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),ey(n).start(),n.gu.uu()}function yA(n){return Xh(n)&&!ey(n).No()&&n.du.size>0}function Xh(n){return 0===nt(n)._u.size}function Ox(n){n.yu=void 0}function UL(n){return vA.apply(this,arguments)}function vA(){return vA=(0,Ne.Z)(function*(n){n.du.forEach((e,t)=>{mA(n,e)})}),vA.apply(this,arguments)}function jL(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,Ne.Z)(function*(n,e){Ox(n),yA(n)?(n.gu.hu(e),_A(n)):n.gu.set("Unknown")}),bA.apply(this,arguments)}function HL(n,e,t){return wA.apply(this,arguments)}function wA(){return wA=(0,Ne.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof TO&&2===e.state&&e.cause)try{yield(r=(0,Ne.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.du.delete(f),i.yu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sT(n,r)}else if(e instanceof GE?n.yu.Gt(e):e instanceof EO?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(At.min()))try{const r=yield vx(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.yu.te(a);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=i.du.get(_);b&&i.du.set(_,b.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const _=i.du.get(f);if(!_)return;i.du.set(f,_.withResumeToken(Wr.EMPTY_BYTE_STRING,_.snapshotVersion)),Mx(i,f);const b=new Yh(_.target,f,1,_.sequenceNumber);mA(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ge("RemoteStore","Failed to raise snapshot:",r),yield sT(n,r)}var r}),wA.apply(this,arguments)}function sT(n,e,t){return DA.apply(this,arguments)}function DA(){return DA=(0,Ne.Z)(function*(n,e,t){if(!Dl(e))throw e;n._u.add(1),yield J_(n),n.gu.set("Offline"),t||(t=()=>vx(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ne.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Mb(n)}))}),DA.apply(this,arguments)}function xx(n,e){return e().catch(t=>sT(n,t,e))}function X_(n){return EA.apply(this,arguments)}function EA(){return EA=(0,Ne.Z)(function*(n){const e=nt(n),t=ef(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;GL(e);)try{const i=yield AL(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,$L(e,i)}catch(i){yield sT(e,i)}Rx(e)&&kx(e)}),EA.apply(this,arguments)}function GL(n){return Xh(n)&&n.fu.length<10}function $L(n,e){n.fu.push(e);const t=ef(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Rx(n){return Xh(n)&&!ef(n).No()&&n.fu.length>0}function kx(n){ef(n).start()}function qL(n){return TA.apply(this,arguments)}function TA(){return TA=(0,Ne.Z)(function*(n){ef(n).eu()}),TA.apply(this,arguments)}function zL(n){return CA.apply(this,arguments)}function CA(){return CA=(0,Ne.Z)(function*(n){const e=ef(n);for(const t of n.fu)e.Xo(t.mutations)}),CA.apply(this,arguments)}function ZL(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,Ne.Z)(function*(n,e,t){const r=n.fu.shift(),i=KS.from(r,e,t);yield xx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield X_(n)}),IA.apply(this,arguments)}function WL(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,Ne.Z)(function*(n,e){var t;e&&ef(n).Yo&&(yield(t=(0,Ne.Z)(function*(r,i){if(q_(a=i.code)&&a!==Ce.ABORTED){const c=r.fu.shift();ef(r).Oo(),yield xx(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield X_(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),Rx(n)&&kx(n)}),SA.apply(this,arguments)}function Px(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,Ne.Z)(function*(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const r=Xh(t);t._u.add(3),yield J_(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Mb(t)}),AA.apply(this,arguments)}function NA(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,Ne.Z)(function*(n,e){const t=nt(n);e?(t._u.delete(2),yield Mb(t)):e||(t._u.add(2),yield J_(t),t.gu.set("Unknown"))}),MA.apply(this,arguments)}function ey(n){return n.pu||(n.pu=function(e,t,r){const i=nt(e);return i.su(),new PL(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:UL.bind(null,n),Zr:jL.bind(null,n),Wo:HL.bind(null,n)}),n.wu.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.pu.Oo(),yA(n)?_A(n):n.gu.set("Unknown")):(yield n.pu.stop(),Ox(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function ef(n){return n.Iu||(n.Iu=function(e,t,r){const i=nt(e);return i.su(),new FL(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:qL.bind(null,n),Zr:WL.bind(null,n),tu:zL.bind(null,n),Zo:ZL.bind(null,n)}),n.wu.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.Iu.Oo(),yield X_(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class OA{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new OA(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ty(n,e){if(Tr("AsyncQueue",`${e}: ${n}`),Dl(n))return new Ve(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}class ny{constructor(e){this.comparator=e?(t,r)=>e(t,r)||tt.comparator(t.key,r.key):(t,r)=>tt.comparator(t.key,r.key),this.keyedMap=fb(),this.sortedSet=new gn(this.comparator)}static emptySet(e){return new ny(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ny)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ny;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Fx{constructor(){this.Tu=new gn(tt.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):at():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class ry{constructor(e,t,r,i,a,c,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new ry(e,t,ny.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&j_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class KL{constructor(){this.Au=void 0,this.listeners=[]}}class YL{constructor(){this.queries=new Kh(e=>US(e),j_),this.onlineState="Unknown",this.Ru=new Set}}function xA(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,Ne.Z)(function*(n,e){const t=nt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new KL),i)try{a.Au=yield t.onListen(r)}catch(c){const f=ty(c,`Initialization of query '${VE(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&FA(t)}),RA.apply(this,arguments)}function kA(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,Ne.Z)(function*(n,e){const t=nt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),PA.apply(this,arguments)}function QL(n,e){const t=nt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Pu(i)&&(r=!0);c.Au=i}}r&&FA(t)}function JL(n,e,t){const r=nt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function FA(n){n.Ru.forEach(e=>{e.next()})}class LA{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ry(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=ry.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class XL{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class Lx{constructor(e){this.It=e}Ji(e){return Lu(this.It,e)}Yi(e){return e.metadata.exists?RO(this.It,e.document,!1):Nn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Oi(e)}}class e2{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Vx(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Qt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new Lx(this.It);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||zt()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,Ne.Z)(function*(){const t=yield function NL(n,e,t,r){return aA.apply(this,arguments)}(e.localStore,new Lx(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const i of e.queries)yield ML(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function Vx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Bx{constructor(e){this.key=e}}class Ux{constructor(e){this.key=e}}class jx{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=zt(),this.mutatedKeys=zt(),this.Ku=jS(e),this.Gu=new ny(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new Fx,i=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,S)=>{const F=i.get(T),j=BE(this.query,S)?S:null,J=!!F&&this.mutatedKeys.has(F.key),ae=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let me=!1;F&&j?F.data.isEqual(j.data)?J!==ae&&(r.track({type:3,doc:j}),me=!0):this.zu(F,j)||(r.track({type:2,doc:j}),me=!0,(_&&this.Ku(j,_)>0||b&&this.Ku(j,b)<0)&&(f=!0)):!F&&j?(r.track({type:0,doc:j}),me=!0):F&&!j&&(r.track({type:1,doc:F}),me=!0,(_||b)&&(f=!0)),me&&(j?(c=c.add(j),a=ae?a.add(T):a.delete(T)):(c=c.delete(T),a=a.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{Gu:c,Wu:r,$i:f,mutatedKeys:a}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((b,T)=>function(S,F){const j=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return j(S)-j(F)}(b.type,T.type)||this.Ku(b.doc,T.doc)),this.Hu(r);const c=t?this.Ju():[],f=0===this.qu.size&&this.current?1:0,_=f!==this.Uu;return this.Uu=f,0!==a.length||_?{snapshot:new ry(this.query,e.Gu,i,a,e.mutatedKeys,0===f,_,!1),Yu:c}:{Yu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Fx,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=zt(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new Ux(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new Bx(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=zt();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return ry.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class t2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class n2{constructor(e){this.key=e,this.ec=!1}}class r2{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new Kh(f=>US(f),j_),this.ic=new Map,this.rc=new Set,this.oc=new gn(tt.comparator),this.uc=new Map,this.cc=new eA,this.ac={},this.hc=new Map,this.lc=hg.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function s2(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,Ne.Z)(function*(n,e){const t=aN(n);let r,i;const a=t.sc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.tc();else{const c=yield Y_(t.localStore,fs(e));t.isPrimaryClient&&iT(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield BA(t,e,r,"current"===f)}return i}),VA.apply(this,arguments)}function BA(n,e,t,r){return UA.apply(this,arguments)}function UA(){return UA=(0,Ne.Z)(function*(n,e,t,r){n.dc=(T,S,F)=>{return(j=(0,Ne.Z)(function*(J,ae,me,Pe){let Ue=ae.view.ju(me);Ue.$i&&(Ue=yield eT(J.localStore,ae.query,!1).then(({documents:We})=>ae.view.ju(We,Ue)));const Je=Pe&&Pe.targetChanges.get(ae.targetId),$e=ae.view.applyChanges(Ue,J.isPrimaryClient,Je);return YA(J,ae.targetId,$e.Yu),$e.snapshot}),function(J,ae,me,Pe){return j.apply(this,arguments)})(n,T,S,F);var j};const i=yield eT(n.localStore,e,!0),a=new jx(e,i.Hi),c=a.ju(i.documents),f=mb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=a.applyChanges(c,n.isPrimaryClient,f);YA(n,t,_.Yu);const b=new t2(e,t,a);return n.sc.set(e,b),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),_.snapshot}),UA.apply(this,arguments)}function o2(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,Ne.Z)(function*(n,e){const t=nt(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(a=>!j_(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Q_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ob(t.remoteStore,r.targetId),iy(t,r.targetId)}).catch(Vr))):(iy(t,r.targetId),yield Q_(t.localStore,r.targetId,!0))}),jA.apply(this,arguments)}function HA(){return HA=(0,Ne.Z)(function*(n,e,t){const r=lN(n);try{const i=yield function(a,c){const f=nt(a),_=Hn.now(),b=c.reduce((F,j)=>F.add(j.key),zt());let T,S;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let j=go(),J=zt();return f.Gi.getEntries(F,b).next(ae=>{j=ae,j.forEach((me,Pe)=>{Pe.isValidDocument()||(J=J.add(me))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,j)).next(ae=>{T=ae;const me=[];for(const Pe of c){const Ue=Nt(Pe,T.get(Pe.key).overlayedDocument);null!=Ue&&me.push(new Wi(Pe.key,Ue,Ru(Ue.value.mapValue),we.exists(!0)))}return f.mutationQueue.addMutationBatch(F,_,me,c)}).next(ae=>{S=ae;const me=ae.applyToLocalDocumentSet(T,J);return f.documentOverlayCache.saveOverlays(F,ae.batchId,me)})}).then(()=>({batchId:S.batchId,changes:wO(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let _=a.ac[a.currentUser.toKey()];_||(_=new gn(Pt)),_=_.insert(c,f),a.ac[a.currentUser.toKey()]=_}(r,i.batchId,t),yield md(r,i.changes),yield X_(r.remoteStore)}catch(i){const a=ty(i,"Failed to persist write");t.reject(a)}}),HA.apply(this,arguments)}function Hx(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,Ne.Z)(function*(n,e){const t=nt(n);try{const r=yield SL(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.uc.get(a);c&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.ec=!0:i.modifiedDocuments.size>0?xt(c.ec):i.removedDocuments.size>0&&(xt(c.ec),c.ec=!1))}),yield md(t,r,e)}catch(r){yield Vr(r)}}),GA.apply(this,arguments)}function Gx(n,e,t){const r=nt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((a,c)=>{const f=c.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=nt(a);f.onlineState=c;let _=!1;f.queries.forEach((b,T)=>{for(const S of T.listeners)S.bu(c)&&(_=!0)}),_&&FA(f)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function l2(n,e,t){return $A.apply(this,arguments)}function $A(){return $A=(0,Ne.Z)(function*(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),a=i&&i.key;if(a){let c=new gn(tt.comparator);c=c.insert(a,Nn.newNoDocument(a,At.min()));const f=zt().add(a),_=new gb(At.min(),new Map,new En(Pt),c,f);yield Hx(r,_),r.oc=r.oc.remove(a),r.uc.delete(e),QA(r)}else yield Q_(r.localStore,e,!1).then(()=>iy(r,e,t)).catch(Vr)}),$A.apply(this,arguments)}function u2(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,Ne.Z)(function*(n,e){const t=nt(n),r=e.batch.batchId;try{const i=yield IL(t.localStore,e);KA(t,r,null),WA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield md(t,i)}catch(i){yield Vr(i)}}),qA.apply(this,arguments)}function c2(n,e,t){return zA.apply(this,arguments)}function zA(){return zA=(0,Ne.Z)(function*(n,e,t){const r=nt(n);try{const i=yield function(a,c){const f=nt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.mutationQueue.lookupMutationBatch(_,c).next(T=>(xt(null!==T),b=T.keys(),f.mutationQueue.removeMutationBatch(_,T))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,b,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>f.localDocuments.getDocuments(_,b))})}(r.localStore,e);KA(r,e,t),WA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield md(r,i)}catch(i){yield Vr(i)}}),zA.apply(this,arguments)}function ZA(){return ZA=(0,Ne.Z)(function*(n,e){const t=nt(n);Xh(t.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=nt(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.hc.get(r)||[];i.push(e),t.hc.set(r,i)}catch(r){const i=ty(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),ZA.apply(this,arguments)}function WA(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function KA(n,e,t){const r=nt(n);let i=r.ac[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function iy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||$x(n,r)})}function $x(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(Ob(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),QA(n))}function YA(n,e,t){for(const r of t)r instanceof Bx?(n.cc.addReference(r.key,e),h2(n,r)):r instanceof Ux?(Ge("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||$x(n,r.key)):at()}function h2(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Ge("SyncEngine","New document in limbo: "+t),n.rc.add(r),QA(n))}function QA(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new tt(Qt.fromString(e)),r=n.lc.next();n.uc.set(r,new n2(t)),n.oc=n.oc.insert(t,r),iT(n.remoteStore,new Yh(fs(Zh(t.path)),r,2,Ai.at))}}function md(n,e,t){return JA.apply(this,arguments)}function JA(){return JA=(0,Ne.Z)(function*(n,e,t){const r=nt(n),i=[],a=[],c=[];var f;r.sc.isEmpty()||(r.sc.forEach((f,_)=>{c.push(r.dc(_,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),i.push(b);const T=iA.Ci(_.targetId,b);a.push(T)}}))}),yield Promise.all(c),r.nc.Wo(i),yield(f=(0,Ne.Z)(function*(_,b){const T=nt(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ve.forEach(b,F=>ve.forEach(F.Si,j=>T.persistence.referenceDelegate.addReference(S,F.targetId,j)).next(()=>ve.forEach(F.Di,j=>T.persistence.referenceDelegate.removeReference(S,F.targetId,j)))))}catch(S){if(!Dl(S))throw S;Ge("LocalStore","Failed to update sequence numbers: "+S)}for(const S of b){const F=S.targetId;if(!S.fromCache){const j=T.Ui.get(F),ae=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);T.Ui=T.Ui.insert(F,ae)}}}),function(_,b){return f.apply(this,arguments)})(r.localStore,a))}),JA.apply(this,arguments)}function f2(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,Ne.Z)(function*(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const r=yield yx(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(c=>{c.forEach(f=>{f.reject(new Ve(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield md(t,r.ji)}var i}),XA.apply(this,arguments)}function p2(n,e){const t=nt(n),r=t.uc.get(e);if(r&&r.ec)return zt().add(r.key);{let i=zt();const a=t.ic.get(e);if(!a)return i;for(const c of a){const f=t.sc.get(c);i=i.unionWith(f.view.Qu)}return i}}function g2(n,e){return eN.apply(this,arguments)}function eN(){return eN=(0,Ne.Z)(function*(n,e){const t=nt(n),r=yield eT(t.localStore,e.query,!0),i=e.view.Zu(r);return t.isPrimaryClient&&YA(t,e.targetId,i.Yu),i}),eN.apply(this,arguments)}function m2(n,e){return tN.apply(this,arguments)}function tN(){return tN=(0,Ne.Z)(function*(n,e){const t=nt(n);return Dx(t.localStore,e).then(r=>md(t,r))}),tN.apply(this,arguments)}function _2(n,e,t,r){return nN.apply(this,arguments)}function nN(){return nN=(0,Ne.Z)(function*(n,e,t,r){const i=nt(n),a=yield function(c,f){const _=nt(c),b=nt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.Tn(T,f).next(S=>S?_.localDocuments.getDocuments(T,S):ve.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield X_(i.remoteStore):"acknowledged"===t||"rejected"===t?(KA(i,e,r||null),WA(i,e),f=e,nt(nt(i.localStore).mutationQueue).An(f)):at(),yield md(i,a)):Ge("SyncEngine","Cannot apply mutation batch with id: "+e)}),nN.apply(this,arguments)}function rN(){return rN=(0,Ne.Z)(function*(n,e){const t=nt(n);if(aN(t),lN(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield qx(t,r.toArray());t.fc=!0,yield NA(t.remoteStore,!0);for(const a of i)iT(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const r=[];let i=Promise.resolve();t.ic.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(iy(t,c),Q_(t.localStore,c,!0))),Ob(t.remoteStore,c)}),yield i,yield qx(t,r),function(a){const c=nt(a);c.uc.forEach((f,_)=>{Ob(c.remoteStore,_)}),c.cc.fs(),c.uc=new Map,c.oc=new gn(tt.comparator)}(t),t.fc=!1,yield NA(t.remoteStore,!1)}}),rN.apply(this,arguments)}function qx(n,e,t){return iN.apply(this,arguments)}function iN(){return iN=(0,Ne.Z)(function*(n,e,t){const r=nt(n),i=[],a=[];for(const c of e){let f;const _=r.ic.get(c);if(_&&0!==_.length){f=yield Y_(r.localStore,fs(_[0]));for(const b of _){const T=r.sc.get(b),S=yield g2(r,T);S.snapshot&&a.push(S.snapshot)}}else{const b=yield wx(r.localStore,c);f=yield Y_(r.localStore,b),yield BA(r,zx(b),c,!1)}i.push(f)}return r.nc.Wo(a),i}),iN.apply(this,arguments)}function zx(n){return U_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function v2(n){const e=nt(n);return nt(nt(e.localStore).persistence).vi()}function b2(n,e,t,r){return sN.apply(this,arguments)}function sN(){return sN=(0,Ne.Z)(function*(n,e,t,r){const i=nt(n);if(i.fc)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const a=i.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield Dx(i.localStore,UE(a[0])),f=gb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield md(i,c,f);break}case"rejected":yield Q_(i.localStore,e,!0),iy(i,e,r);break;default:at()}}),sN.apply(this,arguments)}function w2(n,e,t){return oN.apply(this,arguments)}function oN(){return oN=(0,Ne.Z)(function*(n,e,t){const r=aN(n);if(r.fc){for(const i of e){if(r.ic.has(i)){Ge("SyncEngine","Adding an already active target "+i);continue}const a=yield wx(r.localStore,i),c=yield Y_(r.localStore,a);yield BA(r,zx(a),c.targetId,!1),iT(r.remoteStore,c)}for(const i of t)r.ic.has(i)&&(yield Q_(r.localStore,i,!1).then(()=>{Ob(r.remoteStore,i),iy(r,i)}).catch(Vr))}}),oN.apply(this,arguments)}function aN(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l2.bind(null,e),e.nc.Wo=QL.bind(null,e.eventManager),e.nc._c=JL.bind(null,e.eventManager),e}function lN(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c2.bind(null,e),e}class Zx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ne.Z)(function*(){t.It=Nb(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return _x(this.persistence,new mx,e.initialUser,this.It)}gc(e){return new px(JE.Bs,this.It)}mc(e){return new Ix}terminate(){var e=this;return(0,Ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wx extends Zx{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield lN(r.Ec.syncEngine),yield X_(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return _x(this.persistence,new mx,e.initialUser,this.It)}Ic(e,t){return new dL(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new AS(t,this.persistence);return new DE(e.asyncQueue,r)}gc(e){const t=rA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?mo.withCacheSize(this.cacheSizeBytes):mo.DEFAULT;return new nA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Ax(),rT(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Ix}}class E2 extends Wx{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e);const i=r.Ec.syncEngine;r.sharedClientState instanceof hA&&(r.sharedClientState.syncEngine={Fr:_2.bind(null,i),$r:b2.bind(null,i),Br:w2.bind(null,i),vi:v2.bind(null,i),Or:m2.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,Ne.Z)(function*(c){yield function y2(n,e){return rN.apply(this,arguments)}(r.Ec.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}mc(e){const t=Ax();if(!hA.C(t))throw new Ve(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=rA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class uN{initialize(e,t){var r=this;return(0,Ne.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Gx(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=f2.bind(null,r.syncEngine),yield NA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new YL}createDatastore(e){const t=Nb(e.databaseInfo.databaseId),r=new kL(e.databaseInfo);return new LL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>Gx(this.syncEngine,f,0),c=Sx.C()?new Sx:new OL,new BL(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,_,b){const T=new r2(r,i,a,c,f,_);return b&&(T.fc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ne.Z)(function*(t){const r=nt(t);Ge("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield J_(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Kx(n,e=10240){let t=0;return{read:()=>(0,Ne.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class oT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class T2{constructor(e,t){this.bc=e,this.It=t,this.metadata=new ci,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Ne.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Ne.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),i=Number(r);isNaN(i)&&e.Sc(`length string (${r}) is not valid number`);const a=yield e.Dc(i);return new XL(JSON.parse(a),t.length+i)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Ne.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,Ne.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class C2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ne.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ve(Ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ne.Z)(function*(a,c){const f=nt(a),_=vb(f.It)+"/documents",b={documents:c.map(j=>yb(f.It,j))},T=yield f.fo("BatchGetDocuments",_,b,c.length),S=new Map;T.forEach(j=>{const J=function SF(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=Lu(t,r.found.name),a=Oi(r.found.updateTime),c=new Kr({mapValue:{fields:r.found.fields}});return Nn.newFoundDocument(i,a,c)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=Lu(t,r.missing),a=Oi(r.readTime);return Nn.newNoDocument(i,a)}(n,e):at()}(f.It,j);S.set(J.key.toString(),J)});const F=[];return c.forEach(j=>{const J=S.get(j.toString());xt(!!J),F.push(J)}),F}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=tt.fromPath(i);e.mutations.push(new sg(a,e.precondition(a)))}),yield(r=(0,Ne.Z)(function*(i,a){const c=nt(i),f=vb(c.It)+"/documents",_={writes:a.map(b=>bb(c.It,b))};yield c.co("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw at();t=At.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ve(Ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(At.min())?we.exists(!1):we.updateTime(t):we.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new Ve(Ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return we.updateTime(t)}return we.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class I2{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new fA(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Ne.Z)(function*(){const t=new C2(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Oc(a)}))}).catch(i=>{e.Oc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!qh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!q_(t)}return!1}}class S2{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Lr.UNAUTHENTICATED,this.clientId=Z0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ne.Z)(function*(f){Ge("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ty(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Yx(n,e){return cN.apply(this,arguments)}function cN(){return cN=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ne.Z)(function*(a){r.isEqual(a)||(yield yx(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),cN.apply(this,arguments)}function Qx(n,e){return dN.apply(this,arguments)}function dN(){return dN=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield hN(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Px(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Px(e.remoteStore,a)),n.onlineComponents=e}),dN.apply(this,arguments)}function hN(n){return fN.apply(this,arguments)}function fN(){return fN=(0,Ne.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield Yx(n,new Zx)),n.offlineComponents}),fN.apply(this,arguments)}function aT(n){return pN.apply(this,arguments)}function pN(){return pN=(0,Ne.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield Qx(n,new uN)),n.onlineComponents}),pN.apply(this,arguments)}function Jx(n){return hN(n).then(e=>e.persistence)}function lT(n){return hN(n).then(e=>e.localStore)}function Xx(n){return aT(n).then(e=>e.remoteStore)}function gN(n){return aT(n).then(e=>e.syncEngine)}function sy(n){return mN.apply(this,arguments)}function mN(){return mN=(0,Ne.Z)(function*(n){const e=yield aT(n),t=e.eventManager;return t.onListen=s2.bind(null,e.syncEngine),t.onUnlisten=o2.bind(null,e.syncEngine),t}),mN.apply(this,arguments)}function eR(n,e,t={}){const r=new ci;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(i,a,c,f,_){const b=new oT({next:S=>{a.enqueueAndForget(()=>kA(i,T));const F=S.docs.has(c);!F&&S.fromCache?_.reject(new Ve(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&S.fromCache&&f&&"server"===f.source?_.reject(new Ve(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),T=new LA(Zh(c.path),b,{includeMetadataChanges:!0,Nu:!0});return xA(i,T)}(yield sy(n),n.asyncQueue,e,t,r)})),r.promise}function tR(n,e,t={}){const r=new ci;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(i,a,c,f,_){const b=new oT({next:S=>{a.enqueueAndForget(()=>kA(i,T)),S.fromCache&&"server"===f.source?_.reject(new Ve(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),T=new LA(c,b,{includeMetadataChanges:!0,Nu:!0});return xA(i,T)}(yield sy(n),n.asyncQueue,e,t,r)})),r.promise}const nR=new Map;function _N(n,e,t){if(!t)throw new Ve(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rR(n,e,t,r){if(!0===e&&!0===r)throw new Ve(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iR(n){if(!tt.isDocumentKey(n))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sR(n){if(tt.isDocumentKey(n))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ve(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uT(n);throw new Ve(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function oR(n,e){if(e<=0)throw new Ve(Ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class aR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ve(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ve(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ve(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new mO;switch(t.type){case"gapi":return new N_(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ve(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nR.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),nR.delete(e),t.terminate())}(this),Promise.resolve()}}class nr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nr(this.firestore,e,this._key)}}class ps{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ps(this.firestore,e,this._query)}}class Bu extends ps{constructor(e,t,r){super(e,t,Zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nr(this.firestore,null,new tt(e))}withConverter(e){return new Bu(this.firestore,e,this._path)}}function lR(n,e,...t){if(n=(0,an.m9)(n),_N("collection","path",e),n instanceof xb){const r=Qt.fromString(e,...t);return sR(r),new Bu(n,null,r)}{if(!(n instanceof nr||n instanceof Bu))throw new Ve(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return sR(r),new Bu(n.firestore,null,r)}}function cT(n,e,...t){if(n=(0,an.m9)(n),1===arguments.length&&(e=Z0.R()),_N("doc","path",e),n instanceof xb){const r=Qt.fromString(e,...t);return iR(r),new nr(n,null,new tt(r))}{if(!(n instanceof nr||n instanceof Bu))throw new Ve(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return iR(r),new nr(n.firestore,n instanceof Bu?n.converter:null,new tt(r))}}function uR(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),(n instanceof nr||n instanceof Bu)&&(e instanceof nr||e instanceof Bu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function cR(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),n instanceof ps&&e instanceof ps&&n.firestore===e.firestore&&j_(n._query,e._query)&&n.converter===e.converter}class V2{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new fA(this,"async_queue_retry"),this.jc=()=>{const t=rT();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=rT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=rT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new ci;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Ne.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Dl(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,Tr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=OA.createAndSchedule(this,e,t,r,a=>this.Jc(a));return this.Uc.push(i),i}Wc(){this.qc&&at()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Ne.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function yN(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class B2{constructor(){this._progressObserver={},this._taskCompletionResolver=new ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class pr extends xb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new V2,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dR(this),this._firestoreClient.terminate()}}function Yr(n){return n._firestoreClient||dR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function dR(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new IE(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new S2(n._authCredentials,n._appCheckCredentials,n._queue,r)}function hR(n,e,t){const r=new ci;return n.asyncQueue.enqueue((0,Ne.Z)(function*(){try{yield Yx(n,t),yield Qx(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(c=a).name?c.code===Ce.FAILED_PRECONDITION||c.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;ud("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function fR(n){if(n._initialized||n._terminated)throw new Ve(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _d{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ve(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uu(Wr.fromBase64String(e))}catch(t){throw new Ve(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uu(Wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pg{constructor(e){this._methodName=e}}class dT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ve(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ve(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}const K2=/^__.*__$/;class Y2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Wi(e,this.data,this.fieldMask,t,this.fieldTransforms):new yn(e,this.data,t,this.fieldTransforms)}}class pR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Wi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class hT{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new hT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return gT(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(gR(this.na)&&K2.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class Q2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Nb(e)}fa(e,t,r,i=!1){return new hT({na:e,methodName:t,la:r,path:Cr.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function gg(n){const e=n._freezeSettings(),t=Nb(n._databaseId);return new Q2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fT(n,e,t,r,i,a={}){const c=n.fa(a.merge||a.mergeFields?2:0,e,t,i);DN("Data must be an object, but it was:",c,r);const f=yR(r,c);let _,b;if(a.merge)_=new ks(c.fieldMask),b=c.fieldTransforms;else if(a.mergeFields){const T=[];for(const S of a.mergeFields){const F=EN(e,S,t);if(!c.contains(F))throw new Ve(Ce.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);bR(T,F)||T.push(F)}_=new ks(T),b=c.fieldTransforms.filter(S=>_.covers(S.field))}else _=null,b=c.fieldTransforms;return new Y2(new Kr(f),_,b)}class Rb extends pg{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rb}}function mR(n,e,t){return new hT({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class vN extends pg{_toFieldTransform(e){return new B(e.path,new d)}isEqual(e){return e instanceof vN}}class J2 extends pg{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=mR(this,e,!0),r=this.da.map(a=>mg(a,t)),i=new h(r);return new B(e.path,i)}isEqual(e){return this===e}}class X2 extends pg{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=mR(this,e,!0),r=this.da.map(a=>mg(a,t)),i=new v(r);return new B(e.path,i)}isEqual(e){return this===e}}class eV extends pg{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new E(e.It,jE(e.It,this._a));return new B(e.path,t)}isEqual(e){return this===e}}function bN(n,e,t,r){const i=n.fa(1,e,t);DN("Data must be an object, but it was:",i,r);const a=[],c=Kr.empty();Au(r,(_,b)=>{const T=pT(e,_,t);b=(0,an.m9)(b);const S=i.ua(T);if(b instanceof Rb)a.push(T);else{const F=mg(b,S);null!=F&&(a.push(T),c.set(T,F))}});const f=new ks(a);return new pR(c,f,i.fieldTransforms)}function wN(n,e,t,r,i,a){const c=n.fa(1,e,t),f=[EN(e,r,t)],_=[i];if(a.length%2!=0)throw new Ve(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)f.push(EN(e,a[F])),_.push(a[F+1]);const b=[],T=Kr.empty();for(let F=f.length-1;F>=0;--F)if(!bR(b,f[F])){const j=f[F];let J=_[F];J=(0,an.m9)(J);const ae=c.ua(j);if(J instanceof Rb)b.push(j);else{const me=mg(J,ae);null!=me&&(b.push(j),T.set(j,me))}}const S=new ks(b);return new pR(T,S,c.fieldTransforms)}function _R(n,e,t,r=!1){return mg(t,n.fa(r?4:3,e))}function mg(n,e){if(vR(n=(0,an.m9)(n)))return DN("Unsupported field value:",e,n),yR(n,e);if(n instanceof pg)return function(t,r){if(!gR(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=mg(c,r.ca(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,an.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jE(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Hn.fromDate(t);return{timestampValue:_b(r.It,i)}}if(t instanceof Hn){const i=new Hn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:_b(r.It,i)}}if(t instanceof dT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Uu)return{bytesValue:AO(r.It,t._byteString)};if(t instanceof nr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$S(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${uT(t)}`)}(n,e)}function yR(n,e){const t={};return x_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Au(n,(r,i)=>{const a=mg(i,e.ia(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function vR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Hn||n instanceof dT||n instanceof Uu||n instanceof nr||n instanceof pg)}function DN(n,e,t){if(!vR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=uT(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function EN(n,e,t){if((e=(0,an.m9)(e))instanceof _d)return e._internalPath;if("string"==typeof e)return pT(n,e);throw gT("Field path arguments must be of type string or ",n,!1,void 0,t)}const tV=new RegExp("[~\\*/\\[\\]]");function pT(n,e,t){if(e.search(tV)>=0)throw gT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _d(...e.split("."))._internalPath}catch{throw gT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gT(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Ve(Ce.INVALID_ARGUMENT,f+n+_)}function bR(n,e){return n.some(t=>t.isEqual(e))}class kb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nV extends kb{data(){return super.data()}}function mT(n,e){return"string"==typeof e?pT(n,e):e instanceof _d?e._internalPath:e._delegate._internalPath}class _g{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yd extends kb{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Pb extends yd{data(e={}){return super.data(e)}}class tf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new _g(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Pb(this._firestore,this._userDataWriter,r.key,r,new _g(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ve(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Pb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new _g(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new Pb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new _g(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,b=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),b=a.indexOf(c.doc.key)),{type:rV(c.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function wR(n,e){return n instanceof yd&&e instanceof yd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof tf&&e instanceof tf&&n._firestore===e._firestore&&cR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function DR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ve(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fb{}function nf(n,...e){for(const t of e)n=t._apply(n);return n}class iV extends Fb{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=gg(e.firestore),r=function(i,a,c,f,_,b,T){let S;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Ve(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){AR(T,b);const j=[];for(const J of T)j.push(SR(f,i,J));S={arrayValue:{values:j}}}else S=SR(f,i,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||AR(T,b),S=_R(c,"where",T,"in"===b||"not-in"===b);const F=Mi.create(_,b,S);return function(j,J){if(J.dt()){const me=LE(j);if(null!==me&&!me.isEqual(J.field))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${me.toString()}' and '${J.field.toString()}'`);const Pe=FE(j);null!==Pe&&NR(0,J.field,Pe)}const ae=function(me,Pe){for(const Ue of me.filters)if(Pe.indexOf(Ue.op)>=0)return Ue.op;return null}(j,function(me){switch(me){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(J.op));if(null!==ae)throw new Ve(Ce.INVALID_ARGUMENT,ae===J.op?`Invalid query. You cannot use more than one '${J.op.toString()}' filter.`:`Invalid query. You cannot use '${J.op.toString()}' filters with '${ae.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new ps(e.firestore,e.converter,function(i,a){const c=i.filters.concat([a]);return new Ma(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class oV extends Fb{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Ve(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ve(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new zh(i,a);return function(f,_){if(null===FE(f)){const b=LE(f);null!==b&&NR(0,b,_.field)}}(r,c),c}(e._query,this.wa,this.ya);return new ps(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Ma(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class ER extends Fb{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new ps(e.firestore,e.converter,cb(e._query,this.pa,this.Ia))}}class TR extends Fb{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=IR(e,this.type,this.Ta,this.Ea);return new ps(e.firestore,e.converter,(i=t,new Ma((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class CR extends Fb{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=IR(e,this.type,this.Ta,this.Ea);return new ps(e.firestore,e.converter,(i=t,new Ma((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function IR(n,e,t,r){if(t[0]=(0,an.m9)(t[0]),t[0]instanceof kb)return function(i,a,c,f,_){if(!f)throw new Ve(Ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const T of Wh(i))if(T.field.isKeyField())b.push(hd(a,f.key));else{const S=f.data.field(T.field);if(eg(S))throw new Ve(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const F=T.field.canonicalString();throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}b.push(S)}return new ku(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=gg(n.firestore);return function(a,c,f,_,b,T){const S=a.explicitOrderBy;if(b.length>S.length)throw new Ve(Ce.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let j=0;j<b.length;j++){const J=b[j];if(S[j].field.isKeyField()){if("string"!=typeof J)throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof J}`);if(!ub(a)&&-1!==J.indexOf("/"))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${J}' contains a slash.`);const ae=a.path.child(Qt.fromString(J));if(!tt.isDocumentKey(ae))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ae}' is not because it contains an odd number of segments.`);const me=new tt(ae);F.push(hd(c,me))}else{const ae=_R(f,_,J);F.push(ae)}}return new ku(F,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function SR(n,e,t){if("string"==typeof(t=(0,an.m9)(t))){if(""===t)throw new Ve(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ub(e)&&-1!==t.indexOf("/"))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Qt.fromString(t));if(!tt.isDocumentKey(r))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hd(n,new tt(r))}if(t instanceof nr)return hd(n,t._key);throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uT(t)}.`)}function AR(n,e){if(!Array.isArray(n)||0===n.length)throw new Ve(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ve(Ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function NR(n,e,t){if(!t.isEqual(e))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const pV={maxAttempts:5};class TN{convertValue(e,t="none"){switch(Ou(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){const r={};return Au(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new dT(tr(e.latitude),tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($h(e));default:return null}}convertTimestamp(e){const t=Nu(e);return new Hn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qt.fromString(e);xt(VO(r));const i=new Tl(r.get(1),r.get(3)),a=new tt(r.popFirst(5));return i.isEqual(t)||Tr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function _T(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class gV extends TN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}class MR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=gg(e)}set(e,t,r){this._verifyNotCommitted();const i=rf(e,this._firestore),a=_T(i.converter,t,r),c=fT(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,we.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=rf(e,this._firestore);let c;return c="string"==typeof(t=(0,an.m9)(t))||t instanceof _d?wN(this._dataReader,"WriteBatch.update",a._key,t,r,i):bN(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,we.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=rf(e,this._firestore);return this._mutations=this._mutations.concat(new Pu(t._key,we.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rf(n,e){if((n=(0,an.m9)(n)).firestore!==e)throw new Ve(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class yg extends TN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}function OR(n,e,t){n=un(n,nr);const r=un(n.firestore,pr),i=_T(n.converter,e,t);return oy(r,[fT(gg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,we.none())])}function xR(n,e,t,...r){n=un(n,nr);const i=un(n.firestore,pr),a=gg(i);let c;return c="string"==typeof(e=(0,an.m9)(e))||e instanceof _d?wN(a,"updateDoc",n._key,e,t,r):bN(a,"updateDoc",n._key,e),oy(i,[c.toMutation(n._key,we.exists(!0))])}function RR(n,...e){var t,r,i;n=(0,an.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||yN(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(yN(e[c])){const S=e[c];e[c]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[c+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[c+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let _,b,T;if(n instanceof nr)b=un(n.firestore,pr),T=Zh(n._key.path),_={next:S=>{e[c]&&e[c](CN(b,n,S))},error:e[c+1],complete:e[c+2]};else{const S=un(n,ps);b=un(S.firestore,pr),T=S._query;const F=new yg(b);_={next:j=>{e[c]&&e[c](new tf(b,F,S,j))},error:e[c+1],complete:e[c+2]},DR(n._query)}return function(S,F,j,J){const ae=new oT(J),me=new LA(F,ae,j);return S.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return xA(yield sy(S),me)})),()=>{ae.Rc(),S.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return kA(yield sy(S),me)}))}}(Yr(b),T,f,_)}function oy(n,e){return function(t,r){const i=new ci;return t.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function a2(n,e,t){return HA.apply(this,arguments)}(yield gN(t),r,i)})),i.promise}(Yr(n),e)}function CN(n,e,t){const r=t.docs.get(e._key),i=new yg(n);return new yd(n,i,e._key,r,new _g(t.hasPendingWrites,t.fromCache),e.converter)}class CV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=gg(e)}get(e){const t=rf(e,this._firestore),r=new gV(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return at();const a=i[0];if(a.isFoundDocument())return new kb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new kb(this._firestore,r,t._key,null,t.converter);throw at()})}set(e,t,r){const i=rf(e,this._firestore),a=_T(i.converter,t,r),c=fT(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=rf(e,this._firestore);let c;return c="string"==typeof(t=(0,an.m9)(t))||t instanceof _d?wN(this._dataReader,"Transaction.update",a._key,t,r,i):bN(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=rf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=rf(e,this._firestore),r=new yg(this._firestore);return super.get(e).then(i=>new yd(this._firestore,r,t._key,i._document,new _g(!1,!1),t.converter))}}function IN(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function PR(){if(typeof Uint8Array>"u")throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function FR(){if(!function TE(){return typeof atob<"u"}())throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Bh=Wc.SDK_VERSION,(0,Wc._registerComponent)(new Dp.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),c=new pr(new _O(t.getProvider("auth-internal")),new bE(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ve(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(f.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Wc.registerVersion)(mE,"3.5.0",n),(0,Wc.registerVersion)(mE,"3.5.0","esm2017")}();class Lb{constructor(e){this._delegate=e}static fromBase64String(e){return FR(),new Lb(Uu.fromBase64String(e))}static fromUint8Array(e){return PR(),new Lb(Uu.fromUint8Array(e))}toBase64(){return FR(),this._delegate.toBase64()}toUint8Array(){return PR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SN(n){return function kV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class PV{enableIndexedDbPersistence(e,t){return function j2(n,e){fR(n=un(n,pr));const t=Yr(n),r=n._freezeSettings(),i=new uN;return hR(t,i,new Wx(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function H2(n){fR(n=un(n,pr));const e=Yr(n),t=n._freezeSettings(),r=new uN;return hR(e,r,new E2(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function G2(n){if(n._initialized&&!n._terminated)throw new Ve(Ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ci;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{yield(t=(0,Ne.Z)(function*(r){if(!qo.C())return Promise.resolve();const i=r+"main";yield qo.delete(i)}),function(r){return t.apply(this,arguments)})(rA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class LR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Tl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ud("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function F2(n,e,t,r={}){var i;const a=(n=un(n,xb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&ud("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=Lr.MOCK_USER;else{c=(0,an.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ve(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Lr(_)}n._authCredentials=new A_(new wS(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function q2(n){return function A2(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield Jx(n),t=yield Xx(n);return e.setNetworkEnabled(!0),function(r){const i=nt(r);return i._u.delete(0),Mb(i)}(t)}))}(Yr(n=un(n,pr)))}(this._delegate)}disableNetwork(){return function z2(n){return function N2(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield Jx(n),t=yield Xx(n);return e.setNetworkEnabled(!1),(r=(0,Ne.Z)(function*(i){const a=nt(i);a._u.add(0),yield J_(a),a.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Yr(n=un(n,pr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,rR("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function $2(n){return function(e){const t=new ci;return e.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function d2(n,e){return ZA.apply(this,arguments)}(yield gN(e),t)})),t.promise}(Yr(n=un(n,pr)))}(this._delegate)}onSnapshotsInSync(e){return function TV(n,e){return function x2(n,e){const t=new oT(e);return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield sy(n),i=t,nt(r).Ru.add(i),void i.next();var r,i})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield sy(n),i=t,void nt(r).Ru.delete(i);var r,i}))}}(Yr(n=un(n,pr)),yN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ay(this,lR(this._delegate,e))}catch(t){throw Fs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Oa(this,cT(this._delegate,e))}catch(t){throw Fs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ls(this,function L2(n,e){if(n=un(n,xb),_N("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ve(Ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ps(n,null,(t=e,new Ma(Qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Fs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function IV(n,e,t){n=un(n,pr);const r=Object.assign(Object.assign({},pV),t);return function(i){if(i.maxAttempts<1)throw new Ve(Ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function R2(n,e,t){const r=new ci;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){const i=yield(a=n,aT(a).then(c=>c.datastore));var a;new I2(n.asyncQueue,i,t,e,r).run()})),r.promise}(Yr(n),i=>e(new CV(n,i)),r)}(this._delegate,t=>e(new VR(this,t)))}batch(){return Yr(this._delegate),new BR(new MR(this._delegate,e=>oy(this._delegate,e)))}loadBundle(e){return function Z2(n,e){const t=Yr(n=un(n,pr)),r=new B2;return function k2(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return Kx(_,b);if(_ instanceof ArrayBuffer)return Kx(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new T2(_,c);var _}(t,Nb(e));n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){!function D2(n,e,t){const r=nt(n);var i;(i=(0,Ne.Z)(function*(a,c,f){try{const _=yield c.getMetadata();if(yield function(F,j){const J=nt(F),ae=Oi(j.createTime);return J.persistence.runTransaction("hasNewerBundle","readonly",me=>J.Ns.getBundleMetadata(me,j.id)).then(me=>!!me&&me.createTime.compareTo(ae)>=0)}(a.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(Vx(_));const b=new e2(_,a.localStore,c.It);let T=yield c.wc();for(;T;){const F=yield b.Ou(T);F&&f._updateProgress(F),T=yield c.wc()}const S=yield b.complete();return yield md(a,S.Bu,void 0),yield function(F,j){const J=nt(F);return J.persistence.runTransaction("Save bundle","readwrite",ae=>J.Ns.saveBundleMetadata(ae,j))}(a.localStore,_),f._completeWith(S.progress),Promise.resolve(S.$u)}catch(_){return ud("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var F}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield gN(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function W2(n,e){return function P2(n,e){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){return function(t,r){const i=nt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield lT(n),e)}))}(Yr(n=un(n,pr)),e).then(t=>t?new ps(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ls(this,t):null)}}class yT extends TN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lb(new Uu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Oa.forKey(t,this.firestore,null)}}class VR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new yT(e)}get(e){const t=bg(e);return this._delegate.get(t).then(r=>new Vb(this._firestore,new yd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=bg(e);return r?(IN("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=bg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=bg(e);return this._delegate.delete(t),this}}class BR{constructor(e){this._delegate=e}set(e,t,r){const i=bg(e);return r?(IN("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=bg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=bg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class vg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Pb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=vg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new vg(e,new yT(e),t),i.set(t,a)),a}}vg.INSTANCES=new WeakMap;class Oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Oa(t,new nr(t._delegate,r,new tt(e)))}static forKey(e,t,r){return new Oa(t,new nr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ay(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ay(this.firestore,lR(this._delegate,e))}catch(t){throw Fs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,an.m9)(e))instanceof nr&&uR(this._delegate,e)}set(e,t){t=IN("DocumentReference.set",t);try{return t?OR(this._delegate,e,t):OR(this._delegate,e)}catch(r){throw Fs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?xR(this._delegate,e):xR(this._delegate,e,t,...r)}catch(i){throw Fs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function DV(n){return oy(un(n.firestore,pr),[new Pu(n._key,we.none())])}(this._delegate)}onSnapshot(...e){const t=UR(e),r=jR(e,i=>new Vb(this.firestore,new yd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return RR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function _V(n){n=un(n,nr);const e=un(n.firestore,pr),t=Yr(e),r=new yg(e);return function M2(n,e){const t=new ci;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(i,a,c){try{const f=yield function(_,b){const T=nt(_);return T.persistence.runTransaction("read document","readonly",S=>T.localDocuments.getDocument(S,b))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Ve(Ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=ty(f,`Failed to get document '${a} from cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield lT(n),e,t);var r})),t.promise}(t,n._key).then(i=>new yd(e,r,n._key,i,new _g(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function yV(n){n=un(n,nr);const e=un(n.firestore,pr);return eR(Yr(e),n._key,{source:"server"}).then(t=>CN(e,n,t))}(this._delegate):function mV(n){n=un(n,nr);const e=un(n.firestore,pr);return eR(Yr(e),n._key).then(t=>CN(e,n,t))}(this._delegate),t.then(r=>new Vb(this.firestore,new yd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Oa(this.firestore,this._delegate.withConverter(e?vg.getInstance(this.firestore,e):null))}}function Fs(n,e,t){return n.message=n.message.replace(e,t),n}function UR(n){for(const e of n)if("object"==typeof e&&!SN(e))return e;return{}}function jR(n,e){var t,r;let i;return i=SN(n[0])?n[0]:SN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Vb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wR(this._delegate,e._delegate)}}class Bb extends Vb{data(e){const t=this._delegate.data(e);return function gO(n,e){n||at()}(void 0!==t),t}}class Ls{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yT(e)}where(e,t,r){try{return new Ls(this.firestore,nf(this._delegate,function sV(n,e,t){const r=e,i=mT("where",n);return new iV(i,r,t)}(e,t,r)))}catch(i){throw Fs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ls(this.firestore,nf(this._delegate,function aV(n,e="asc"){const t=e,r=mT("orderBy",n);return new oV(r,t)}(e,t)))}catch(r){throw Fs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ls(this.firestore,nf(this._delegate,function lV(n){return oR("limit",n),new ER("limit",n,"F")}(e)))}catch(t){throw Fs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ls(this.firestore,nf(this._delegate,function uV(n){return oR("limitToLast",n),new ER("limitToLast",n,"L")}(e)))}catch(t){throw Fs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ls(this.firestore,nf(this._delegate,function cV(...n){return new TR("startAt",n,!0)}(...e)))}catch(t){throw Fs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ls(this.firestore,nf(this._delegate,function dV(...n){return new TR("startAfter",n,!1)}(...e)))}catch(t){throw Fs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ls(this.firestore,nf(this._delegate,function hV(...n){return new CR("endBefore",n,!1)}(...e)))}catch(t){throw Fs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ls(this.firestore,nf(this._delegate,function fV(...n){return new CR("endAt",n,!0)}(...e)))}catch(t){throw Fs(t,"endAt()","Query.endAt()")}}isEqual(e){return cR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function bV(n){n=un(n,ps);const e=un(n.firestore,pr),t=Yr(e),r=new yg(e);return function O2(n,e){const t=new ci;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(i,a,c){try{const f=yield eT(i,a,!0),_=new jx(a,f.Hi),b=_.ju(f.documents),T=_.applyChanges(b,!1);c.resolve(T.snapshot)}catch(f){const _=ty(f,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield lT(n),e,t);var r})),t.promise}(t,n._query).then(i=>new tf(e,r,n,i))}(this._delegate):"server"===e?.source?function wV(n){n=un(n,ps);const e=un(n.firestore,pr),t=Yr(e),r=new yg(e);return tR(t,n._query,{source:"server"}).then(i=>new tf(e,r,n,i))}(this._delegate):function vV(n){n=un(n,ps);const e=un(n.firestore,pr),t=Yr(e),r=new yg(e);return DR(n._query),tR(t,n._query).then(i=>new tf(e,r,n,i))}(this._delegate),t.then(r=>new AN(this.firestore,new tf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=UR(e),r=jR(e,i=>new AN(this.firestore,new tf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return RR(this._delegate,t,r)}withConverter(e){return new Ls(this.firestore,this._delegate.withConverter(e?vg.getInstance(this.firestore,e):null))}}class LV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Bb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class AN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ls(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new LV(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Bb(this._firestore,r))})}isEqual(e){return wR(this._delegate,e._delegate)}}class ay extends Ls{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Oa(this.firestore,e):null}doc(e){try{return new Oa(this.firestore,void 0===e?cT(this._delegate):cT(this._delegate,e))}catch(t){throw Fs(t,"doc()","CollectionReference.doc()")}}add(e){return function EV(n,e){const t=un(n.firestore,pr),r=cT(n),i=_T(n.converter,e);return oy(t,[fT(gg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,we.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Oa(this.firestore,t))}isEqual(e){return uR(this._delegate,e._delegate)}withConverter(e){return new ay(this.firestore,this._delegate.withConverter(e?vg.getInstance(this.firestore,e):null))}}function bg(n){return un(n,nr)}class NN{constructor(...e){this._delegate=new _d(...e)}static documentId(){return new NN(Cr.keyField().canonicalString())}isEqual(e){return(e=(0,an.m9)(e))instanceof _d&&this._delegate._internalPath.isEqual(e._internalPath)}}class wg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function AV(){return new vN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new wg(e)}static delete(){const e=function SV(){return new Rb("deleteField")}();return e._methodName="FieldValue.delete",new wg(e)}static arrayUnion(...e){const t=function NV(...n){return new J2("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new wg(t)}static arrayRemove(...e){const t=function MV(...n){return new X2("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new wg(t)}static increment(e){const t=function OV(n){return new eV("increment",n)}(e);return t._methodName="FieldValue.increment",new wg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const VV={Firestore:LR,GeoPoint:dT,Timestamp:Hn,Blob:Lb,Transaction:VR,WriteBatch:BR,DocumentReference:Oa,DocumentSnapshot:Vb,Query:Ls,QueryDocumentSnapshot:Bb,QuerySnapshot:AN,CollectionReference:ay,FieldPath:NN,FieldValue:wg,setLogLevel:function FV(n){!function _E(n){wl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function HR(n,e){return function jV(n,e=Np.z){return new Zn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function MN(n,e){return HR(n,e).pipe((0,st.U)(t=>({payload:t,type:"query"})))}function vT(n,e){return MN(n,e).pipe(Ro(void 0),_D(),(0,st.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const _=i.find(T=>T.doc.ref.isEqual(c.ref)),b=t?.payload.docs.find(T=>T.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function GR(n,e,t){return vT(n,t).pipe(Mt((r,i)=>function GV(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function $V(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ON(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ON(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ON(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function Mp(n,e=As.y){return n=n??yD,(0,ur.e)((t,r)=>{let i,a=!0;t.subscribe((0,Dn.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}(),(0,st.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function ON(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function $R(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function UV(n){(function BV(n,e){n.INTERNAL.registerComponent(new Dp.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},VV)))})(n,(e,t)=>new LR(e,t,new PV)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(Tt.Z);class qR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=vT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,st.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Ro(void 0),_D(),C(([r,i])=>i.length>0||!r),(0,st.U)(([r,i])=>i),hr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=$R(e);return GR(this.query,t,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(e={}){return MN(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),hr.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(hr.iC)}add(e){return this.ref.add(e)}doc(e){return new zR(this.ref.doc(e),this.afs)}}class zR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=ZR(r,t);return new qR(i,a,this.afs)}snapshotChanges(){return function HV(n,e){return HR(n,e).pipe(Ro(void 0),_D(),(0,st.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,st.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fn.D)(this.ref.get(e)).pipe(hr.iC)}}class qV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?vT(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),C(t=>t.length>0),hr.iC):vT(this.query,this.afs.schedulers.outsideAngular).pipe(hr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=$R(e);return GR(this.query,t,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(e={}){return MN(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),hr.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(hr.iC)}}const zV=new l.OlP("angularfire2.enableFirestorePersistence"),ZV=new l.OlP("angularfire2.firestore.persistenceSettings"),WV=new l.OlP("angularfire2.firestore.settings"),KV=new l.OlP("angularfire2.firestore.use-emulator");function ZR(n,e=(t=>t)){return{query:e(n),ref:n}}let WR=(()=>{class n{constructor(t,r,i,a,c,f,_,b,T,S,F,j,J,ae,me,Pe,Ue){this.schedulers=_;const Je=(0,Ti.on)(t,f,r),$e=T;S&&mD(Je,f,F,J,ae,me,j,Pe),[this.firestore,this.persistenceEnabled$]=(0,Ti.cc)(`${Je.name}.firestore`,"AngularFirestore",Je.name,()=>{const We=f.runOutsideAngular(()=>Je.firestore());if(a&&We.settings(a),$e&&We.useEmulator(...$e),i&&!Nr(c)){const et=()=>{try{return(0,fn.D)(We.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(gt){return typeof console<"u"&&console.warn(gt),lt(!1)}};return[We,f.runOutsideAngular(et)]}return[We,lt(!1)]},[a,$e,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=ZR(i,r),f=this.schedulers.ngZone.run(()=>a);return new qR(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new qV(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new zR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ti.Dh),l.LFG(Ti.xv,8),l.LFG(zV,8),l.LFG(WV,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(hr.HU),l.LFG(ZV,8),l.LFG(KV,8),l.LFG(Ym,8),l.LFG(zv,8),l.LFG(Zv,8),l.LFG(Wv,8),l.LFG(Wm,8),l.LFG(Km,8),l.LFG(wu,8),l.LFG($v,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YV=(()=>{class n{constructor(t){this.af=t}getUsuarioPorEmail(t){return this.af.collection("usuarios",r=>r.where("email","==",t)).valueChanges({idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(WR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KR{}const vd="*";function JV(n,e){return{type:7,name:n,definitions:e,options:{}}}function YR(n,e=null){return{type:4,styles:e,timings:n}}function QR(n,e=null){return{type:2,steps:n,options:e}}function Ub(n){return{type:6,styles:n,offset:null}}function xN(n,e,t){return{type:0,name:n,styles:e,options:t}}function JR(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function XR(n){Promise.resolve().then(n)}class jb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){XR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ek{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?XR(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const tk=["toast-component",""];function XV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function eB(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.hij("[",t.duplicatesCount+1,"]")}}function tB(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,eB,2,1,"ng-container",4),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.titleClass),l.uIk("aria-label",t.title),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngIf",t.duplicatesCount)}}function nB(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.Q6J("innerHTML",t.message,l.oJD)}}function rB(n,e){if(1&n&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.uIk("aria-label",t.message),l.xp6(1),l.hij(" ",t.message," ")}}function iB(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Udp("width",t.width+"%")}}class dB{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class bT{constructor(e,t,r,i,a,c){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=a,this.toastRef=c,this._onTap=new en.x,this._onAction=new en.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const rk=new l.OlP("ToastConfig");class fB{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new en.x,this._activate=new en.x,this._manualClose=new en.x,this._resetTimeout=new en.x,this._countDuplicate=new en.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class pB{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===bT?this._toastPackage:this._parentInjector.get(e,t,r)}}class gB extends class hB{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class mB{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let _B=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(z))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yB=(()=>{class n{constructor(t,r,i,a){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=a,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new gB(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new mB(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_B),l.LFG(l._Vd),l.LFG(l.z2F),l.LFG(z))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hb=(()=>{class n{constructor(t,r,i,a,c){this.overlay=r,this._injector=i,this.sanitizer=a,this.ngZone=c,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},a=""){return this._preBuildNotification(a,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,a){const{includeTitleDuplicates:c}=this.toastrConfig;for(const f of this.toasts){const _=c&&f.title===t;if((!c||_)&&f.message===r)return f.toastRef.onDuplicate(i,a),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,a)):this._buildNotification(t,r,i,a)}_buildNotification(t,r,i,a){if(!a.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let b=r;r&&a.enableHtml&&(b=this.sanitizer.sanitize(l.q3G.HTML,r));const T=new fB(_),S=new bT(this.index,a,b,i,t,T),F=new pB(S,this._injector),j=new dB(a.toastComponent,F),J=_.attach(j,this.toastrConfig.newestOnTop);T.componentInstance=J.instance;const ae={toastId:this.index,title:i||"",message:r||"",toastRef:T,onShown:T.afterActivate(),onHidden:T.afterClosed(),onTap:S.onTap(),onAction:S.onAction(),portal:J};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ae.toastRef.activate()})),this.toasts.push(ae),ae}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(rk),l.LFG(yB),l.LFG(l.zs3),l.LFG(fa),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vB={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hb),l.Y36(bT),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(l.d8E("@flyInOut",r.state),l.Tol(r.toastClasses),l.Udp("display",r.displayStyle))},attrs:tk,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(l.YNc(0,XV,3,0,"button",0),l.YNc(1,tB,3,5,"div",1),l.YNc(2,nB,1,3,"div",2),l.YNc(3,rB,2,4,"div",3),l.YNc(4,iB,2,2,"div",4)),2&t&&(l.Q6J("ngIf",r.options.closeButton),l.xp6(1),l.Q6J("ngIf",r.title),l.xp6(1),l.Q6J("ngIf",r.message&&r.options.enableHtml),l.xp6(1),l.Q6J("ngIf",r.message&&!r.options.enableHtml),l.xp6(1),l.Q6J("ngIf",r.options.progressBar))},dependencies:[pn],encapsulation:2,data:{animation:[JV("flyInOut",[xN("inactive",Ub({opacity:0})),xN("active",Ub({opacity:1})),xN("removed",Ub({opacity:0})),JR("inactive => active",YR("{{ easeTime }}ms {{ easing }}")),JR("active => removed",YR("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let bB=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:rk,useValue:{default:vB,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xn]}),n})();function wB(n,e){1&n&&l._UZ(0,"span",17)}let DB=(()=>{class n{constructor(t,r,i,a,c){this.fb=t,this._auth=r,this._usuario=i,this.toastr=a,this.router=c,this.entrando=!1,this.loginForm=this.fb.group({email:["",uo.required],pass:["",uo.required]})}ngOnInit(){}login(){if(this.entrando=!0,this.loginForm.invalid)return this.toastr.error("Ingrese sus credenciales","Ha ocurrido un error"),void(this.entrando=!1);this._auth.signInWithEmail(this.loginForm.value.email,this.loginForm.value.pass).then(t=>{t.user.getIdTokenResult().then(r=>{this._usuario.getUsuarioPorEmail(this.loginForm.value.email).subscribe(i=>{i.length>0?(this._auth.saveLocalData("email",this.loginForm.value.email),this._auth.saveLocalData("names",i[0].nombres),this._auth.saveLocalData("lastnames",i[0].apellidos),this._auth.saveLocalData("administrador",i[0].administrador),this.router.navigateByUrl("/inicio")):(this.toastr.error("Verifique las credenciales ingresadas","Acceso denegado"),this.entrando=!1)})}),this.entrando=!1}).catch(t=>{this.toastr.error("Verifique las credenciales ingresadas","Acceso denegado"),this.entrando=!1})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yu),l.Y36(HI),l.Y36(YV),l.Y36(Hb),l.Y36(Dr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:28,vars:2,consts:[[1,"login-row"],[1,"card","col-sm-4","login-card"],[1,"card-header"],["id","logoImg","src","assets/images/logo.png"],["id","title"],[1,"card-body"],["id","welcomeText"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","email",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","id","email","formControlName","email",1,"form-control"],["for","pass",1,"col-sm-4","col-form-label"],["type","password","id","pass","formControlName","pass",1,"form-control"],[1,"col-sm-4"],["type","submit","id","submitBtn",1,"btn","btn-outline-dark"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"img",3),l.TgZ(4,"h4",4),l._uU(5,"AUTOMOTIVOS MEGA"),l.qZA()(),l.TgZ(6,"div",5)(7,"p",6),l._uU(8,"Bienvenido, por favor ingrese sus credenciales"),l.qZA(),l.TgZ(9,"form",7),l.NdJ("ngSubmit",function(){return r.login()}),l.TgZ(10,"div",8)(11,"label",9),l._uU(12,"Correo"),l.qZA(),l.TgZ(13,"div",10),l._UZ(14,"input",11),l.qZA()(),l._UZ(15,"br"),l.TgZ(16,"div",8)(17,"label",12),l._uU(18,"Contrase\xf1a"),l.qZA(),l.TgZ(19,"div",10),l._UZ(20,"input",13),l.qZA()(),l._UZ(21,"br"),l.TgZ(22,"div",8),l._UZ(23,"div",14),l.TgZ(24,"div",10)(25,"button",15),l.YNc(26,wB,1,0,"span",16),l._uU(27," ENTRAR "),l.qZA()()()()()()()),2&t&&(l.xp6(9),l.Q6J("formGroup",r.loginForm),l.xp6(17),l.Q6J("ngIf",r.entrando))},dependencies:[pn,up,ph,gh,mh,$c,_u]}),n})(),EB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-inicio"]],decls:2,vars:0,template:function(t,r){1&t&&(l.TgZ(0,"h1"),l._uU(1,"Bienvenido"),l.qZA())}}),n})(),kN=(()=>{class n{constructor(t){this.firestore=t}getAllProductos(){return this.firestore.collection("productos",t=>t.where("isActive","==",!0).orderBy("codigo")).valueChanges({idField:"id"})}getProductos(t,r){return this.firestore.collection("productos",i=>i.where("isActive","==",!0).orderBy("codigo").startAfter(r).limit(t)).valueChanges({idField:"id"})}getProducto(t){return this.firestore.collection("productos").doc(t).valueChanges({idField:"id"})}updateProducto(t,r){this.firestore.collection("productos").doc(t).update(r)}saveCompra(t){this.firestore.collection("compras").add(t)}saveVenta(t){this.firestore.collection("ventas").add(t)}getCompras(t){return this.firestore.collection("compras",r=>r.where("codigo","==",t).orderBy("fecha")).valueChanges()}getVentas(t){return this.firestore.collection("ventas",r=>r.where("codigo","==",t).orderBy("fecha")).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(WR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PN=(()=>{class n{constructor(){}getTodayString(){var t=new Date;return String(t.getDate()).padStart(2,"0")+"/"+String(t.getMonth()+1).padStart(2,"0")+"/"+t.getFullYear()}getTodayTimestamp(){return Hn.fromDate(new Date)}getDateFromTimestamp(t){var r=t.toDate();let i=r.getDate(),a=r.getMonth()+1,c=r.getFullYear(),f=r.getHours(),_=r.getMinutes(),b=r.getSeconds();return _<10&&(_=`0${_}`),b<10&&(b=`0${b}`),a<10?`${i}/0${a}/${c} ${f}:${_}:${b}`:`${i}/${a}/${c} ${f}:${_}:${b}`}getDateFromString(t){const[r,i]=t.split(" "),[a,c,f]=r.split("/"),[_,b,T]=i.split(":");return new Date(+f,+c-1,+a,+_,+b,+T)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var FN=O(5876);const TB=["qrcElement"];let CB=(()=>{class n{constructor(t,r){this.renderer=t,this.sanitizer=r,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new l.vpe,this.context=null}ngOnChanges(){var t=this;return(0,Ne.Z)(function*(){yield t.createQRCode()})()}isValidQrCodeText(t){return!1===this.allowEmptyString?!(typeof t>"u"||""===t||"null"===t||null===t):!(typeof t>"u")}toDataURL(t){return new Promise((r,i)=>{FN.hz(this.qrdata,t,(a,c)=>{a?i(a):r(c)})})}toCanvas(t,r){return new Promise((i,a)=>{FN.rT(t,this.qrdata,r,c=>{c?a(c):i("success")})})}toSVG(t){return new Promise((r,i)=>{FN.toString(this.qrdata,t,(a,c)=>{a?i(a):r(c)})})}renderElement(t){for(const r of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,r);this.renderer.appendChild(this.qrcElement.nativeElement,t)}createQRCode(){var t=this;return(0,Ne.Z)(function*(){t.version&&t.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),t.version=40):t.version&&t.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),t.version=1):void 0!==t.version&&isNaN(t.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),t.version=void 0);try{if(!t.isValidQrCodeText(t.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");t.isValidQrCodeText(t.qrdata)&&""===t.qrdata&&(t.qrdata=" ");const r={color:{dark:t.colorDark,light:t.colorLight},errorCorrectionLevel:t.errorCorrectionLevel,margin:t.margin,scale:t.scale,type:t.elementType,version:t.version,width:t.width},i=t.imageSrc,a=t.imageHeight||40,c=t.imageWidth||40;switch(t.elementType){case"canvas":const f=t.renderer.createElement("canvas");t.context=f.getContext("2d"),t.toCanvas(f,r).then(()=>{if(t.ariaLabel&&t.renderer.setAttribute(f,"aria-label",`${t.ariaLabel}`),t.title&&t.renderer.setAttribute(f,"title",`${t.title}`),i&&t.context){t.centerImage=new Image(c,a),i!==t.centerImage.src&&(t.centerImage.src=i),a!==t.centerImage.height&&(t.centerImage.height=a),c!==t.centerImage.width&&(t.centerImage.width=c);const T=t.centerImage;T&&(T.onload=()=>{t.context?.drawImage(T,f.width/2-c/2,f.height/2-a/2,c,a)})}t.renderElement(f),t.emitQRCodeURL(f)}).catch(T=>{console.error("[angularx-qrcode] canvas error:",T)});break;case"svg":const _=t.renderer.createElement("div");t.toSVG(r).then(T=>{t.renderer.setProperty(_,"innerHTML",T);const S=_.firstChild;t.renderer.setAttribute(S,"height",`${t.width}`),t.renderer.setAttribute(S,"width",`${t.width}`),t.renderElement(S),t.emitQRCodeURL(S)}).catch(T=>{console.error("[angularx-qrcode] svg error:",T)});break;default:const b=t.renderer.createElement("img");t.toDataURL(r).then(T=>{t.alt&&b.setAttribute("alt",t.alt),t.ariaLabel&&b.setAttribute("aria-label",t.ariaLabel),b.setAttribute("src",T),t.title&&b.setAttribute("title",t.title),t.renderElement(b),t.emitQRCodeURL(b)}).catch(T=>{console.error("[angularx-qrcode] img/url error:",T)})}}catch(r){console.error("[angularx-qrcode] Error generating QR Code:",r.message)}})()}emitQRCodeURL(t){const r=t.constructor.name;if(r===SVGSVGElement.name){const c=new Blob([t.outerHTML],{type:"image/svg+xml"}),f=URL.createObjectURL(c),_=this.sanitizer.bypassSecurityTrustUrl(f);return void this.qrCodeURL.emit(_)}let i="";r===HTMLCanvasElement.name&&(i=t.toDataURL("image/png")),r===HTMLImageElement.name&&(i=t.src),fetch(i).then(a=>a.blob()).then(a=>URL.createObjectURL(a)).then(a=>this.sanitizer.bypassSecurityTrustUrl(a)).then(a=>{this.qrCodeURL.emit(a)}).catch(a=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+a)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(fa))},n.\u0275cmp=l.Xpm({type:n,selectors:[["qrcode"]],viewQuery:function(t,r){if(1&t&&l.Gf(TB,7),2&t){let i;l.iGM(i=l.CRH())&&(r.qrcElement=i.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[l.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(t,r){1&t&&l._UZ(0,"div",null,0),2&t&&l.Tol(r.cssClass)},encapsulation:2,changeDetection:0}),n})(),IB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[]}),n})();function SB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td")(4,"span",36),l._uU(5),l.qZA()(),l.TgZ(6,"td"),l._uU(7),l.qZA(),l.TgZ(8,"td"),l._uU(9),l.qZA(),l.TgZ(10,"td")(11,"button",37),l.NdJ("click",function(){const a=l.CHM(t).$implicit,c=l.oxw();return l.KtG(c.kardexGenerate(a.codigo))}),l._UZ(12,"i",38),l.qZA()(),l.TgZ(13,"td"),l._uU(14),l.qZA(),l.TgZ(15,"td"),l._uU(16),l.qZA(),l.TgZ(17,"td")(18,"button",39),l.NdJ("click",function(){const a=l.CHM(t).$implicit,c=l.oxw();return l.KtG(c.qrGenerate(a.codigo,a.descripcion,a.marca))}),l._UZ(19,"i",40),l.qZA()(),l.TgZ(20,"td")(21,"button",41),l.NdJ("click",function(){const a=l.CHM(t).$implicit,c=l.oxw();return l.KtG(c.openModal(a.id))}),l._UZ(22,"i",42),l.qZA(),l.TgZ(23,"button",43),l.NdJ("click",function(){const a=l.CHM(t).$implicit,c=l.oxw();return l.KtG(c.deleteProducto(a.id))}),l._UZ(24,"i",44),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.codigo),l.xp6(3),l.Oqu(t.clasificacion),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.Oqu(t.marca),l.xp6(5),l.hij("",t.costo," Bs."),l.xp6(2),l.hij("",t.precio," Bs.")}}function AB(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l._UZ(7,"td")(8,"td"),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l._UZ(13,"td")(14,"td"),l.qZA()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.fecha),l.xp6(2),l.Oqu(t.tipo),l.xp6(2),l.Oqu(t.cantidad),l.xp6(4),l.Oqu(t.costo),l.xp6(2),l.Oqu(t.total)}}let NB=(()=>{class n{constructor(t,r,i){this._db=t,this._utils=r,this.fb=i,this.edicion=!1,this.idEdicion="",this.startKey="",this.myAngularxQrCode="",this.qrCode="",this.cod="",this.des="",this.mar="",this.kardex=[],this.compras=ai.E,this.ventas=ai.E,this.articulo="",this.productoForm=this.fb.group({codigo:["",uo.required],clasificacion:["",uo.required],descripcion:["",uo.required],marca:["",uo.required]}),this.productos=this.getProducts(this.startKey),this.myAngularxQrCode="tutsmake.com"}ngOnInit(){this.qrModal=new window.bootstrap.Modal(document.getElementById("qrModal")),this.kardexModal=new window.bootstrap.Modal(document.getElementById("kardexModal"))}getProducts(t){var r=0,i=this._db.getProductos(10,t);return i.subscribe(a=>{a.forEach(c=>{9==r&&(this.startKey=c.codigo),r++})}),i}newModal(){this.productoForm.reset()}openModal(t){console.log(t)}deleteProducto(t){console.log(t)}next(){this.productos=this.getProducts(this.startKey)}qrGenerate(t,r,i){this.qrModal.show(),this.qrCode="",this.cod=t,this.des=r,this.mar=i,this.qrCode=this.cod+"|"+this.des+"|"+this.mar}kardexGenerate(t){this.kardexModal.show(),this.cod=t,this.compras=this._db.getCompras(t),this.compras.subscribe(r=>{for(var i=0;i<r.length;i++){let a=r[i];a.fecha=this._utils.getDateFromTimestamp(a.fecha),a.tipo="COMPRA",a.date=this._utils.getDateFromString(a.fecha),this.kardex.push(a)}}),this.ventas=this._db.getVentas(t),this.ventas.subscribe(r=>{for(var i=0;i<r.length;i++){this.articulo=r[i].descripcion;let a=r[i];a.fecha=this._utils.getDateFromTimestamp(a.fecha),a.tipo="VENTA",a.date=this._utils.getDateFromString(a.fecha),this.kardex.push(a)}}),setTimeout(()=>{this.kardex.sort(function(r,i){return i.date.getTime()-r.date.getTime()})},500)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(kN),l.Y36(PN),l.Y36(yu))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-productos"]],decls:127,vars:14,consts:[[1,"titleLbl"],["type","button","id","newBtn","data-toggle","modal","data-target","#productoModal",1,"btn","btn-sm","btn-success","mb-1",3,"click"],[1,"fa-solid","fa-plus"],[1,"table"],[1,"thead-dark"],["scope","col"],["scope","col",1,"details-table"],[1,"details-table"],[4,"ngFor","ngForOf"],["id","pagination"],["type","button","id","prev",1,"btn","btn-sm","btn-primary","mb-1"],[1,"fa-solid","fa-circle-chevron-left"],["type","button","id","next",1,"btn","btn-sm","btn-primary","mb-1",3,"click"],[1,"fa-solid","fa-circle-chevron-right"],["id","qrModal","tabindex","-1","aria-labelledby","qrModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","qrModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"qrdata","width","errorCorrectionLevel","allowEmptyString"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary"],["id","kardexModal","tabindex","-1","aria-labelledby","kardexModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],["id","kardexModalLabel",1,"modal-title"],["id","kardexPDF"],[1,"row","details-table"],[1,"row"],[1,"text-center"],[1,"col-sm-3","blackLbl","details-table"],[1,"col-sm-3","details-table"],[1,"table","table-bordered"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary"],[1,"badge","text-bg-primary"],["type","button",1,"btn","btn-sm","btn-outline-success",3,"click"],[1,"fa-solid","fa-paperclip"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fa-solid","fa-qrcode"],["type","button","id","editBtn","data-toggle","modal","data-target","#productoModal",1,"btn","btn-sm","btn-outline-warning",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","id","deleteBtn",1,"btn","btn-sm","btn-outline-danger","ml-1",3,"click"],[1,"fa-solid","fa-trash"]],template:function(t,r){1&t&&(l.TgZ(0,"h1",0),l._uU(1,"Listado de Items"),l.qZA(),l.TgZ(2,"button",1),l.NdJ("click",function(){return r.newModal()}),l._UZ(3,"i",2),l._uU(4," Registrar nuevo"),l.qZA(),l.TgZ(5,"table",3)(6,"thead",4)(7,"tr")(8,"th",5),l._uU(9,"CODIGO"),l.qZA(),l.TgZ(10,"th",5),l._uU(11,"CLASIFICACION"),l.qZA(),l.TgZ(12,"th",5),l._uU(13,"DESCRIPCION"),l.qZA(),l.TgZ(14,"th",5),l._uU(15,"MARCA"),l.qZA(),l.TgZ(16,"th",5),l._uU(17,"KARDEX"),l.qZA(),l.TgZ(18,"th",5),l._uU(19,"COMPRA"),l.qZA(),l.TgZ(20,"th",6),l._uU(21,"VENTA"),l.qZA(),l.TgZ(22,"th",6),l._uU(23,"CODIGO QR"),l.qZA(),l.TgZ(24,"th",5),l._uU(25,"OPCIONES"),l.qZA()()(),l.TgZ(26,"tbody",7),l.YNc(27,SB,25,6,"tr",8),l.ALo(28,"async"),l.qZA()(),l.TgZ(29,"div",9)(30,"button",10),l._UZ(31,"i",11),l._uU(32," Anterior"),l.qZA(),l.TgZ(33,"button",12),l.NdJ("click",function(){return r.next()}),l._uU(34," Siguiente "),l._UZ(35,"i",13),l.qZA()(),l.TgZ(36,"div",14)(37,"div",15)(38,"div",16)(39,"div",17)(40,"h5",18),l._uU(41),l.qZA(),l._UZ(42,"button",19),l.qZA(),l.TgZ(43,"div",20)(44,"h4"),l._uU(45),l.qZA(),l.TgZ(46,"p"),l._uU(47),l.qZA(),l._UZ(48,"qrcode",21),l.qZA(),l.TgZ(49,"div",22)(50,"button",23),l._uU(51,"Cerrar"),l.qZA(),l.TgZ(52,"button",24),l._uU(53,"Guardar"),l.qZA()()()()(),l.TgZ(54,"div",25)(55,"div",26)(56,"div",16)(57,"div",17)(58,"h5",27),l._uU(59),l.qZA(),l._UZ(60,"button",19),l.qZA(),l.TgZ(61,"div",20)(62,"div",28)(63,"div",29),l._uU(64,'Empresa Unipersonal Automotivos "MEGA"'),l.qZA(),l.TgZ(65,"div",29),l._uU(66,"De: Carla Guadalupe Huanca Apaza"),l.qZA(),l.TgZ(67,"div",29),l._uU(68,"NIT: 8315762015"),l.qZA(),l.TgZ(69,"div",29),l._uU(70,"El Alto - Bolivia"),l.qZA(),l.TgZ(71,"div",30)(72,"h2",31),l._uU(73,"TARJETA KARDEX FISICO VALORADO"),l.qZA(),l.TgZ(74,"div",30)(75,"div",32),l._uU(76,"ARTICULO:"),l.qZA(),l.TgZ(77,"div",33),l._uU(78),l.qZA(),l.TgZ(79,"div",32),l._uU(80,"UNIDAD DE MEDIDA:"),l.qZA(),l.TgZ(81,"div",33),l._uU(82,"PIEZAS"),l.qZA()(),l.TgZ(83,"div",30)(84,"div",32),l._uU(85,"EXISTENCIA MINIMA:"),l.qZA(),l.TgZ(86,"div",33),l._uU(87,"1"),l.qZA(),l.TgZ(88,"div",32),l._uU(89,"EXISTENCIA MAXIMA:"),l.qZA(),l.TgZ(90,"div",33),l._uU(91,"100"),l.qZA()(),l.TgZ(92,"div",30)(93,"div",32),l._uU(94,"CODIGO:"),l.qZA(),l.TgZ(95,"div",33),l._uU(96),l.qZA(),l.TgZ(97,"div",32),l._uU(98,"METODO:"),l.qZA(),l.TgZ(99,"div",33),l._uU(100,"CPP"),l.qZA()(),l.TgZ(101,"table",34)(102,"thead")(103,"tr")(104,"th"),l._uU(105,"FECHA"),l.qZA(),l.TgZ(106,"th"),l._uU(107,"DETALLE"),l.qZA(),l.TgZ(108,"th"),l._uU(109,"ENTRADA"),l.qZA(),l.TgZ(110,"th"),l._uU(111,"SALIDA"),l.qZA(),l.TgZ(112,"th"),l._uU(113,"SALDO"),l.qZA(),l.TgZ(114,"th"),l._uU(115,"C/U"),l.qZA(),l.TgZ(116,"th"),l._uU(117,"ENTRADA"),l.qZA(),l.TgZ(118,"th"),l._uU(119,"SALIDA"),l.qZA(),l.TgZ(120,"th"),l._uU(121,"SALDO"),l.qZA()()(),l.TgZ(122,"tbody",7),l.YNc(123,AB,15,5,"tr",8),l.qZA()()()()(),l.TgZ(124,"div",22)(125,"button",35),l._uU(126,"Cerrar"),l.qZA()()()()()),2&t&&(l.xp6(27),l.Q6J("ngForOf",l.lcZ(28,12,r.productos)),l.xp6(14),l.hij("ITEM ",r.cod,""),l.xp6(4),l.Oqu(r.des),l.xp6(2),l.Oqu(r.mar),l.xp6(1),l.Q6J("qrdata",r.qrCode)("width",256)("errorCorrectionLevel","M")("allowEmptyString",!0),l.xp6(11),l.hij("ITEM ",r.cod,""),l.xp6(19),l.Oqu(r.articulo),l.xp6(18),l.Oqu(r.cod),l.xp6(27),l.Q6J("ngForOf",r.kardex))},dependencies:[ei,CB,Va]}),n})();function MB(n,e){if(1&n&&(l.TgZ(0,"option",28),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.s9C("value",t.id),l.xp6(1),l.HOy("",t.codigo," - ",t.clasificacion," | ",t.marca," (",t.descripcion,")")}}function OB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.ALo(11,"currency"),l.qZA(),l.TgZ(12,"td"),l._uU(13),l.ALo(14,"currency"),l.qZA(),l.TgZ(15,"td"),l._uU(16),l.qZA(),l.TgZ(17,"td"),l._uU(18),l.ALo(19,"currency"),l.qZA(),l.TgZ(20,"td")(21,"button",29),l.NdJ("click",function(){const a=l.CHM(t).index,c=l.oxw();return l.KtG(c.quitarProducto(a))}),l._UZ(22,"i",30),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.codigo),l.xp6(2),l.Oqu(t.clasificacion),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.Oqu(t.marca),l.xp6(2),l.Oqu(l.lcZ(11,8,t.costo)),l.xp6(3),l.Oqu(l.lcZ(14,10,t.precio)),l.xp6(3),l.Oqu(t.cantidad),l.xp6(2),l.Oqu(l.lcZ(19,12,t.total))}}function xB(n,e){1&n&&(l.TgZ(0,"div",31)(1,"span",32),l._uU(2,"Loading..."),l.qZA()())}function RB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"button",33),l._uU(2,"Cancelar"),l.qZA(),l.TgZ(3,"button",34),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.guardarCompras())}),l._uU(4,"Guardar"),l.qZA()()}}let kB=(()=>{class n{constructor(t,r,i,a){this.fb=t,this._db=r,this._utils=i,this.toastr=a,this.nuevasCompras=[],this.saving=!1,this.productoSeleccionado="",this.productoForm=this.fb.group({}),this.compraForm=this.fb.group({id:["",uo.required],costo:["",uo.required],cantidad:["",uo.required],precio:["",uo.required]}),this.productos=this._db.getAllProductos()}ngOnInit(){}seleccionarProducto(t){this.productoSeleccionado=t?.target.value}agregar(){if(this.compraForm.invalid)return void this.toastr.error("Debe completar todos los campos","Ocurri\xf3 un error");const t=this._db.getProducto(this.compraForm.value.id);var r=!0;t.forEach(i=>{if(r){let a={};a.id=i.id,a.codigo=i.codigo,a.clasificacion=i.clasificacion,a.descripcion=i.descripcion,a.marca=i.marca,a.costo=this.compraForm.value.costo,a.cantidad=this.compraForm.value.cantidad,a.precio=this.compraForm.value.precio,a.total=Math.round(this.compraForm.value.costo*this.compraForm.value.cantidad*100)/100,a.fecha=this._utils.getTodayTimestamp(),this.nuevasCompras.push(a),this.compraForm.reset(),r=!1}})}quitarProducto(t){this.nuevasCompras.splice(t,1)}guardarCompras(){this.saving=!0,this.nuevasCompras.forEach(t=>{this._db.saveCompra(t),this.nuevasCompras=[],this.productoForm.value.costo=t.costo,this.productoForm.value.precio=t.precio,this._db.updateProducto(t.id,this.productoForm.value),this.toastr.success("Registros almacenados correctamente","Operaci\xf3n exitosa"),this.saving=!1})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yu),l.Y36(kN),l.Y36(PN),l.Y36(Hb))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-compras"]],decls:64,vars:7,consts:[[1,"container"],["autocomplete","off"],[1,"modal-body","details-table"],[1,"card"],[1,"card-body"],["autocomplete","off",3,"formGroup"],[1,"row"],[1,"form-group","col-sm-12"],["for","producto"],["id","producto","formControlName","id",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-md-4"],["for","costo"],["type","number","id","costo","formControlName","costo",1,"form-control"],["for","cantidad"],["type","number","id","cantidad","formControlName","cantidad",1,"form-control"],["for","precio"],["type","number","id","precio","formControlName","precio",1,"form-control"],[1,"form-group","col-md-3"],["type","button","id","agregar",1,"btn","btn-outline-success","mt-4",3,"click"],[1,"table"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["class","spinner-border text-primary","role","status",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","button",1,"btn","btn-sm","btn-danger","ml-1",3,"click"],[1,"fas","fa-trash"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","bottomBtn"],["type","button",1,"btn","btn-primary","ml-2","bottomBtn",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"h2"),l._uU(2,"Registrar nueva compra"),l.qZA(),l.TgZ(3,"form",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"label",8),l._uU(11,"Seleccione Item"),l.qZA(),l.TgZ(12,"select",9)(13,"option",10),l._uU(14,"..."),l.qZA(),l.YNc(15,MB,2,5,"option",11),l.ALo(16,"async"),l.qZA()()(),l._UZ(17,"br"),l.TgZ(18,"div",6)(19,"div",12)(20,"label",13),l._uU(21,"Costo compra"),l.qZA(),l._UZ(22,"input",14),l.qZA(),l.TgZ(23,"div",12)(24,"label",15),l._uU(25,"Cantidad"),l.qZA(),l._UZ(26,"input",16),l.qZA(),l.TgZ(27,"div",12)(28,"label",17),l._uU(29,"Precio venta"),l.qZA(),l._UZ(30,"input",18),l.qZA()(),l.TgZ(31,"div",6)(32,"div",19)(33,"button",20),l.NdJ("click",function(){return r.agregar()}),l._uU(34,"Agregar"),l.qZA()()()()()(),l.TgZ(35,"div",3)(36,"div",4)(37,"table",21)(38,"thead",22)(39,"tr")(40,"th",23),l._uU(41,"CODIGO DE PRODUCTO"),l.qZA(),l.TgZ(42,"th",23),l._uU(43,"CLASIFICACION"),l.qZA(),l.TgZ(44,"th",23),l._uU(45,"DESCRIPCION"),l.qZA(),l.TgZ(46,"th",23),l._uU(47,"MARCA"),l.qZA(),l.TgZ(48,"th",23),l._uU(49,"COSTO"),l.qZA(),l.TgZ(50,"th",23),l._uU(51,"PRECIO"),l.qZA(),l.TgZ(52,"th",23),l._uU(53,"CANTIDAD"),l.qZA(),l.TgZ(54,"th",23),l._uU(55,"TOTAL"),l.qZA(),l.TgZ(56,"th",23),l._uU(57,"QUITAR"),l.qZA()()(),l.TgZ(58,"tbody"),l.YNc(59,OB,23,14,"tr",24),l.qZA()()()()(),l._UZ(60,"br"),l.TgZ(61,"div",25),l.YNc(62,xB,3,0,"div",26),l.YNc(63,RB,5,0,"div",27),l.qZA()()()),2&t&&(l.xp6(7),l.Q6J("formGroup",r.compraForm),l.xp6(8),l.Q6J("ngForOf",l.lcZ(16,5,r.productos)),l.xp6(44),l.Q6J("ngForOf",r.nuevasCompras),l.xp6(3),l.Q6J("ngIf",1==r.saving),l.xp6(1),l.Q6J("ngIf",0==r.saving))},dependencies:[ei,pn,up,O1,Ho,ph,Rm,qc,gh,mh,$c,_u,Va,ws]}),n})();function PB(n,e){if(1&n&&(l.TgZ(0,"option",26),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.s9C("value",t.id),l.xp6(1),l.HOy("",t.codigo," - ",t.clasificacion," | ",t.marca," (",t.descripcion,")")}}function FB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.ALo(11,"currency"),l.qZA(),l.TgZ(12,"td"),l._uU(13),l.qZA(),l.TgZ(14,"td"),l._uU(15),l.ALo(16,"currency"),l.qZA(),l.TgZ(17,"td")(18,"button",27),l.NdJ("click",function(){const a=l.CHM(t).index,c=l.oxw();return l.KtG(c.quitarProducto(a))}),l._UZ(19,"i",28),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.codigo),l.xp6(2),l.Oqu(t.clasificacion),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.Oqu(t.marca),l.xp6(2),l.Oqu(l.lcZ(11,7,t.precio)),l.xp6(3),l.Oqu(t.cantidad),l.xp6(2),l.Oqu(l.lcZ(16,9,t.total))}}function LB(n,e){1&n&&(l.TgZ(0,"div",29)(1,"span",30),l._uU(2,"Loading..."),l.qZA()())}function VB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"button",31),l._uU(2,"Cancelar"),l.qZA(),l.TgZ(3,"button",32),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.guardarVentas())}),l._uU(4,"Guardar"),l.qZA()()}}const BB=[{path:"login",component:DB},{path:"inicio",component:EB},{path:"items",component:NB},{path:"compras",component:kB},{path:"ventas",component:(()=>{class n{constructor(t,r,i,a){this.fb=t,this._db=r,this._utils=i,this.toastr=a,this.nuevasVentas=[],this.saving=!1,this.productoSeleccionado="",this.precioVenta=0,this.ventaForm=this.fb.group({id:["",uo.required],cantidad:["",uo.required]}),this.productos=this._db.getAllProductos()}ngOnInit(){}seleccionarProducto(t){const r=t?.target.value,i=this._db.getProducto(r);var a=!0;i.forEach(c=>{a&&(this.precioVenta=c.precio,console.log("PV",this.precioVenta),a=!1)})}agregar(){if(this.ventaForm.invalid)return void this.toastr.error("Debe completar todos los campos","Ocurri\xf3 un error");const t=this._db.getProducto(this.ventaForm.value.id);var r=!0;t.forEach(i=>{if(r){let a={};a.id=i.id,a.codigo=i.codigo,a.clasificacion=i.clasificacion,a.descripcion=i.descripcion,a.marca=i.marca,a.precio=this.precioVenta,a.cantidad=this.ventaForm.value.cantidad,a.total=Math.round(this.precioVenta*this.ventaForm.value.cantidad*100)/100,a.fecha=this._utils.getTodayTimestamp(),this.nuevasVentas.push(a),this.ventaForm.reset(),this.precioVenta=0,r=!1}})}quitarProducto(t){this.nuevasVentas.splice(t,1)}guardarVentas(){this.saving=!0,this.nuevasVentas.forEach(t=>{this._db.saveVenta(t),this.nuevasVentas=[],this.toastr.success("Registrado correctamente","Operaci\xf3n exitosa"),this.saving=!1})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yu),l.Y36(kN),l.Y36(PN),l.Y36(Hb))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-ventas"]],decls:58,vars:8,consts:[[1,"container"],["autocomplete","off"],[1,"modal-body","details-table"],[1,"card"],[1,"card-body"],["autocomplete","off",3,"formGroup"],[1,"row"],[1,"form-group","col-sm-12"],["for","producto"],["id","producto","formControlName","id",1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-md-4"],["for","costo"],["type","number","id","precio","readonly","",1,"form-control",3,"value"],["for","cantidad"],["type","number","id","cantidad","formControlName","cantidad",1,"form-control"],[1,"form-group","col-md-3"],["type","button","id","agregar",1,"btn","btn-outline-success","mt-4",3,"click"],[1,"table"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["class","spinner-border text-primary","role","status",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","button",1,"btn","btn-sm","btn-danger","ml-1",3,"click"],[1,"fas","fa-trash"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","bottomBtn"],["type","button",1,"btn","btn-primary","ml-2","bottomBtn",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"h2"),l._uU(2,"Registrar nueva venta"),l.qZA(),l.TgZ(3,"form",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"label",8),l._uU(11,"Seleccione Item"),l.qZA(),l.TgZ(12,"select",9),l.NdJ("change",function(a){return r.seleccionarProducto(a)}),l.TgZ(13,"option",10),l._uU(14,"..."),l.qZA(),l.YNc(15,PB,2,5,"option",11),l.ALo(16,"async"),l.qZA()()(),l._UZ(17,"br"),l.TgZ(18,"div",6)(19,"div",12)(20,"label",13),l._uU(21,"Precio (Bs.)"),l.qZA(),l._UZ(22,"input",14),l.qZA(),l.TgZ(23,"div",12)(24,"label",15),l._uU(25,"Cantidad"),l.qZA(),l._UZ(26,"input",16),l.qZA()(),l.TgZ(27,"div",6)(28,"div",17)(29,"button",18),l.NdJ("click",function(){return r.agregar()}),l._uU(30,"Agregar"),l.qZA()()()()()(),l.TgZ(31,"div",3)(32,"div",4)(33,"table",19)(34,"thead",20)(35,"tr")(36,"th",21),l._uU(37,"CODIGO DE PRODUCTO"),l.qZA(),l.TgZ(38,"th",21),l._uU(39,"CLASIFICACION"),l.qZA(),l.TgZ(40,"th",21),l._uU(41,"DESCRIPCION"),l.qZA(),l.TgZ(42,"th",21),l._uU(43,"MARCA"),l.qZA(),l.TgZ(44,"th",21),l._uU(45,"PRECIO"),l.qZA(),l.TgZ(46,"th",21),l._uU(47,"CANTIDAD"),l.qZA(),l.TgZ(48,"th",21),l._uU(49,"TOTAL"),l.qZA(),l.TgZ(50,"th",21),l._uU(51,"QUITAR"),l.qZA()()(),l.TgZ(52,"tbody"),l.YNc(53,FB,20,11,"tr",22),l.qZA()()()()(),l._UZ(54,"br"),l.TgZ(55,"div",23),l.YNc(56,LB,3,0,"div",24),l.YNc(57,VB,5,0,"div",25),l.qZA()()()),2&t&&(l.xp6(7),l.Q6J("formGroup",r.ventaForm),l.xp6(8),l.Q6J("ngForOf",l.lcZ(16,6,r.productos)),l.xp6(7),l.s9C("value",r.precioVenta),l.xp6(31),l.Q6J("ngForOf",r.nuevasVentas),l.xp6(3),l.Q6J("ngIf",1==r.saving),l.xp6(1),l.Q6J("ngIf",0==r.saving))},dependencies:[ei,pn,up,O1,Ho,ph,Rm,qc,gh,mh,$c,_u,Va,ws]}),n})()},{path:"**",pathMatch:"full",redirectTo:"login"}];let UB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Bw.forRoot(BB),Bw]}),n})(),jB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"bg-light","text-center","text-lg-start","ftr","bar-color"],[1,"text-center","p-3","text-muted"],["href","https://www.muvlin.com","target","blank",1,"text-dark"]],template:function(t,r){1&t&&(l.TgZ(0,"footer",0)(1,"div",1),l._uU(2," \xa9 2022 Derechos reservados "),l.TgZ(3,"a",2),l._uU(4,"MUVLIN"),l.qZA()()())}}),n})();var HB=O(1144);const GB=["addListener","removeListener"],$B=["addEventListener","removeEventListener"],qB=["on","off"];function Vs(n,e,t,r){if((0,si.m)(t)&&(r=t,t=void 0),r)return Vs(n,e,t).pipe(ga(r));const[i,a]=function WB(n){return(0,si.m)(n.addEventListener)&&(0,si.m)(n.removeEventListener)}(n)?$B.map(c=>f=>n[c](e,f,t)):function zB(n){return(0,si.m)(n.addListener)&&(0,si.m)(n.removeListener)}(n)?GB.map(ik(n,e)):function ZB(n){return(0,si.m)(n.on)&&(0,si.m)(n.off)}(n)?qB.map(ik(n,e)):[];if(!i&&(0,HB.z)(n))return(0,I.z)(c=>Vs(c,e,t))((0,$r.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Zn.y(c=>{const f=(..._)=>c.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function ik(n,e){return t=>r=>n[t](e,r)}var KB=O(3532);const{isArray:QB}=Array;function sk(n){return 1===n.length&&QB(n[0])?n[0]:n}var wT=O(5032);function DT(...n){const e=(0,ii.jO)(n),t=sk(n);return t.length?new Zn.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let c=0;!r.closed&&c<t.length;c++)(0,$r.Xf)(t[c]).subscribe((0,Dn.x)(r,f=>{if(i[c].push(f),i.every(_=>_.length)){const _=i.map(b=>b.shift());r.next(e?e(..._):_),i.some((b,T)=>!b.length&&a[T])&&r.complete()}},()=>{a[c]=!0,!i[c].length&&r.complete()}));return()=>{i=a=null}}):ai.E}function di(n){return(0,ur.e)((e,t)=>{(0,$r.Xf)(n).subscribe((0,Dn.x)(t,()=>t.complete(),wT.Z)),!t.closed&&e.subscribe(t)})}function VN(...n){const e=(0,ii.jO)(n);return(0,ur.e)((t,r)=>{const i=n.length,a=new Array(i);let c=n.map(()=>!1),f=!1;for(let _=0;_<i;_++)(0,$r.Xf)(n[_]).subscribe((0,Dn.x)(r,b=>{a[_]=b,!f&&!c[_]&&(c[_]=!0,(f=c.every(As.y))&&(c=null))},wT.Z));t.subscribe((0,Dn.x)(r,_=>{if(f){const b=[_,...a];r.next(e?e(...b):b)}}))})}new Zn.y(wT.Z),Math,Math,Math;const fj=["*"],Oj=["dialog"];function YN(n){return"string"==typeof n}function Tg(n){return null!=n}function hy(n){return(n||document.body).getBoundingClientRect()}const Ik={animation:!0,transitionTimerDelayMs:5},I3=()=>{},{transitionTimerDelayMs:S3}=Ik,Kb=new Map,Bs=(n,e,t,r)=>{let i=r.context||{};const a=Kb.get(e);if(a)switch(r.runningTransition){case"continue":return ai.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),Kb.delete(e)}const c=t(e,r.animation,i)||I3;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),lt(void 0).pipe(function T3(n){return e=>new Zn.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new en.x,_=new en.x,b=f.pipe(function XB(...n){return e=>ns(e,lt(...n))}(!0));Kb.set(e,{transition$:f,complete:()=>{_.next(),_.complete()},context:i});const T=function C3(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const S=Vs(e,"transitionend").pipe(di(b),C(({target:j})=>j===e));(function ok(...n){return 1===(n=sk(n)).length?(0,$r.Xf)(n[0]):new Zn.y(function JB(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,$r.Xf)(n[r]).subscribe((0,Dn.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))})(function LN(n=0,e,t=Np.P){let r=-1;return null!=e&&((0,KB.K)(e)?t=e:r=e),new Zn.y(i=>{let a=function YB(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(T+S3).pipe(di(b)),S,_).pipe(di(b)).subscribe(()=>{Kb.delete(e),n.run(()=>{c(),f.next(),f.complete()})})}),f.asObservable()};let AT=(()=>{class n{constructor(){this.animation=Ik.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xn]}),n})(),Rk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xn]}),n})(),Fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xn]}),n})(),Lk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var hi=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(hi||(hi={})),hi))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Bk=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Uk(n){const e=Array.from(n.querySelectorAll(Bk)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Wk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xn,uI]}),n})(),rM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),Qk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Ag{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let yH=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe($t(1)).subscribe(()=>{Bs(this._zone,this._el.nativeElement,(t,r)=>{r&&hy(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Bs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class Jk{close(e){}dismiss(e){}}class vH{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new en.x,this._dismissed=new en.x,this._hidden=new en.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,c)=>{this._resolve=a,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(di(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(di(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Ck(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():lt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),DT(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Xb=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Xb||(Xb={})),Xb))();let bH=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new en.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new en.x,this.hidden=new en.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":YN(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe($t(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=DT(Bs(this._zone,t,()=>t.classList.remove("show"),r),Bs(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};DT(Bs(this._zone,this._elRef.nativeElement,(a,c)=>{c&&hy(a),a.classList.add("show")},t),Bs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Vs(t,"keydown").pipe(di(this._closed$),C(i=>i.which===hi.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Xb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Vs(this._dialogEl.nativeElement,"mousedown").pipe(di(this._closed$),(0,He.b)(()=>r=!1),Vn(()=>Vs(t,"mouseup").pipe(di(this._closed$),$t(1))),C(({target:i})=>t===i)).subscribe(()=>{r=!0}),Vs(t,"click").pipe(di(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Xb.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=Uk(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Bs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(z),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&l.Gf(Oj,7),2&t){let i;l.iGM(i=l.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:fj,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),wH=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:c}=i;if(t>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=c),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(z))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DH=(()=>{class n{constructor(t,r,i,a,c,f){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=c,this._ngZone=f,this._activeWindowCmptHasChanged=new en.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Vs(e,"focusin").pipe(di(t),(0,st.U)(a=>a.target));Vs(e,"keydown").pipe(di(t),C(a=>a.which===hi.Tab),VN(i)).subscribe(([a,c])=>{const[f,_]=Uk(e);(c===f||c===e)&&a.shiftKey&&(_.focus(),a.preventDefault()),c===_&&!a.shiftKey&&(f.focus(),a.preventDefault())}),r&&Vs(e,"click").pipe(di(t),VN(i),(0,st.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const a=i.container instanceof HTMLElement?i.container:Tg(i.container)?this._document.querySelector(i.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const f=new Jk,_=this._getContentRef(i.injector||t,r,f,i);let b=!1!==i.backdrop?this._attachBackdrop(a):void 0,T=this._attachWindowComponent(a,_.nodes),S=new vH(T,_,b,i.beforeDismiss);return this._registerModalRef(S),this._registerWindowCmpt(T),S.hidden.pipe($t(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),f.close=F=>{S.close(F)},f.dismiss=F=>{S.dismiss(F)},this._applyWindowOptions(T.instance,i),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),b&&b.instance&&(this._applyBackdropOptions(b.instance,i),b.changeDetectorRef.detectChanges()),T.changeDetectorRef.detectChanges(),S}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,l.LMc)(yH,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,l.LMc)(bH,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Tg(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Tg(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a){return r?r instanceof l.Rgc?this._createFromTemplateRef(r,i):YN(r)?this._createFromString(r):this._createFromComponent(t,r,i,a):new Ag([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(a),new Ag([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Ag([[r]])}_createFromComponent(t,r,i,a){const c=l.zs3.create({providers:[{provide:Jk,useValue:i}],parent:t}),f=(0,l.LMc)(r,{environmentInjector:this._applicationRef.injector,elementInjector:c}),_=f.location.nativeElement;return a.scrollable&&_.classList.add("component-host-scrollable"),this._applicationRef.attachView(f.hostView),new Ag([[_]],f.hostView,f)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(z),l.LFG(wH),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EH=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(AT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TH=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(DH),l.LFG(EH))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[TH]}),n})(),rP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xn]}),n})(),dP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xn]}),n})(),fP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xn]}),n})(),pP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xn]}),n})(),gP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xn]}),n})(),mP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xn]}),n})(),_P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xn]}),n})(),yP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function LH(){return 100}});let vP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xn]}),n})(),bP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const VH=[xk,Rk,Fk,Lk,Wk,Qk,Xk,rP,bP,dP,fP,pP,gP,mP,_P,yP,vP];let BH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[VH,xk,Rk,Fk,Lk,Wk,Qk,Xk,rP,bP,dP,fP,pP,gP,mP,_P,yP,vP]}),n})(),UH=(()=>{class n{constructor(t,r){this._auth=t,this.router=r,this.usuario="",this.email="",this.usuario=t.getLocalData("names")+" "+t.getLocalData("lastnames"),this.email=t.getLocalData("email")}ngOnInit(){}logout(){this._auth.clearLocalStorage(),this.router.navigateByUrl("/login")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(HI),l.Y36(Dr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],decls:29,vars:2,consts:[[1,"navbar","navbar-light","navbar-expand-lg","bg-light","bar-color"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["id","logo","src","assets/images/logo.png"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLinkActive","active","routerLink","/inicio",1,"nav-link"],["routerLinkActive","active","routerLink","/items",1,"nav-link"],["routerLinkActive","active","routerLink","/compras",1,"nav-link"],["routerLinkActive","active","routerLink","/ventas",1,"nav-link"],[1,"navbar-text"],["id","userLbl",1,"fa-regular","fa-user"],["id","mailLbl"],["role","search","id","logoutBtn",1,"d-flex"],[1,"btn","btn-sm","btn-outline-dark",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"button",4),l._UZ(5,"span",5),l.qZA(),l.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),l._uU(10,"Inicio"),l.qZA()(),l.TgZ(11,"li",8)(12,"a",10),l._uU(13,"Items"),l.qZA()(),l.TgZ(14,"li",8)(15,"a",11),l._uU(16,"Compras"),l.qZA()(),l.TgZ(17,"li",8)(18,"a",12),l._uU(19,"Ventas"),l.qZA()()(),l.TgZ(20,"span",13),l._UZ(21,"i",14),l._uU(22),l._UZ(23,"br"),l.TgZ(24,"p",15),l._uU(25),l.qZA()(),l.TgZ(26,"form",16)(27,"button",17),l.NdJ("click",function(){return r.logout()}),l._uU(28,"Cerrar sesi\xf3n"),l.qZA()()()()()),2&t&&(l.xp6(22),l.hij(" ",r.usuario," "),l.xp6(3),l.Oqu(r.email))},dependencies:[zf,Zf,rM,up,mh]}),n})();function jH(n,e){1&n&&(l.ynx(0),l._UZ(1,"router-outlet"),l.BQk())}function HH(n,e){1&n&&(l.ynx(0),l._UZ(1,"app-header"),l.TgZ(2,"div",1),l._UZ(3,"router-outlet"),l.qZA(),l._UZ(4,"app-footer"),l.BQk())}let GH=(()=>{class n{constructor(t){this.router=t,this.title="automotivos-mega"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Dr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"content"]],template:function(t,r){1&t&&(l.YNc(0,jH,2,0,"ng-container",0),l.YNc(1,HH,5,0,"ng-container",0)),2&t&&(l.Q6J("ngIf","/login"==r.router.url),l.xp6(1),l.Q6J("ngIf","/login"!=r.router.url))},dependencies:[pn,m,jB,UH]}),n})();function wP(n){return new l.vHH(3e3,!1)}function TG(){return typeof window<"u"&&typeof window.document<"u"}function aM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function lf(n){switch(n.length){case 0:return new jb;case 1:return n[0];default:return new ek(n)}}function DP(n,e,t,r,i=new Map,a=new Map){const c=[],f=[];let _=-1,b=null;if(r.forEach(T=>{const S=T.get("offset"),F=S==_,j=F&&b||new Map;T.forEach((J,ae)=>{let me=ae,Pe=J;if("offset"!==ae)switch(me=e.normalizePropertyName(me,c),Pe){case"!":Pe=i.get(ae);break;case vd:Pe=a.get(ae);break;default:Pe=e.normalizeStyleValue(ae,me,Pe,c)}j.set(me,Pe)}),F||f.push(j),b=j,_=S}),c.length)throw function hG(n){return new l.vHH(3502,!1)}();return f}function lM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&uM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&uM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&uM(t,"destroy",n)))}}function uM(n,e,t){const a=cM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function cM(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function Ko(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function EP(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let dM=(n,e)=>!1,TP=(n,e,t)=>[],CP=null;function hM(n){const e=n.parentNode||n.host;return e===CP?null:e}(aM()||typeof Element<"u")&&(TG()?(CP=(()=>document.documentElement)(),dM=(n,e)=>{for(;e;){if(e===n)return!0;e=hM(e)}return!1}):dM=(n,e)=>n.contains(e),TP=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Ng=null,IP=!1;const SP=dM,AP=TP;let NP=(()=>{class n{validateStyleProperty(t){return function IG(n){Ng||(Ng=function SG(){return typeof document<"u"?document.body:null}()||{},IP=!!Ng.style&&"WebkitAppearance"in Ng.style);let e=!0;return Ng.style&&!function CG(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ng.style,!e&&IP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ng.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return SP(t,r)}getParentElement(t){return hM(t)}query(t,r,i){return AP(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,f=[],_){return new jb(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),fM=(()=>{class n{}return n.NOOP=new NP,n})();const pM="ng-enter",FT="ng-leave",LT="ng-trigger",VT=".ng-trigger",OP="ng-animating",gM=".ng-animating";function Dd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mM(parseFloat(e[1]),e[2])}function mM(n,e){return"s"===e?1e3*n:n}function BT(n,e,t){return n.hasOwnProperty("duration")?n:function MG(n,e,t){let i,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(wP()),{duration:0,delay:0,easing:""};i=mM(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=mM(parseFloat(_),f[4]));const b=f[5];b&&(c=b)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function $H(){return new l.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function qH(){return new l.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,wP())}return{duration:i,delay:a,easing:c}}(n,e,t)}function ew(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function xP(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function uf(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function kP(n,e,t){return t?e+":"+t+";":""}function PP(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=kP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=kP(0,kG(t),n.style[t]));n.setAttribute("style",e)}function $u(n,e,t){n.style&&(e.forEach((r,i)=>{const a=yM(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),aM()&&PP(n))}function Mg(n,e){n.style&&(e.forEach((t,r)=>{const i=yM(r);n.style[i]=""}),aM()&&PP(n))}function tw(n){return Array.isArray(n)?1==n.length?n[0]:QR(n):n}const _M=new RegExp("{{\\s*(.+?)\\s*}}","g");function FP(n){let e=[];if("string"==typeof n){let t;for(;t=_M.exec(n);)e.push(t[1]);_M.lastIndex=0}return e}function nw(n,e,t){const r=n.toString(),i=r.replace(_M,(a,c)=>{let f=e[c];return null==f&&(t.push(function ZH(n){return new l.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function UT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const RG=/-+([a-z0-9])/g;function yM(n){return n.replace(RG,(...e)=>e[1].toUpperCase())}function kG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Yo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function WH(n){return new l.vHH(3004,!1)}()}}function LP(n,e){return window.getComputedStyle(n)[e]}function UG(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function jG(n,e,t){if(":"==n[0]){const _=function HG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function lG(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function aG(n){return new l.vHH(3015,!1)}()),e;const i=r[1],a=r[2],c=r[3];e.push(VP(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(VP(c,i))}(r,t,e)):t.push(n),t}const $T=new Set(["true","1"]),qT=new Set(["false","0"]);function VP(n,e){const t=$T.has(n)||qT.has(n),r=$T.has(e)||qT.has(e);return(i,a)=>{let c="*"==n||n==i,f="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?$T.has(n):qT.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?$T.has(e):qT.has(e)),c&&f}}const GG=new RegExp("s*:selfs*,?","g");function vM(n,e,t,r){return new $G(n).build(e,t,r)}class $G{constructor(e){this._driver=e}build(e,t,r){const i=new ZG(t);return this._resetContextStyleTimingState(i),Yo(this,tw(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function YH(){return new l.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,a.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function QH(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{FP(_).forEach(b=>{c.hasOwnProperty(b)||a.add(b)})})}),a.size&&(UT(a.values()),t.errors.push(function JH(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Yo(this,tw(e.animation),t);return{type:1,matchers:UG(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Og(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Yo(this,r,t)),options:Og(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const f=Yo(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:Og(e.options)}}visitAnimate(e,t){const r=function KG(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return bM(BT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=bM(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=BT(t,e);return bM(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Ub({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const b={};r.easing&&(b.easing=r.easing),c=Ub(b)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===vd?r.push(f):t.errors.push(new l.vHH(3002,!1)):r.push(xP(f));let a=!1,c=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),T=b.get(_);let S=!0;T&&(a!=i&&a>=T.startTime&&i<=T.endTime&&(t.errors.push(function eG(n,e,t,r,i){return new l.vHH(3010,!1)}()),S=!1),a=T.startTime),S&&b.set(_,{startTime:a,endTime:i}),t.options&&function xG(n,e,t){const r=e.params||{},i=FP(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function zH(n){return new l.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function tG(){return new l.vHH(3011,!1)}()),r;let a=0;const c=[];let f=!1,_=!1,b=0;const T=e.steps.map(Pe=>{const Ue=this._makeStyleAst(Pe,t);let Je=null!=Ue.offset?Ue.offset:function WG(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ue.styles),$e=0;return null!=Je&&(a++,$e=Ue.offset=Je),_=_||$e<0||$e>1,f=f||$e<b,b=$e,c.push($e),Ue});_&&t.errors.push(function nG(){return new l.vHH(3012,!1)}()),f&&t.errors.push(function rG(){return new l.vHH(3200,!1)}());const S=e.steps.length;let F=0;a>0&&a<S?t.errors.push(function iG(){return new l.vHH(3202,!1)}()):0==a&&(F=1/(S-1));const j=S-1,J=t.currentTime,ae=t.currentAnimateTimings,me=ae.duration;return T.forEach((Pe,Ue)=>{const Je=F>0?Ue==j?1:F*Ue:c[Ue],$e=Je*me;t.currentTime=J+ae.delay+$e,ae.duration=$e,this._validateStyleAst(Pe,t),Pe.offset=Je,r.styles.push(Pe)}),r}visitReference(e,t){return{type:8,animation:Yo(this,tw(e.animation),t),options:Og(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Og(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Og(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function qG(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(GG,"")),n=n.replace(/@\*/g,VT).replace(/@\w+/g,t=>VT+"-"+t.slice(1)).replace(/:animating/g,gM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Ko(t.collectedStyles,t.currentQuerySelector,new Map);const f=Yo(this,tw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:Og(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function sG(){return new l.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:BT(e.timings,t.errors,!0);return{type:12,animation:Yo(this,tw(e.animation),t),timings:r,options:null}}}class ZG{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Og(n){return n?(n=ew(n)).params&&(n.params=function zG(n){return n?ew(n):null}(n.params)):n={},n}function bM(n,e,t){return{duration:n,delay:e,easing:t}}function wM(n,e,t,r,i,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:f}}class zT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const JG=new RegExp(":enter","g"),e$=new RegExp(":leave","g");function DM(n,e,t,r,i,a=new Map,c=new Map,f,_,b=[]){return(new t$).buildKeyframes(n,e,t,r,i,a,c,f,_,b)}class t${buildKeyframes(e,t,r,i,a,c,f,_,b,T=[]){b=b||new zT;const S=new EM(e,t,b,i,a,T,[]);S.options=_;const F=_.delay?Dd(_.delay):0;S.currentTimeline.delayNextStep(F),S.currentTimeline.setStyles([c],null,S.errors,_),Yo(this,r,S);const j=S.timelines.filter(J=>J.containsAnimation());if(j.length&&f.size){let J;for(let ae=j.length-1;ae>=0;ae--){const me=j[ae];if(me.element===t){J=me;break}}J&&!J.allowOnlyTimelineStyles()&&J.setStyles([f],null,S.errors,_)}return j.length?j.map(J=>J.buildKeyframes()):[wM(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimateRefDelay(e.animation,t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimateRefDelay(e,t,r){const i=e.options?.delay;if(!i)return;let a;a="string"==typeof i?Dd(nw(i,e.options?.params??{},t.errors)):i,r.delayNextStep(a)}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?Dd(r.duration):null,f=null!=r.delay?Dd(r.delay):null;return 0!==c&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,c,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Yo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ZT);const c=Dd(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Yo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Dd(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Yo(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return BT(t.params?nw(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Dd(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ZT);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,T)=>{t.currentQueryIndex=T;const S=t.createSubContext(e.options,b);a&&S.delayNextStep(a),b===t.element&&(_=S.currentTimeline),Yo(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const T=t.currentTimeline;_&&T.delayNextStep(_);const S=T.currentTime;Yo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-S+(i.startTime-r.currentTimeline.startTime)}}const ZT={};class EM{constructor(e,t,r,i,a,c,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ZT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new WT(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Dd(r.duration)),null!=r.delay&&(i.delay=Dd(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=nw(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new EM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=ZT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new n$(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(JG,"."+this._enterClassName)).replace(e$,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),f.push(...b)}return!a&&0==f.length&&c.push(function oG(n){return new l.vHH(3014,!1)}()),f}}class WT{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new WT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||vd),this._currentKeyframe.set(t,vd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},c=function r$(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,vd)}else uf(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of c){const b=nw(_,a,r);this._pendingStyles.set(f,b),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??vd),this._updateStyle(f,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const b=uf(f,new Map,this._backFill);b.forEach((T,S)=>{"!"===T?e.add(S):T===vd&&t.add(S)}),r||b.set("offset",_/this.duration),i.push(b)});const a=e.size?UT(e.values()):[],c=t.size?UT(t.values()):[];if(r){const f=i[0],_=new Map(f);f.set("offset",0),_.set("offset",1),i=[f,_]}return wM(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class n$ extends WT{constructor(e,t,r,i,a,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,f=t/c,_=uf(e[0]);_.set("offset",0),a.push(_);const b=uf(e[0]);b.set("offset",jP(f)),a.push(b);const T=e.length-1;for(let S=1;S<=T;S++){let F=uf(e[S]);const j=F.get("offset");F.set("offset",jP((t+j*r)/c)),a.push(F)}r=c,t=0,i="",e=a}return wM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function jP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class TM{}const i$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class s$ extends TM{normalizePropertyName(e,t){return yM(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(i$.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function KH(n,e){return new l.vHH(3005,!1)}())}return c+a}}function HP(n,e,t,r,i,a,c,f,_,b,T,S,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:T,totalTime:S,errors:F}}const CM={};class GP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function o$(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,c,f,_,b,T){const S=[],F=this.ast.options&&this.ast.options.params||CM,J=this.buildStyles(r,f&&f.params||CM,S),ae=_&&_.params||CM,me=this.buildStyles(i,ae,S),Pe=new Set,Ue=new Map,Je=new Map,$e="void"===i,We={params:a$(ae,F),delay:this.ast.options?.delay},et=T?[]:DM(e,t,this.ast.animation,a,c,J,me,We,b,S);let gt=0;if(et.forEach(Mn=>{gt=Math.max(Mn.duration+Mn.delay,gt)}),S.length)return HP(t,this._triggerName,r,i,$e,J,me,[],[],Ue,Je,gt,S);et.forEach(Mn=>{const On=Mn.element,mr=Ko(Ue,On,new Set);Mn.preStyleProps.forEach(Ir=>mr.add(Ir));const Ki=Ko(Je,On,new Set);Mn.postStyleProps.forEach(Ir=>Ki.add(Ir)),On!==t&&Pe.add(On)});const Ut=UT(Pe.values());return HP(t,this._triggerName,r,i,$e,J,me,et,Ut,Ue,Je,gt)}}function a$(n,e){const t=ew(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class l${constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=ew(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(i[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,f)=>{c&&(c=nw(c,i,t));const _=this.normalizer.normalizePropertyName(f,t);c=this.normalizer.normalizeStyleValue(f,_,c,t),r.set(_,c)})}),r}}class c${constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new l$(i.style,i.options&&i.options.params||{},r))}),$P(this.states,"true","1"),$P(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new GP(e,i,this.states))}),this.fallbackTransition=function d$(n,e,t){return new GP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function $P(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const h$=new zT;class f${constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=vM(this._driver,t,r,[]);if(r.length)throw function fG(n){return new l.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=DP(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let c;const f=new Map;if(a?(c=DM(this._driver,t,a,pM,FT,new Map,new Map,r,h$,i),c.forEach(T=>{const S=Ko(f,T.element,new Map);T.postStyleProps.forEach(F=>S.set(F,null))})):(i.push(function pG(){return new l.vHH(3300,!1)}()),c=[]),i.length)throw function gG(n){return new l.vHH(3504,!1)}();f.forEach((T,S)=>{T.forEach((F,j)=>{T.set(j,this._driver.computeStyle(S,j,vd))})});const b=lf(c.map(T=>{const S=f.get(T.element);return this._buildPlayer(T,new Map,S)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function mG(n){return new l.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=cM(t,"","","");return lM(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const qP="ng-animate-queued",IM="ng-animate-disabled",y$=[],zP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},v$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ka="__ng_removed";class SM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function E$(n){return n??null}(r?e.value:e),r){const a=ew(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const rw="void",AM=new SM(rw);class b${constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Pa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function _G(n,e){return new l.vHH(3302,!1)}();if(null==r||0==r.length)throw function yG(n){return new l.vHH(3303,!1)}();if(!function T$(n){return"start"==n||"done"==n}(r))throw function vG(n,e){return new l.vHH(3400,!1)}();const a=Ko(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const f=Ko(this._engine.statesByElement,e,new Map);return f.has(t)||(Pa(e,LT),Pa(e,LT+"-"+t),f.set(t,AM)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function bG(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new NM(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Pa(e,LT),Pa(e,LT+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const b=new SM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f.set(t,b),_||(_=AM),b.value!==rw&&_.value===b.value){if(!function S$(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const ae=[],me=a.matchStyles(_.value,_.params,ae),Pe=a.matchStyles(b.value,b.params,ae);ae.length?this._engine.reportError(ae):this._engine.afterFlush(()=>{Mg(e,me),$u(e,Pe)})}return}const F=Ko(this._engine.playersByElement,e,[]);F.forEach(ae=>{ae.namespaceId==this.id&&ae.triggerName==t&&ae.queued&&ae.destroy()});let j=a.matchTransition(_.value,b.value,e,b.params),J=!1;if(!j){if(!i)return;j=a.fallbackTransition,J=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:j,fromState:_,toState:b,player:c,isFallbackTransition:J}),J||(Pa(e,qP),c.onStart(()=>{py(e,qP)})),c.onDone(()=>{let ae=this.players.indexOf(c);ae>=0&&this.players.splice(ae,1);const me=this._engine.playersByElement.get(e);if(me){let Pe=me.indexOf(c);Pe>=0&&me.splice(Pe,1)}}),this.players.push(c),F.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,VT,!0);r.forEach(i=>{if(i[ka])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(a.forEach((_,b)=>{if(c.set(b,_.value),this._triggers.has(b)){const T=this.trigger(e,b,rw,i);T&&f.push(T)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&lf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const _=this._triggers.get(c).fallbackTransition,b=r.get(c)||AM,T=new SM(rw),S=new NM(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:b,toState:T,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[ka];(!a||a===zP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Pa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==r.triggerName){const _=cM(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,lM(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class w${constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new b$(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const b=r.indexOf(_);r.splice(b+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(KT(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!KT(t))return;const a=t[ka];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Pa(e,IM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),py(e,IM))}removeNode(e,t,r,i){if(KT(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[ka]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return KT(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,VT,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,gM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return lf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ka];if(t&&t.setForRemoval){if(e[ka]=zP,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(IM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Pa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?lf(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function wG(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new zT,i=[],a=new Map,c=[],f=new Map,_=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(rt=>{T.add(rt);const dt=this.driver.query(rt,".ng-animate-queued",!0);for(let Ct=0;Ct<dt.length;Ct++)T.add(dt[Ct])});const S=this.bodyNode,F=Array.from(this.statesByElement.keys()),j=KP(F,this.collectedEnterElements),J=new Map;let ae=0;j.forEach((rt,dt)=>{const Ct=pM+ae++;J.set(dt,Ct),rt.forEach(Wt=>Pa(Wt,Ct))});const me=[],Pe=new Set,Ue=new Set;for(let rt=0;rt<this.collectedLeaveElements.length;rt++){const dt=this.collectedLeaveElements[rt],Ct=dt[ka];Ct&&Ct.setForRemoval&&(me.push(dt),Pe.add(dt),Ct.hasAnimation?this.driver.query(dt,".ng-star-inserted",!0).forEach(Wt=>Pe.add(Wt)):Ue.add(dt))}const Je=new Map,$e=KP(F,Array.from(Pe));$e.forEach((rt,dt)=>{const Ct=FT+ae++;Je.set(dt,Ct),rt.forEach(Wt=>Pa(Wt,Ct))}),e.push(()=>{j.forEach((rt,dt)=>{const Ct=J.get(dt);rt.forEach(Wt=>py(Wt,Ct))}),$e.forEach((rt,dt)=>{const Ct=Je.get(dt);rt.forEach(Wt=>py(Wt,Ct))}),me.forEach(rt=>{this.processLeaveNode(rt)})});const We=[],et=[];for(let rt=this._namespaceList.length-1;rt>=0;rt--)this._namespaceList[rt].drainQueuedTransitions(t).forEach(Ct=>{const Wt=Ct.player,Sr=Ct.element;if(We.push(Wt),this.collectedEnterElements.length){const Br=Sr[ka];if(Br&&Br.setForMove){if(Br.previousTriggersValues&&Br.previousTriggersValues.has(Ct.triggerName)){const Us=Br.previousTriggersValues.get(Ct.triggerName),gs=this.statesByElement.get(Ct.element);if(gs&&gs.has(Ct.triggerName)){const gy=gs.get(Ct.triggerName);gy.value=Us,gs.set(Ct.triggerName,gy)}}return void Wt.destroy()}}const _o=!S||!this.driver.containsElement(S,Sr),fi=Je.get(Sr),Qo=J.get(Sr),Tn=this._buildInstruction(Ct,r,Qo,fi,_o);if(Tn.errors&&Tn.errors.length)return void et.push(Tn);if(_o)return Wt.onStart(()=>Mg(Sr,Tn.fromStyles)),Wt.onDestroy(()=>$u(Sr,Tn.toStyles)),void i.push(Wt);if(Ct.isFallbackTransition)return Wt.onStart(()=>Mg(Sr,Tn.fromStyles)),Wt.onDestroy(()=>$u(Sr,Tn.toStyles)),void i.push(Wt);const Nl=[];Tn.timelines.forEach(Br=>{Br.stretchStartingKeyframe=!0,this.disabledNodes.has(Br.element)||Nl.push(Br)}),Tn.timelines=Nl,r.append(Sr,Tn.timelines),c.push({instruction:Tn,player:Wt,element:Sr}),Tn.queriedElements.forEach(Br=>Ko(f,Br,[]).push(Wt)),Tn.preStyleProps.forEach((Br,Us)=>{if(Br.size){let gs=_.get(Us);gs||_.set(Us,gs=new Set),Br.forEach((gy,Rg)=>gs.add(Rg))}}),Tn.postStyleProps.forEach((Br,Us)=>{let gs=b.get(Us);gs||b.set(Us,gs=new Set),Br.forEach((gy,Rg)=>gs.add(Rg))})});if(et.length){const rt=[];et.forEach(dt=>{rt.push(function DG(n,e){return new l.vHH(3505,!1)}())}),We.forEach(dt=>dt.destroy()),this.reportError(rt)}const gt=new Map,Ut=new Map;c.forEach(rt=>{const dt=rt.element;r.has(dt)&&(Ut.set(dt,dt),this._beforeAnimationBuild(rt.player.namespaceId,rt.instruction,gt))}),i.forEach(rt=>{const dt=rt.element;this._getPreviousPlayers(dt,!1,rt.namespaceId,rt.triggerName,null).forEach(Wt=>{Ko(gt,dt,[]).push(Wt),Wt.destroy()})});const Mn=me.filter(rt=>QP(rt,_,b)),On=new Map;WP(On,this.driver,Ue,b,vd).forEach(rt=>{QP(rt,_,b)&&Mn.push(rt)});const Ki=new Map;j.forEach((rt,dt)=>{WP(Ki,this.driver,new Set(rt),_,"!")}),Mn.forEach(rt=>{const dt=On.get(rt),Ct=Ki.get(rt);On.set(rt,new Map([...Array.from(dt?.entries()??[]),...Array.from(Ct?.entries()??[])]))});const Ir=[],qu=[],zu={};c.forEach(rt=>{const{element:dt,player:Ct,instruction:Wt}=rt;if(r.has(dt)){if(T.has(dt))return Ct.onDestroy(()=>$u(dt,Wt.toStyles)),Ct.disabled=!0,Ct.overrideTotalTime(Wt.totalTime),void i.push(Ct);let Sr=zu;if(Ut.size>1){let fi=dt;const Qo=[];for(;fi=fi.parentNode;){const Tn=Ut.get(fi);if(Tn){Sr=Tn;break}Qo.push(fi)}Qo.forEach(Tn=>Ut.set(Tn,Sr))}const _o=this._buildAnimation(Ct.namespaceId,Wt,gt,a,Ki,On);if(Ct.setRealPlayer(_o),Sr===zu)Ir.push(Ct);else{const fi=this.playersByElement.get(Sr);fi&&fi.length&&(Ct.parentPlayer=lf(fi)),i.push(Ct)}}else Mg(dt,Wt.fromStyles),Ct.onDestroy(()=>$u(dt,Wt.toStyles)),qu.push(Ct),T.has(dt)&&i.push(Ct)}),qu.forEach(rt=>{const dt=a.get(rt.element);if(dt&&dt.length){const Ct=lf(dt);rt.setRealPlayer(Ct)}}),i.forEach(rt=>{rt.parentPlayer?rt.syncPlayerEvents(rt.parentPlayer):rt.destroy()});for(let rt=0;rt<me.length;rt++){const dt=me[rt],Ct=dt[ka];if(py(dt,FT),Ct&&Ct.hasAnimation)continue;let Wt=[];if(f.size){let _o=f.get(dt);_o&&_o.length&&Wt.push(..._o);let fi=this.driver.query(dt,gM,!0);for(let Qo=0;Qo<fi.length;Qo++){let Tn=f.get(fi[Qo]);Tn&&Tn.length&&Wt.push(...Tn)}}const Sr=Wt.filter(_o=>!_o.destroyed);Sr.length?C$(this,dt,Sr):this.processLeaveNode(dt)}return me.length=0,Ir.forEach(rt=>{this.players.push(rt),rt.onDone(()=>{rt.destroy();const dt=this.players.indexOf(rt);this.players.splice(dt,1)}),rt.play()}),Ir}elementContainsData(e,t){let r=!1;const i=t[ka];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==rw;f.forEach(b=>{b.queued||!_&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,T=b!==a,S=Ko(r,b,[]);this._getPreviousPlayers(b,T,c,f,t.toState).forEach(j=>{const J=j.getRealPlayer();J.beforeDestroy&&J.beforeDestroy(),j.destroy(),S.push(j)})}Mg(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const f=t.triggerName,_=t.element,b=[],T=new Set,S=new Set,F=t.timelines.map(J=>{const ae=J.element;T.add(ae);const me=ae[ka];if(me&&me.removedBeforeQueried)return new jb(J.duration,J.delay);const Pe=ae!==_,Ue=function I$(n){const e=[];return YP(n,e),e}((r.get(ae)||y$).map(gt=>gt.getRealPlayer())).filter(gt=>!!gt.element&&gt.element===ae),Je=a.get(ae),$e=c.get(ae),We=DP(0,this._normalizer,0,J.keyframes,Je,$e),et=this._buildPlayer(J,We,Ue);if(J.subTimeline&&i&&S.add(ae),Pe){const gt=new NM(e,f,ae);gt.setRealPlayer(et),b.push(gt)}return et});b.forEach(J=>{Ko(this.playersByQueriedElement,J.element,[]).push(J),J.onDone(()=>function D$(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,J.element,J))}),T.forEach(J=>Pa(J,OP));const j=lf(F);return j.onDestroy(()=>{T.forEach(J=>py(J,OP)),$u(_,t.toStyles)}),S.forEach(J=>{Ko(i,J,[]).push(j)}),j}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new jb(e.duration,e.delay)}}class NM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new jb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>lM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ko(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function KT(n){return n&&1===n.nodeType}function ZP(n,e){const t=n.style.display;return n.style.display=e??"none",t}function WP(n,e,t,r,i){const a=[];t.forEach(_=>a.push(ZP(_)));const c=[];r.forEach((_,b)=>{const T=new Map;_.forEach(S=>{const F=e.computeStyle(b,S,i);T.set(S,F),(!F||0==F.length)&&(b[ka]=v$,c.push(b))}),n.set(b,T)});let f=0;return t.forEach(_=>ZP(_,a[f++])),c}function KP(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(f){if(!f)return 1;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:i.has(b)?1:c(b),a.set(f,_),_}return e.forEach(f=>{const _=c(f);1!==_&&t.get(_).push(f)}),t}function Pa(n,e){n.classList?.add(e)}function py(n,e){n.classList?.remove(e)}function C$(n,e,t){lf(t).onDone(()=>n.processLeaveNode(e))}function YP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof ek?YP(r.players,e):e.push(r)}}function QP(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class YT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new w$(e,t,r),this._timelineEngine=new f$(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const _=[],T=vM(this._driver,a,_,[]);if(_.length)throw function dG(n,e){return new l.vHH(3404,!1)}();f=function u$(n,e,t){return new c$(n,e,t)}(i,T,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=EP(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,f]=EP(r);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let N$=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&$u(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($u(this._element,this._initialStyles),this._endStyles&&($u(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Mg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mg(this._element,this._endStyles),this._endStyles=null),$u(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function MM(n){let e=null;return n.forEach((t,r)=>{(function M$(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class JP{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:LP(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class O${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return SP(e,t)}getParentElement(e){return hM(e)}query(e,t,r){return AP(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const b=new Map,T=c.filter(j=>j instanceof JP);(function PG(n,e){return 0===n||0===e})(r,i)&&T.forEach(j=>{j.currentSnapshot.forEach((J,ae)=>b.set(ae,J))});let S=function OG(n){return n.length?n[0]instanceof Map?n:n.map(e=>xP(e)):[]}(t).map(j=>uf(j));S=function FG(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,c)=>{r.has(c)||i.push(c),r.set(c,a)}),i.length)for(let a=1;a<e.length;a++){let c=e[a];i.forEach(f=>c.set(f,LP(n,f)))}}return e}(e,S,b);const F=function A$(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=MM(e[0]),e.length>1&&(r=MM(e[e.length-1]))):e instanceof Map&&(t=MM(e)),t||r?new N$(n,t,r):null}(e,S);return new JP(e,S,_,F)}}let x$=(()=>{class n extends KR{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?QR(t):t;return XP(this._renderer,null,r,"register",[i]),new R$(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(z))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class R$ extends class QV{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new k$(this._id,e,t||{},this._renderer)}}class k${constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return XP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function XP(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const eF="@.disabled";let P$=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const f=c?.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(a);return T||(T=new tF("",a,this.engine),this._rendererCache.set(a,T)),T}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(c,f,t,T.name,T)};return r.data.animation.forEach(_),new F$(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(YT),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class tF{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==eF?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class F$ extends tF{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==eF?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function L$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function V$(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let B$=(()=>{class n extends YT{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(z),l.LFG(fM),l.LFG(TM),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const nF=[{provide:KR,useClass:x$},{provide:TM,useFactory:function U$(){return new s$}},{provide:YT,useClass:B$},{provide:l.FYo,useFactory:function j$(n,e,t){return new P$(n,e,t)},deps:[So,YT,l.R0b]}],OM=[{provide:fM,useFactory:()=>new O$},{provide:l.QbO,useValue:"BrowserAnimations"},...nF],rF=[{provide:fM,useClass:NP},{provide:l.QbO,useValue:"NoopAnimations"},...nF];let H$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?rF:OM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:OM,imports:[ru]}),n})();const G$={apiKey:"AIzaSyDkCeaHHfICNrBgkC-eBAAq21yux1yxt7g",authDomain:"automotivos-mega.firebaseapp.com",projectId:"automotivos-mega",storageBucket:"automotivos-mega.appspot.com",messagingSenderId:"29543287602",appId:"1:29543287602:web:0122c630d1571ecf6c652b",measurementId:"G-6HX72QBBR9"};let $$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[GH]}),n.\u0275inj=l.cJS({imports:[ru,UB,BH,U1,Xn,IB,Ti.hO.initializeApp(G$),Ah,H$,bB.forRoot()]}),n})();(0,l.G48)(),nu().bootstrapModule($$).catch(n=>console.error(n))},4901:je=>{"use strict";var q={single_source_shortest_paths:function(O,l,L){var A={},P={};P[l]=0;var H,z,W,oe,G,K,V=q.PriorityQueue.make();for(V.push(l,0);!V.empty();)for(W in oe=(H=V.pop()).cost,G=O[z=H.value]||{})G.hasOwnProperty(W)&&(K=oe+G[W],(typeof P[W]>"u"||P[W]>K)&&(P[W]=K,V.push(W,K),A[W]=z));if(typeof L<"u"&&typeof P[L]>"u"){var _e=["Could not find a path from ",l," to ",L,"."].join("");throw new Error(_e)}return A},extract_shortest_path_from_predecessor_list:function(O,l){for(var L=[],A=l;A;)L.push(A),A=O[A];return L.reverse(),L},find_path:function(O,l,L){var A=q.single_source_shortest_paths(O,l,L);return q.extract_shortest_path_from_predecessor_list(A,L)},PriorityQueue:{make:function(O){var A,l=q.PriorityQueue,L={};for(A in O=O||{},l)l.hasOwnProperty(A)&&(L[A]=l[A]);return L.queue=[],L.sorter=O.sorter||l.default_sorter,L},default_sorter:function(O,l){return O.cost-l.cost},push:function(O,l){this.queue.push({value:O,cost:l}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};je.exports=q},8419:je=>{"use strict";je.exports=function(O){for(var l=[],L=O.length,A=0;A<L;A++){var P=O.charCodeAt(A);if(P>=55296&&P<=56319&&L>A+1){var V=O.charCodeAt(A+1);V>=56320&&V<=57343&&(P=1024*(P-55296)+V-56320+65536,A+=1)}P<128?l.push(P):P<2048?(l.push(P>>6|192),l.push(63&P|128)):P<55296||P>=57344&&P<65536?(l.push(P>>12|224),l.push(P>>6&63|128),l.push(63&P|128)):P>=65536&&P<=1114111?(l.push(P>>18|240),l.push(P>>12&63|128),l.push(P>>6&63|128),l.push(63&P|128)):l.push(239,191,189)}return new Uint8Array(l).buffer}},5867:(je,q,O)=>{"use strict";O.d(q,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=O(9681);(0,l.registerVersion)("firebase","9.10.0","app")},127:(je,q,O)=>{"use strict";O.d(q,{Z:()=>l.Z});var l=O(3942);l.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(je,q,O)=>{"use strict";O.r(q);var l=O(5861),L=O(3942),A=O(2090),P=O(9681),V=O(655),H=O(1877),z=O(4859);const _e=function De(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ke=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},de=new A.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xe=new H.Yd("@firebase/auth");function Fe(y,...p){xe.logLevel<=H.in.ERROR&&xe.error(`Auth (${P.SDK_VERSION}): ${y}`,...p)}function Ae(y,...p){throw Ie(y,...p)}function Te(y,...p){return Ie(y,...p)}function fe(y,p,m){const w=Object.assign(Object.assign({},Ke()),{[p]:m});return new A.LL("auth","Firebase",w).create(p,{appName:y.name})}function Se(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ae(y,"argument-error"),fe(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ie(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return de.create(y,...p)}function U(y,p,...m){if(!y)throw Ie(p,...m)}function pe(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Fe(p),new Error(p)}function Y(y,p){y||pe(p)}const X=new Map;function ue(y){Y(y instanceof Function,"Expected a class definition");let p=X.get(y);return p?(Y(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,X.set(y,p),p)}function Be(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function pt(){return"http:"===Zt()||"https:"===Zt()}function Zt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Jt{constructor(p,m){this.shortDelay=p,this.longDelay=m,Y(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,A.uI)()||(0,A.b$)()}get(){return function jt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,A.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cn(y,p){Y(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Kt{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rr=new Jt(3e4,6e4);function Rt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Bt(y,p,m,w){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,l.Z)(function*(y,p,m,w,M={}){return Gn(y,M,(0,l.Z)(function*(){let k={},se={};w&&("GET"===p?se=w:k={body:JSON.stringify(w)});const Ee=(0,A.xO)(Object.assign({key:y.config.apiKey},se)).slice(1),ze=yield y._getAdditionalHeaders();return ze["Content-Type"]="application/json",y.languageCode&&(ze["X-Firebase-Locale"]=y.languageCode),Kt.fetch()(Yi(y,y.config.apiHost,m,Ee),Object.assign({method:p,headers:ze,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Gn(y,p,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Xt),p);try{const M=new Jr(y),k=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const se=yield k.json();if("needConfirmation"in se)throw ki(y,"account-exists-with-different-credential",se);if(k.ok&&!("errorMessage"in se))return se;{const Ee=k.ok?se.errorMessage:se.error.message,[ze,ot]=Ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw ki(y,"credential-already-in-use",se);if("EMAIL_EXISTS"===ze)throw ki(y,"email-already-in-use",se);if("USER_DISABLED"===ze)throw ki(y,"user-disabled",se);const Et=w[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw fe(y,Et,ot);Ae(y,Et)}}catch(M){if(M instanceof A.ZR)throw M;Ae(y,"network-request-failed")}})).apply(this,arguments)}function Qr(y,p,m,w){return js.apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(y,p,m,w,M={}){const k=yield Bt(y,p,m,w,M);return"mfaPendingCredential"in k&&Ae(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Yi(y,p,m,w){const M=`${p}${m}?${w}`;return y.config.emulator?Cn(y.config,M):`${y.config.apiScheme}://${M}`}class Jr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Te(this.auth,"network-request-failed")),rr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ki(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const M=Te(y,p,w);return M.customData._tokenResponse=m,M}function it(){return(it=(0,l.Z)(function*(y,p){return Bt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Xr(y,p){return ms.apply(this,arguments)}function ms(){return(ms=(0,l.Z)(function*(y,p){return Bt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function $n(y,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,l.Z)(function*(y,p){return Bt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function pi(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function vn(){return(vn=(0,l.Z)(function*(y,p=!1){const m=(0,A.m9)(y),w=yield m.getIdToken(p),M=ft(w);U(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const k="object"==typeof M.firebase?M.firebase:void 0,se=k?.sign_in_provider;return{claims:M,token:w,authTime:pi(vt(M.auth_time)),issuedAtTime:pi(vt(M.iat)),expirationTime:pi(vt(M.exp)),signInProvider:se||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function vt(y){return 1e3*Number(y)}function ft(y){var p;const[m,w,M]=y.split(".");if(void 0===m||void 0===w||void 0===M)return Fe("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,A.tV)(w);return k?JSON.parse(k):(Fe("Failed to decode base64 JWT payload"),null)}catch(k){return Fe("Caught error parsing JWT payload as JSON",null===(p=k)||void 0===p?void 0:p.toString()),null}}function _r(y,p){return yr.apply(this,arguments)}function yr(){return(yr=(0,l.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof A.ZR&&Ur(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Ur({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class It{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class _s{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=pi(this.lastLoginAt),this.creationTime=pi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rn(y){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),M=yield _r(y,$n(m,{idToken:w}));U(M?.users.length,m,"internal-error");const k=M.users[0];y._notifyReloadListener(k);const se=null!==(p=k.providerUserInfo)&&void 0!==p&&p.length?Q(k.providerUserInfo):[],Ee=ee(y.providerData,se),Et=!!y.isAnonymous&&!(y.email&&k.passwordHash||Ee?.length),_t={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:Ee,metadata:new _s(k.createdAt,k.lastLoginAt),isAnonymous:Et};Object.assign(y,_t)})).apply(this,arguments)}function ie(){return(ie=(0,l.Z)(function*(y){const p=(0,A.m9)(y);yield rn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ee(y,p){return[...y.filter(w=>!p.some(M=>M.providerId===w.providerId)),...p]}function Q(y){return y.map(p=>{var{providerId:m}=p,w=(0,V._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function re(){return(re=(0,l.Z)(function*(y,p){const m=yield Gn(y,{},(0,l.Z)(function*(){const w=(0,A.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:k}=y.config,se=Yi(y,M,"/v1/token",`key=${k}`),Ee=yield y._getAdditionalHeaders();return Ee["Content-Type"]="application/x-www-form-urlencoded",Kt.fetch()(se,{method:"POST",headers:Ee,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Oe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){U(p.idToken,"internal-error"),U(typeof p.idToken<"u","internal-error"),U(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function dn(y){const p=ft(y);return U(p,"internal-error"),U(typeof p.exp<"u","internal-error"),U(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,l.Z)(function*(){return U(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:k,expiresIn:se}=yield function te(y,p){return re.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(M,k,Number(se))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:M,expirationTime:k}=m,se=new Oe;return w&&(U("string"==typeof w,"internal-error",{appName:p}),se.refreshToken=w),M&&(U("string"==typeof M,"internal-error",{appName:p}),se.accessToken=M),k&&(U("number"==typeof k,"internal-error",{appName:p}),se.expirationTime=k),se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Oe,this.toJSON())}_performRefresh(){return pe("not implemented")}}function Ze(y,p){U("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class ht{constructor(p){var{uid:m,auth:w,stsTokenManager:M}=p,k=(0,V._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new It(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new _s(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const w=yield _r(m,m.stsTokenManager.getToken(m.auth,p));return U(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function ir(y){return vn.apply(this,arguments)}(this,p)}reload(){return function nn(y){return ie.apply(this,arguments)}(this)}_assign(p){this!==p&&(U(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new ht(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,l.Z)(function*(){let M=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),M=!0),m&&(yield rn(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield _r(p,function Jo(y,p){return it.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,M,k,se,Ee,ze,ot,Et;const _t=null!==(w=m.displayName)&&void 0!==w?w:void 0,dr=null!==(M=m.email)&&void 0!==M?M:void 0,us=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,fu=null!==(se=m.photoURL)&&void 0!==se?se:void 0,oh=null!==(Ee=m.tenantId)&&void 0!==Ee?Ee:void 0,wi=null!==(ze=m._redirectEventId)&&void 0!==ze?ze:void 0,Oc=null!==(ot=m.createdAt)&&void 0!==ot?ot:void 0,xc=null!==(Et=m.lastLoginAt)&&void 0!==Et?Et:void 0,{uid:dm,emailVerified:ah,isAnonymous:hm,providerData:Rc,stsTokenManager:xy}=m;U(dm&&xy,p,"internal-error");const cw=Oe.fromJSON(this.name,xy);U("string"==typeof dm,p,"internal-error"),Ze(_t,p.name),Ze(dr,p.name),U("boolean"==typeof ah,p,"internal-error"),U("boolean"==typeof hm,p,"internal-error"),Ze(us,p.name),Ze(fu,p.name),Ze(oh,p.name),Ze(wi,p.name),Ze(Oc,p.name),Ze(xc,p.name);const fl=new ht({uid:dm,auth:p,email:dr,emailVerified:ah,displayName:_t,isAnonymous:hm,photoURL:fu,phoneNumber:us,tenantId:oh,stsTokenManager:cw,createdAt:Oc,lastLoginAt:xc});return Rc&&Array.isArray(Rc)&&(fl.providerData=Rc.map(kc=>Object.assign({},kc))),wi&&(fl._redirectEventId=wi),fl}static _fromIdTokenResponse(p,m,w=!1){return(0,l.Z)(function*(){const M=new Oe;M.updateFromServerResponse(m);const k=new ht({uid:m.localId,auth:p,stsTokenManager:M,isAnonymous:w});return yield rn(k),k})()}}const sn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,w){var M=this;return(0,l.Z)(function*(){M.storage[m]=w})()}_get(m){var w=this;return(0,l.Z)(function*(){const M=w.storage[m];return void 0===M?null:M})()}_remove(m){var w=this;return(0,l.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function sr(y,p,m){return`firebase:${y}:${p}:${m}`}class Ht{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:M,name:k}=this.auth;this.fullUserKey=sr(this.userKey,M.apiKey,k),this.fullPersistenceKey=sr("persistence",M.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?ht._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,l.Z)(function*(){if(!m.length)return new Ht(ue(sn),p,w);const M=(yield Promise.all(m.map(function(){var ot=(0,l.Z)(function*(Et){if(yield Et._isAvailable())return Et});return function(Et){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let k=M[0]||ue(sn);const se=sr(w,p.config.apiKey,p.name);let Ee=null;for(const ot of m)try{const Et=yield ot._get(se);if(Et){const _t=ht._fromJSON(p,Et);ot!==k&&(Ee=_t),k=ot;break}}catch{}const ze=M.filter(ot=>ot._shouldAllowMigration);return k._shouldAllowMigration&&ze.length?(k=ze[0],Ee&&(yield k._set(se,Ee.toJSON())),yield Promise.all(m.map(function(){var ot=(0,l.Z)(function*(Et){if(Et!==k)try{yield Et._remove(se)}catch{}});return function(Et){return ot.apply(this,arguments)}}())),new Ht(k,p,w)):new Ht(k,p,w)})()}}function Ft(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(jr(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(In(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Xe(p))return"Blackberry";if(wt(p))return"Webos";if(Kn(p))return"Safari";if((p.includes("chrome/")||Qi(p))&&!p.includes("edge/"))return"Chrome";if(Yn(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function In(y=(0,A.z$)()){return/firefox\//i.test(y)}function Kn(y=(0,A.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Qi(y=(0,A.z$)()){return/crios\//i.test(y)}function jr(y=(0,A.z$)()){return/iemobile/i.test(y)}function Yn(y=(0,A.z$)()){return/android/i.test(y)}function Xe(y=(0,A.z$)()){return/blackberry/i.test(y)}function wt(y=(0,A.z$)()){return/webos/i.test(y)}function ln(y=(0,A.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function yo(y=(0,A.z$)()){return ln(y)||Yn(y)||wt(y)||Xe(y)||/windows phone/i.test(y)||jr(y)}function Hs(y,p=[]){let m;switch(y){case"Browser":m=Ft((0,A.z$)());break;case"Worker":m=`${Ft((0,A.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${P.SDK_VERSION}/${w}`}class Xo{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=k=>new Promise((se,Ee)=>{try{se(p(k))}catch(ze){Ee(ze)}});w.onAbort=m,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){var w;if(m.auth.currentUser===p)return;const M=[];try{for(const k of m.queue)yield k(p),k.onAbort&&M.push(k.onAbort)}catch(k){M.reverse();for(const se of M)try{se()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=k)||void 0===w?void 0:w.message})}})()}}class Lt{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vo(this),this.idTokenSubscription=new vo(this),this.beforeStateQueue=new Xo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=de,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=ue(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,k;if(!w._deleted&&(w.persistenceManager=yield Ht.create(w,p),!w._deleted)){if(null!==(M=w._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(k=w.currentUser)||void 0===k?void 0:k.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var w;const M=yield m.assertedPersistence.getCurrentUser();let k=M,se=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Ee=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,ze=k?._redirectEventId,ot=yield m.tryRedirectSignIn(p);(!Ee||Ee===ze)&&ot?.user&&(k=ot.user,se=!0)}if(!k)return m.directlySetCurrentUser(null);if(!k._redirectEventId){if(se)try{yield m.beforeStateQueue.runMiddleware(k)}catch(Ee){k=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Ee))}return k?m.reloadAndSetCurrentUserOrClear(k):m.directlySetCurrentUser(null)}return U(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===k._redirectEventId?m.directlySetCurrentUser(k):m.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){var w;try{yield rn(p)}catch(M){if("auth/network-request-failed"!==(null===(w=M)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Qe(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const w=p?(0,A.m9)(p):null;return w&&U(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&U(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(ue(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new A.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,l.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(m);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&ue(p)||m._popupRedirectResolver;U(w,m,"argument-error"),m.redirectPersistenceManager=yield Ht.create(m,[ue(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var w,M;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,M){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),se=this._isInitialized?Promise.resolve():this._initializationPromise;return U(se,this,"internal-error"),se.then(()=>k(this.currentUser)),"function"==typeof m?p.addObserver(m,w,M):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Hs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return M&&(w["X-Firebase-Client"]=M),w})()}}function Sn(y){return(0,A.m9)(y)}class vo{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,A.ne)(m=>this.observer=m)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ji(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Gs(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Ar{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return pe("not implemented")}_getIdTokenResponse(p){return pe("not implemented")}_linkToIdToken(p,m){return pe("not implemented")}_getReauthenticationResolver(p){return pe("not implemented")}}function Jn(y,p){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,l.Z)(function*(y,p){return Bt(y,"POST","/v1/accounts:resetPassword",Rt(y,p))})).apply(this,arguments)}function hn(y,p){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,l.Z)(function*(y,p){return Bt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ku(y,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(y,p){return Bt(y,"POST","/v1/accounts:update",Rt(y,p))})).apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(y,p){return Qr(y,"POST","/v1/accounts:signInWithPassword",Rt(y,p))})).apply(this,arguments)}function qs(y,p){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,l.Z)(function*(y,p){return Bt(y,"POST","/v1/accounts:sendOobCode",Rt(y,p))})).apply(this,arguments)}function pn(y,p){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,l.Z)(function*(y,p){return qs(y,p)})).apply(this,arguments)}function vr(y,p){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(y,p){return qs(y,p)})).apply(this,arguments)}function Ol(y,p){return La.apply(this,arguments)}function La(){return(La=(0,l.Z)(function*(y,p){return qs(y,p)})).apply(this,arguments)}function Qu(y,p){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,l.Z)(function*(y,p){return qs(y,p)})).apply(this,arguments)}function Ed(){return(Ed=(0,l.Z)(function*(y,p){return Qr(y,"POST","/v1/accounts:signInWithEmailLink",Rt(y,p))})).apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(y,p){return Qr(y,"POST","/v1/accounts:signInWithEmailLink",Rt(y,p))})).apply(this,arguments)}class Ju extends Ar{constructor(p,m,w,M=null){super("password",w),this._email=p,this._password=m,this._tenantId=M}static _fromEmailAndPassword(p,m){return new Ju(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Ju(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function Fa(y,p){return ei.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function cf(y,p){return Ed.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ae(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return hn(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function df(y,p){return wo.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Ae(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ar(y,p){return Td.apply(this,arguments)}function Td(){return(Td=(0,l.Z)(function*(y,p){return Qr(y,"POST","/v1/accounts:signInWithIdp",Rt(y,p))})).apply(this,arguments)}class ys extends Ar{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new ys(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M}=m,k=(0,V._T)(m,["providerId","signInMethod"]);if(!w||!M)return null;const se=new ys(w,M);return se.idToken=k.idToken||void 0,se.accessToken=k.accessToken||void 0,se.secret=k.secret,se.nonce=k.nonce,se.pendingToken=k.pendingToken||null,se}_getIdTokenResponse(p){return ar(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,ar(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ar(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,A.xO)(m)}return p}}function Fg(y,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(y,p){return Bt(y,"POST","/v1/accounts:sendVerificationCode",Rt(y,p))})).apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(y,p){return Qr(y,"POST","/v1/accounts:signInWithPhoneNumber",Rt(y,p))})).apply(this,arguments)}function Cd(){return(Cd=(0,l.Z)(function*(y,p){const m=yield Qr(y,"POST","/v1/accounts:signInWithPhoneNumber",Rt(y,p));if(m.temporaryProof)throw ki(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Vg={USER_NOT_FOUND:"user-not-found"};function Id(){return(Id=(0,l.Z)(function*(y,p){return Qr(y,"POST","/v1/accounts:signInWithPhoneNumber",Rt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Vg)})).apply(this,arguments)}class Zs extends Ar{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Zs({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Zs({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Xu(y,p){return zs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Lg(y,p){return Cd.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Bg(y,p){return Id.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:M}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:k}=p;return w||m||M||k?new Zs({verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:k}):null}}class xl{constructor(p){var m,w,M,k,se,Ee;const ze=(0,A.zd)((0,A.pd)(p)),ot=null!==(m=ze.apiKey)&&void 0!==m?m:null,Et=null!==(w=ze.oobCode)&&void 0!==w?w:null,_t=function Sd(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=ze.mode)&&void 0!==M?M:null);U(ot&&Et&&_t,"argument-error"),this.apiKey=ot,this.operation=_t,this.code=Et,this.continueUrl=null!==(k=ze.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(se=ze.languageCode)&&void 0!==se?se:null,this.tenantId=null!==(Ee=ze.tenantId)&&void 0!==Ee?Ee:null}static parseLink(p){const m=function Ad(y){const p=(0,A.zd)((0,A.pd)(y)).link,m=p?(0,A.zd)((0,A.pd)(p)).deep_link_id:null,w=(0,A.zd)((0,A.pd)(y)).deep_link_id;return(w?(0,A.zd)((0,A.pd)(w)).link:null)||w||m||p||y}(p);try{return new xl(m)}catch{return null}}}let Xi=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Ju._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const M=xl.parseLink(w);return U(M,"argument-error"),Ju._fromEmailAndCode(m,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class vs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class bs extends vs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ws extends bs{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return U("providerId"in m&&"signInMethod"in m,"argument-error"),ys._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return U(p.idToken||p.accessToken,"argument-error"),ys._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ws.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ws.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:k,nonce:se,providerId:Ee}=p;if(!w&&!M&&!m&&!k||!Ee)return null;try{return new ws(Ee)._credential({idToken:m,accessToken:w,nonce:se,pendingToken:k})}catch{return null}}}let Ba=(()=>{class y extends bs{constructor(){super("facebook.com")}static credential(m){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Rl=(()=>{class y extends bs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:M}=m;if(!w&&!M)return null;try{return y.credential(w,M)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ec=(()=>{class y extends bs{constructor(){super("github.com")}static credential(m){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Xn extends Ar{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return ar(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,ar(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ar(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M,pendingToken:k}=m;return w&&M&&k&&w===M?new Xn(w,k):null}static _create(p,m){return new Xn(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mi extends vs{constructor(p){U(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return mi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return mi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Xn.fromJSON(p);return U(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return Xn._create(w,m)}catch{return null}}}let ti=(()=>{class y extends bs{constructor(){super("twitter.com")}static credential(m,w){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=m;if(!w||!M)return null;try{return y.credential(w,M)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ea(y,p){return tc.apply(this,arguments)}function tc(){return(tc=(0,l.Z)(function*(y,p){return Qr(y,"POST","/v1/accounts:signUp",Rt(y,p))})).apply(this,arguments)}class Nr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,M=!1){return(0,l.Z)(function*(){const k=yield ht._fromIdTokenResponse(p,w,M),se=pf(w);return new Nr({user:k,providerId:se,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const M=pf(w);return new Nr({user:p,providerId:M,_tokenResponse:w,operationType:m})})()}}function pf(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function kn(){return(kn=(0,l.Z)(function*(y){var p;const m=Sn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Nr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield ea(m,{returnSecureToken:!0}),M=yield Nr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class kl extends A.ZR{constructor(p,m,w,M){var k;super(m.code,m.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,kl.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,M){return new kl(p,m,w,M)}}function mf(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?kl._fromErrorAndOperation(y,k,p,w):k})}function _i(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Pl(){return(Pl=(0,l.Z)(function*(y,p){const m=(0,A.m9)(y);yield Yt(!0,m,p);const{providerUserInfo:w}=yield Xr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),M=_i(w||[]);return m.providerData=m.providerData.filter(k=>M.has(k.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ta(y,p){return Es.apply(this,arguments)}function Es(){return(Es=(0,l.Z)(function*(y,p,m=!1){const w=yield _r(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Nr._forOperation(y,"link",w)})).apply(this,arguments)}function Yt(y,p,m){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,l.Z)(function*(y,p,m){yield rn(p);const M=!1===y?"provider-already-linked":"no-such-provider";U(_i(p.providerData).has(m)===y,p.auth,M)})).apply(this,arguments)}function Do(y,p){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,l.Z)(function*(y,p,m=!1){var w;const{auth:M}=y,k="reauthenticate";try{const se=yield _r(y,mf(M,k,p,y),m);U(se.idToken,M,"internal-error");const Ee=ft(se.idToken);U(Ee,M,"internal-error");const{sub:ze}=Ee;return U(y.uid===ze,M,"user-mismatch"),Nr._forOperation(y,k,se)}catch(se){throw"auth/user-not-found"===(null===(w=se)||void 0===w?void 0:w.code)&&Ae(M,"user-mismatch"),se}})).apply(this,arguments)}function Bi(y,p){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,l.Z)(function*(y,p,m=!1){const w="signIn",M=yield mf(y,w,p),k=yield Nr._fromIdTokenResponse(y,w,M);return m||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function xn(y,p){return St.apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(y,p){return Bi(Sn(y),p)})).apply(this,arguments)}function Bl(y,p){return _f.apply(this,arguments)}function _f(){return(_f=(0,l.Z)(function*(y,p){const m=(0,A.m9)(y);return yield Yt(!1,m,p.providerId),ta(m,p)})).apply(this,arguments)}function Ul(y,p){return jl.apply(this,arguments)}function jl(){return(jl=(0,l.Z)(function*(y,p){return Do((0,A.m9)(y),p)})).apply(this,arguments)}function nc(y,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(y,p){return Qr(y,"POST","/v1/accounts:signInWithCustomToken",Rt(y,p))})).apply(this,arguments)}function Ua(){return(Ua=(0,l.Z)(function*(y,p){const m=Sn(y),w=yield nc(m,{token:p,returnSecureToken:!0}),M=yield Nr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class Re{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Gt._fromServerResponse(p,m):Ae(p,"internal-error")}}class Gt extends Re{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Gt(m)}}function Hl(y,p,m){var w;U((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),U(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(U(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(U(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Pn(){return(Pn=(0,l.Z)(function*(y,p,m){const w=(0,A.m9)(y),M={requestType:"PASSWORD_RESET",email:p};m&&Hl(w,M,m),yield vr(w,M)})).apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(y,p,m){yield Jn((0,A.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(y,p){yield Ku((0,A.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ha(y,p){return ic.apply(this,arguments)}function ic(){return(ic=(0,l.Z)(function*(y,p){const m=(0,A.m9)(y),w=yield Jn(m,{oobCode:p}),M=w.requestType;switch(U(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(w.mfaInfo,m,"internal-error");default:U(w.email,m,"internal-error")}let k=null;return w.mfaInfo&&(k=Re._fromServerResponse(Sn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:M}})).apply(this,arguments)}function Nd(){return(Nd=(0,l.Z)(function*(y,p){const{data:m}=yield Ha((0,A.m9)(y),p);return m.email})).apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(y,p,m){const w=Sn(y),M=yield ea(w,{returnSecureToken:!0,email:p,password:m}),k=yield Nr._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(k.user),k})).apply(this,arguments)}function Eo(){return(Eo=(0,l.Z)(function*(y,p,m){const w=(0,A.m9)(y),M={requestType:"EMAIL_SIGNIN",email:p};U(m.handleCodeInApp,w,"argument-error"),m&&Hl(w,M,m),yield Ol(w,M)})).apply(this,arguments)}function $a(){return($a=(0,l.Z)(function*(y,p,m){const w=(0,A.m9)(y),M=Xi.credentialWithLink(p,m||Be());return U(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),xn(w,M)})).apply(this,arguments)}function jg(y,p){return ac.apply(this,arguments)}function ac(){return(ac=(0,l.Z)(function*(y,p){return Bt(y,"POST","/v1/accounts:createAuthUri",Rt(y,p))})).apply(this,arguments)}function qa(){return(qa=(0,l.Z)(function*(y,p){const w={identifier:p,continueUri:pt()?Be():"http://localhost"},{signinMethods:M}=yield jg((0,A.m9)(y),w);return M||[]})).apply(this,arguments)}function za(){return(za=(0,l.Z)(function*(y,p){const m=(0,A.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Hl(m.auth,M,p);const{email:k}=yield pn(m.auth,M);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function zl(){return(zl=(0,l.Z)(function*(y,p,m){const w=(0,A.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Hl(w.auth,k,m);const{email:se}=yield Qu(w.auth,k);se!==y.email&&(yield y.reload())})).apply(this,arguments)}function Zl(y,p){return cc.apply(this,arguments)}function cc(){return(cc=(0,l.Z)(function*(y,p){return Bt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function hc(){return(hc=(0,l.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,A.m9)(y),k={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},se=yield _r(w,Zl(w.auth,k));w.displayName=se.displayName||null,w.photoURL=se.photoUrl||null;const Ee=w.providerData.find(({providerId:ze})=>"password"===ze);Ee&&(Ee.displayName=w.displayName,Ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary(se)})).apply(this,arguments)}function Co(y,p,m){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,l.Z)(function*(y,p,m){const{auth:w}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(k.email=p),m&&(k.password=m);const se=yield _r(y,hn(w,k));yield y._updateTokensIfNecessary(se,!0)})).apply(this,arguments)}class ni{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class wn extends ni{constructor(p,m,w,M){super(p,m,w),this.username=M}}class Od extends ni{constructor(p,m){super(p,"facebook.com",m)}}class fc extends wn{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class yf extends ni{constructor(p,m){super(p,"google.com",m)}}class pc extends wn{constructor(p,m,w){super(p,"twitter.com",m,w)}}function Kl(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function lr(y){var p,m;if(!y)return null;const{providerId:w}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const se=null===(m=null===(p=ft(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(se)return new ni(k,"anonymous"!==se&&"custom"!==se?se:null)}if(!w)return null;switch(w){case"facebook.com":return new Od(k,M);case"github.com":return new fc(k,M);case"google.com":return new yf(k,M);case"twitter.com":return new pc(k,M,y.screenName||null);case"custom":case"anonymous":return new ni(k,null);default:return new ni(k,w,M)}}(m)}class Io{constructor(p,m,w){this.type=p,this.credential=m,this.auth=w}static _fromIdtoken(p,m){return new Io("enroll",p,m)}static _fromMfaPendingCredential(p){return new Io("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Io._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Io._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Yl{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=Sn(p),M=m.customData._serverResponse,k=(M.mfaInfo||[]).map(Ee=>Re._fromServerResponse(w,Ee));U(M.mfaPendingCredential,w,"internal-error");const se=Io._fromMfaPendingCredential(M.mfaPendingCredential);return new Yl(se,k,function(){var Ee=(0,l.Z)(function*(ze){const ot=yield ze._process(w,se);delete M.mfaInfo,delete M.mfaPendingCredential;const Et=Object.assign(Object.assign({},M),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(m.operationType){case"signIn":const _t=yield Nr._fromIdTokenResponse(w,m.operationType,Et);return yield w._updateCurrentUser(_t.user),_t;case"reauthenticate":return U(m.user,w,"internal-error"),Nr._forOperation(m.user,m.operationType,Et);default:Ae(w,"internal-error")}});return function(ze){return Ee.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}function Ql(y,p){return Bt(y,"POST","/v2/accounts/mfaEnrollment:start",Rt(y,p))}class vf{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Re._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new vf(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Io._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var w=this;return(0,l.Z)(function*(){const M=p,k=yield w.getSession(),se=yield _r(w.user,M._process(w.user.auth,k,m));return yield w.user._updateTokensIfNecessary(se),w.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){var w;const M="string"==typeof p?p:p.uid,k=yield m.user.getIdToken(),se=yield _r(m.user,function Pd(y,p){return Bt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Rt(y,p))}(m.user.auth,{idToken:k,mfaEnrollmentId:M}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Ee})=>Ee!==M),yield m.user._updateTokensIfNecessary(se);try{yield m.user.reload()}catch(Ee){if("auth/user-token-expired"!==(null===(w=Ee)||void 0===w?void 0:w.code))throw Ee}})()}}const So=new WeakMap,Ao="__sak";class Xl{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ao,"1"),this.storage.removeItem(Ao),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wa=(()=>{class y extends Xl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Za(){const y=(0,A.z$)();return Kn(y)||ln(y)}()&&function bn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=yo(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),k=this.localCache[w];M!==k&&m(w,k,M)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((Ee,ze,ot)=>{this.notifyListeners(Ee,ot)});const M=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ee=this.storage.getItem(M);if(m.newValue!==Ee)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!w)return}const k=()=>{const Ee=this.storage.getItem(M);!w&&this.localCache[M]===Ee||this.notifyListeners(M,Ee)},se=this.storage.getItem(M);!function or(){return(0,A.w1)()&&10===document.documentMode}()||se===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const k of Array.from(M))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var M=()=>super._set,k=this;return(0,l.Z)(function*(){yield M().call(k,m,w),k.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,M=this;return(0,l.Z)(function*(){const k=yield w().call(M,m);return M.localCache[m]=JSON.stringify(k),k})()}_remove(m){var w=()=>super._remove,M=this;return(0,l.Z)(function*(){yield w().call(M,m),delete M.localCache[m]})()}}return y.type="LOCAL",y})(),ts=(()=>{class y extends Xl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let Vd=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(k=>k.isListeningto(m));if(w)return w;const M=new y(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,l.Z)(function*(){const M=m,{eventId:k,eventType:se,data:Ee}=M.data,ze=w.handlersMap[se];if(!ze?.size)return;M.ports[0].postMessage({status:"ack",eventId:k,eventType:se});const ot=Array.from(ze).map(function(){var _t=(0,l.Z)(function*(dr){return dr(M.origin,Ee)});return function(dr){return _t.apply(this,arguments)}}()),Et=yield function Ya(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(ot);M.ports[0].postMessage({status:"done",eventId:k,eventType:se,response:Et})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Qa(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class mc{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var M=this;return(0,l.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let se,Ee;return new Promise((ze,ot)=>{const Et=Qa("",20);k.port1.start();const _t=setTimeout(()=>{ot(new Error("unsupported_event"))},w);Ee={messageChannel:k,onMessage(dr){const us=dr;if(us.data.eventId===Et)switch(us.data.status){case"ack":clearTimeout(_t),se=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(se),ze(us.data.response);break;default:clearTimeout(_t),clearTimeout(se),ot(new Error("invalid_response"))}}},M.handlers.add(Ee),k.port1.addEventListener("message",Ee.onMessage),M.target.postMessage({eventType:p,eventId:Et,data:m},[k.port2])}).finally(()=>{Ee&&M.removeMessageHandler(Ee)})})()}}function zn(){return window}function eu(){return typeof zn().WorkerGlobalScope<"u"&&"function"==typeof zn().importScripts}function Ja(){return(Ja=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ys="firebaseLocalStorageDb",Qs="firebaseLocalStorage",ru="fbase_key";class Mo{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Xa(y,p){return y.transaction([Qs],p?"readwrite":"readonly").objectStore(Qs)}function aa(){const y=indexedDB.open(Ys,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Qs,{keyPath:ru})}catch(M){m(M)}}),y.addEventListener("success",(0,l.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Qs)?p(w):(w.close(),yield function Ud(){const y=indexedDB.deleteDatabase(Ys);return new Mo(y).toPromise()}(),p(yield aa()))}))})}function Is(y,p,m){return _c.apply(this,arguments)}function _c(){return(_c=(0,l.Z)(function*(y,p,m){const w=Xa(y,!0).put({[ru]:p,value:m});return new Mo(w).toPromise()})).apply(this,arguments)}function el(){return(el=(0,l.Z)(function*(y,p){const m=Xa(y,!1).get(p),w=yield new Mo(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Oo(y,p){const m=Xa(y,!0).delete(p);return new Mo(m).toPromise()}const la=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield aa()),m.db})()}_withRetries(m){var w=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const k=yield w._openDb();return yield m(k)}catch(k){if(M++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return eu()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Vd._getInstance(function nu(){return eu()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(M,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(M,k){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(M,k){return["keyChanged"]});return function(M,k){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var w,M;if(m.activeServiceWorker=yield function No(){return Ja.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new mc(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(w=k[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=k[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function tu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield aa();return yield Is(m,Ao,"1"),yield Oo(m,Ao),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(k=>Is(k,m,w)),M.localCache[m]=w,M.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,l.Z)(function*(){const M=yield w._withRetries(k=>function iu(y,p){return el.apply(this,arguments)}(k,m));return w.localCache[m]=M,M})()}_remove(m){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(M=>Oo(M,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const w=yield m._withRetries(se=>{const Ee=Xa(se,!1).getAll();return new Mo(Ee).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const M=[],k=new Set;for(const{fbase_key:se,value:Ee}of w)k.add(se),JSON.stringify(m.localCache[se])!==JSON.stringify(Ee)&&(m.notifyListeners(se,Ee),M.push(se));for(const se of Object.keys(m.localCache))m.localCache[se]&&!k.has(se)&&(m.notifyListeners(se,null),M.push(se));return M})()}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const k of Array.from(M))k(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function ua(y,p){return Bt(y,"POST","/v2/accounts/mfaSignIn:start",Rt(y,p))}function Js(){return(Js=(0,l.Z)(function*(y){return(yield Bt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function da(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=M=>{const k=Te("internal-error");k.customData=M,m(k)},w.type="text/javascript",w.charset="UTF-8",function ca(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function au(y){return`__${y}${Math.floor(1e6*Math.random())}`}const tl=1e12;class _n{constructor(p){this.auth=p,this.counter=tl,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Hg(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||tl;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||tl))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var w;return null===(w=m._widgets.get(p||tl))||void 0===w||w.execute(),""})()}}class Hg{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;U(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function my(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Gg=au("rcb"),_y=new Jt(3e4,6e4);class bf{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=zn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return U(function iw(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(zn().grecaptcha):new Promise((w,M)=>{const k=zn().setTimeout(()=>{M(Te(p,"network-request-failed"))},_y.get());zn()[Gg]=()=>{zn().clearTimeout(k),delete zn()[Gg];const Ee=zn().grecaptcha;if(!Ee)return void M(Te(p,"internal-error"));const ze=Ee.render;Ee.render=(ot,Et)=>{const _t=ze(ot,Et);return this.counter++,_t},this.hostLanguage=m,w(Ee)},da(`https://www.google.com/recaptcha/api.js??${(0,A.xO)({onload:Gg,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),M(Te(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=zn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fa{load(p){return(0,l.Z)(function*(){return new _n(p)})()}clearedOneInstance(){}}const $g="recaptcha",qg={theme:"light",type:"image"};class wr{constructor(p,m=Object.assign({},qg),w){this.parameters=m,this.type=$g,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sn(w),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;U(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fa:new bf,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(k=>{const se=Ee=>{!Ee||(p.tokenChangeListeners.delete(se),k(Ee))};p.tokenChangeListeners.add(se),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=zn()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){U(pt()&&!eu(),p.auth,"internal-error"),yield function fn(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ri(y){return Js.apply(this,arguments)}(p.auth);U(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ii{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Zs._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function en(){return(en=(0,l.Z)(function*(y,p,m){const w=Sn(y),M=yield Xs(w,p,(0,A.m9)(m));return new ii(M,k=>xn(w,k))})).apply(this,arguments)}function ji(){return(ji=(0,l.Z)(function*(y,p,m){const w=(0,A.m9)(y);yield Yt(!1,w,"phone");const M=yield Xs(w.auth,p,(0,A.m9)(m));return new ii(M,k=>Bl(w,k))})).apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(y,p,m){const w=(0,A.m9)(y),M=yield Xs(w.auth,p,(0,A.m9)(m));return new ii(M,k=>Ul(w,k))})).apply(this,arguments)}function Xs(y,p,m){return lu.apply(this,arguments)}function lu(){return(lu=(0,l.Z)(function*(y,p,m){var w;const M=yield m.verify();try{let k;if(U("string"==typeof M,y,"argument-error"),U(m.type===$g,y,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const se=k.session;if("phoneNumber"in k)return U("enroll"===se.type,y,"internal-error"),(yield Ql(y,{idToken:se.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{U("signin"===se.type,y,"internal-error");const Ee=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return U(Ee,y,"missing-multi-factor-info"),(yield ua(y,{mfaPendingCredential:se.credential,mfaEnrollmentId:Ee,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:se}=yield Fg(y,{phoneNumber:k.phoneNumber,recaptchaToken:M});return se}}finally{m._reset()}})).apply(this,arguments)}function vc(){return(vc=(0,l.Z)(function*(y,p){yield ta((0,A.m9)(y),p)})).apply(this,arguments)}let rl=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Sn(m)}verifyPhoneNumber(m,w){return Xs(this.auth,m,(0,A.m9)(w))}static credential(m,w){return Zs._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:M}=m;return w&&M?Zs._fromTokenResponse(w,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function pa(y,p){return p?ue(p):(U(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class As extends Ar{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ar(p,this._buildIdpRequest())}_linkToIdToken(p,m){return ar(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return ar(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function st(y){return Bi(y.auth,new As(y),y.bypassAuthState)}function il(y){const{auth:p,user:m}=y;return U(m,p,"internal-error"),Do(m,new As(y),y.bypassAuthState)}function eo(y){return ga.apply(this,arguments)}function ga(){return(ga=(0,l.Z)(function*(y){const{auth:p,user:m}=y;return U(m,p,"internal-error"),ta(m,new As(y),y.bypassAuthState)})).apply(this,arguments)}class ma{constructor(p,m,w,M,k=!1){this.auth=p,this.resolver=w,this.user=M,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(w,M){p.pendingPromise={resolve:w,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(w,M){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:k,tenantId:se,error:Ee,type:ze}=p;if(Ee)return void m.reject(Ee);const ot={auth:m.auth,requestUri:w,sessionId:M,tenantId:se||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ze)(ot))}catch(Et){m.reject(Et)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return st;case"linkViaPopup":case"linkViaRedirect":return eo;case"reauthViaPopup":case"reauthViaRedirect":return il;default:Ae(this.auth,"internal-error")}}resolve(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dn=new Jt(2e3,1e4);function to(){return(to=(0,l.Z)(function*(y,p,m){const w=Sn(y);Se(y,p,vs);const M=pa(w,m);return new ns(w,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function wc(){return(wc=(0,l.Z)(function*(y,p,m){const w=(0,A.m9)(y);Se(w.auth,p,vs);const M=pa(w.auth,m);return new ns(w.auth,"reauthViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}function sl(){return(sl=(0,l.Z)(function*(y,p,m){const w=(0,A.m9)(y);Se(w.auth,p,vs);const M=pa(w.auth,m);return new ns(w.auth,"linkViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}let ns=(()=>{class y extends ma{constructor(m,w,M,k,se){super(m,w,k,se),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const w=yield m.execute();return U(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,l.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const w=Qa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(Te(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,M;this.pollId=null!==(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Dn.get())};m()}}return y.currentPopupAction=null,y})();const Hi=new Map;class Dc extends ma{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let w=Hi.get(m.auth._key());if(!w){try{const k=(yield function si(y,p){return oi.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(k)}catch(M){w=()=>Promise.reject(M)}Hi.set(m.auth._key(),w)}return m.bypassAuthState||Hi.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const M=yield w.auth._redirectUserForId(p.eventId);if(M)return w.user=M,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function oi(){return(oi=(0,l.Z)(function*(y,p){const m=Vn(p),w=Ns(y);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(m));return yield w._remove(m),M})).apply(this,arguments)}function ai(y,p){return rs.apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(y,p){return Ns(y)._set(Vn(p),"true")})).apply(this,arguments)}function no(y,p){Hi.set(y._key(),p)}function Ns(y){return ue(y._redirectPersistence)}function Vn(y){return sr("pendingRedirect",y.config.apiKey,y.name)}function C(){return(C=(0,l.Z)(function*(y,p,m){const w=Sn(y);Se(y,p,vs);const M=pa(w,m);return yield ai(M,w),M._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function $(){return($=(0,l.Z)(function*(y,p,m){const w=(0,A.m9)(y);Se(w.auth,p,vs);const M=pa(w.auth,m);yield ai(M,w.auth);const k=yield mt(w);return M._openRedirect(w.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function Me(){return(Me=(0,l.Z)(function*(y,p,m){const w=(0,A.m9)(y);Se(w.auth,p,vs);const M=pa(w.auth,m);yield Yt(!1,w,p.providerId),yield ai(M,w.auth);const k=yield mt(w);return M._openRedirect(w.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(y,p){return yield Sn(y)._initializationPromise,Dt(y,p,!1)})).apply(this,arguments)}function Dt(y,p){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,l.Z)(function*(y,p,m=!1){const w=Sn(y),M=pa(w,p),se=yield new Dc(w,M,m).execute();return se&&!m&&(delete se.user._redirectEventId,yield w._persistUserIfCurrent(se.user),yield w._setRedirectUser(null,p)),se})).apply(this,arguments)}function mt(y){return An.apply(this,arguments)}function An(){return(An=(0,l.Z)(function*(y){const p=Qa(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class ko{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function is(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ot(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!Ot(p)){const M=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Te(this.auth,M))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ro(p))}saveEventToCache(p){this.cachedEventUids.add(ro(p)),this.lastProcessedEventTime=Date.now()}}function ro(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Ot({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function io(y){return vi.apply(this,arguments)}function vi(){return(vi=(0,l.Z)(function*(y,p={}){return Bt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const _a=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Po=/^https?/;function wf(){return(wf=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield io(y);for(const m of p)try{if(Wg(m))return}catch{}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function Wg(y){const p=Be(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const se=new URL(y);return""===se.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&se.hostname===w}if(!Po.test(m))return!1;if(_a.test(y))return w===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const Kg=new Jt(3e4,6e4);function vy(){const y=zn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let ss=null;function Df(y){return ss=ss||function cr(y){return new Promise((p,m)=>{var w,M,k;function se(){vy(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{vy(),m(Te(y,"network-request-failed"))},timeout:Kg.get()})}if(null!==(M=null===(w=zn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(k=zn().gapi)||void 0===k||!k.load){const Ee=au("iframefcb");return zn()[Ee]=()=>{gapi.load?se():m(Te(y,"network-request-failed"))},da(`https://apis.google.com/js/api.js?onload=${Ee}`).catch(ze=>m(ze))}se()}}).catch(p=>{throw ss=null,p})}(y),ss}const Yg=new Jt(5e3,15e3),by={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qg(y){const p=y.config;U(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Cn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:P.SDK_VERSION},M=Tf.get(y.config.apiHost);M&&(w.eid=M);const k=y._getFrameworks();return k.length&&(w.fw=k.join(",")),`${m}?${(0,A.xO)(w).slice(1)}`}function ol(){return ol=(0,l.Z)(function*(y){const p=yield Df(y),m=zn().gapi;return U(m,y,"internal-error"),p.open({where:document.body,url:Qg(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:by,dontclear:!0},w=>new Promise(function(){var M=(0,l.Z)(function*(k,se){yield w.restyle({setHideOnLeave:!1});const Ee=Te(y,"network-request-failed"),ze=zn().setTimeout(()=>{se(Ee)},Yg.get());function ot(){zn().clearTimeout(ze),k(w)}w.ping(ot).then(ot,()=>{se(Ee)})});return function(k,se){return M.apply(this,arguments)}}()))}),ol.apply(this,arguments)}const jd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ec{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vo(y,p,m,w,M,k){U(y.config.authDomain,y,"auth-domain-config-required"),U(y.config.apiKey,y,"invalid-api-key");const se={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:P.SDK_VERSION,eventId:M};if(p instanceof vs){p.setDefaultLanguage(y.languageCode),se.providerId=p.providerId||"",(0,A.xb)(p.getCustomParameters())||(se.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ze,ot]of Object.entries(k||{}))se[ze]=ot}if(p instanceof bs){const ze=p.getScopes().filter(ot=>""!==ot);ze.length>0&&(se.scopes=ze.join(","))}y.tenantId&&(se.tid=y.tenantId);const Ee=se;for(const ze of Object.keys(Ee))void 0===Ee[ze]&&delete Ee[ze];return`${function $d({config:y}){return y.emulator?Cn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,A.xO)(Ee).slice(1)}`}const ll="webStorageSupport";class $i extends class wy{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return pe("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new $i(p)}_finalizeEnroll(p,m,w){return function Jl(y,p){return Bt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Rt(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function ou(y,p){return Bt(y,"POST","/v2/accounts/mfaSignIn:finalize",Rt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Bo=(()=>{class y{constructor(){}static assertion(m){return $i._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var If="@firebase/auth";class Dy{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var M;p((null===(M=w)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ya(){return window}function Nf(){return(Nf=(0,l.Z)(function*(y,p,m){var w;const{BuildInfo:M}=ya();Y(p.sessionId,"AuthEvent did not contain a session ID");const k=yield Ay(p.sessionId),se={};return ln()?se.ibi=M.packageName:Yn()?se.apn=M.packageName:Ae(y,"operation-not-supported-in-this-environment"),M.displayName&&(se.appDisplayName=M.displayName),se.sessionId=k,Vo(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,se)})).apply(this,arguments)}function va(){return(va=(0,l.Z)(function*(y){const{BuildInfo:p}=ya(),m={};ln()?m.iosBundleId=p.packageName:Yn()?m.androidPackageName=p.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield io(y,m)})).apply(this,arguments)}function so(){return(so=(0,l.Z)(function*(y,p,m){const{cordova:w}=ya();let M=()=>{};try{yield new Promise((k,se)=>{let Ee=null;function ze(){var _t;k();const dr=null===(_t=w.plugins.browsertab)||void 0===_t?void 0:_t.close;"function"==typeof dr&&dr(),"function"==typeof m?.close&&m.close()}function ot(){Ee||(Ee=window.setTimeout(()=>{se(Te(y,"redirect-cancelled-by-user"))},2e3))}function Et(){"visible"===document?.visibilityState&&ot()}p.addPassiveListener(ze),document.addEventListener("resume",ot,!1),Yn()&&document.addEventListener("visibilitychange",Et,!1),M=()=>{p.removePassiveListener(ze),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",Et,!1),Ee&&window.clearTimeout(Ee)}})}finally{M()}})).apply(this,arguments)}function Ay(y){return tm.apply(this,arguments)}function tm(){return(tm=(0,l.Z)(function*(y){const p=ow(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ow(y){if(Y(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}!function Ty(y){(0,P._registerComponent)(new z.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),{apiKey:k,authDomain:se}=w.options;return((Ee,ze)=>{U(k&&!k.includes(":"),"invalid-api-key",{appName:Ee.name}),U(!se?.includes(":"),"argument-error",{appName:Ee.name});const ot={apiKey:k,authDomain:se,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hs(y)},Et=new Lt(Ee,ze,ot);return function Le(y,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(ue);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(Et,m),Et})(w,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new z.wA("auth-internal",p=>{const m=Sn(p.getProvider("auth").getImmediate());return new Dy(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(If,"0.20.7",function Ey(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,P.registerVersion)(If,"0.20.7","esm2017")}("Browser");class ul extends ko{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function nm(y){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,l.Z)(function*(y){const p=yield Mf()._get(Of(y));return p&&(yield Mf()._remove(Of(y))),p})).apply(this,arguments)}function cu(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function Mf(){return ue(Wa)}function Of(y){return sr("authEvent",y.config.apiKey,y.name)}function dl(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,A.zd)(m.join("?"))}function Rf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Te("no-auth-event")}}function Ms(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Pf(y=(0,A.z$)()){return!("file:"!==Ms()&&"ionic:"!==Ms()&&"capacitor:"!==Ms()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kd(){try{const y=self.localStorage,p=Qa();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Ac(y=(0,A.z$)()){return function lw(){return(0,A.w1)()&&11===document?.documentMode}()||function uw(y=(0,A.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,A.hl)()}catch{return Yd()&&(0,A.hl)()}return!1}function Yd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qd(){return(function Wd(){return"http:"===Ms()||"https:"===Ms()}()||(0,A.ru)()||Pf())&&!function My(){return(0,A.b$)()||(0,A.UG)()}()&&Kd()&&!Yd()}function Ff(){return Pf()&&typeof document<"u"}function Jd(){return(Jd=(0,l.Z)(function*(){return!!Ff()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const qr={LOCAL:"local",NONE:"none",SESSION:"session"},Xd=U,Lf="persistence";function du(y){return as.apply(this,arguments)}function as(){return(as=(0,l.Z)(function*(y){yield y._initializationPromise;const p=Vf(),m=sr(Lf,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function Vf(){var y;try{return(null===(y=function sm(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const eh=U;class Os{constructor(){this.browserResolver=ue(class em{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ts,this._completeRedirectFn=Dt,this._overrideRedirectResult=no}_openPopup(p,m,w,M){var k=this;return(0,l.Z)(function*(){var se;Y(null===(se=k.eventManagers[p._key()])||void 0===se?void 0:se.manager,"_initialize() not called before _openPopup()");const Ee=Vo(p,m,w,Be(),M);return function Lo(y,p,m,w=500,M=600){const k=Math.max((window.screen.availHeight-M)/2,0).toString(),se=Math.max((window.screen.availWidth-w)/2,0).toString();let Ee="";const ze=Object.assign(Object.assign({},jd),{width:w.toString(),height:M.toString(),top:k,left:se}),ot=(0,A.z$)().toLowerCase();m&&(Ee=Qi(ot)?"_blank":m),In(ot)&&(p=p||"http://localhost",ze.scrollbars="yes");const Et=Object.entries(ze).reduce((dr,[us,fu])=>`${dr}${us}=${fu},`,"");if(function Li(y=(0,A.z$)()){var p;return ln(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ot)&&"_self"!==Ee)return function Xg(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",Ee),new Ec(null);const _t=window.open(p||"",Ee,Et);U(_t,y,"popup-blocked");try{_t.focus()}catch{}return new Ec(_t)}(p,Ee,Qa())})()}_openRedirect(p,m,w,M){var k=this;return(0,l.Z)(function*(){return yield k._originValidation(p),function Ui(y){zn().location.href=y}(Vo(p,m,w,Be(),M)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:M,promise:k}=this.eventManagers[m];return M?Promise.resolve(M):(Y(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const w=yield function Jg(y){return ol.apply(this,arguments)}(p),M=new ko(p);return w.register("authEvent",k=>(U(k?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:M},m.iframes[p._key()]=w,M})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(ll,{type:ll},M=>{var k;const se=null===(k=M?.[0])||void 0===k?void 0:k[ll];void 0!==se&&m(!!se),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Gi(y){return wf.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return yo()||Kn()||ln()}}),this.cordovaResolver=ue(class Ny{constructor(){this._redirectPersistence=ts,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Dt,this._overrideRedirectResult=no}_initialize(p){var m=this;return(0,l.Z)(function*(){const w=p._key();let M=m.eventManagers.get(w);return M||(M=new ul(p),m.eventManagers.set(w,M),m.attachCallbackListeners(p,M)),M})()}_openPopup(p){Ae(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,M){var k=this;return(0,l.Z)(function*(){!function qd(y){var p,m,w,M,k,se,Ee,ze,ot,Et;const _t=ya();U("function"==typeof(null===(p=_t?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(m=_t?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(k=null===(M=null===(w=_t?.cordova)||void 0===w?void 0:w.plugins)||void 0===M?void 0:M.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(ze=null===(Ee=null===(se=_t?.cordova)||void 0===se?void 0:se.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===ze?void 0:ze.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Et=null===(ot=_t?.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===Et?void 0:Et.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const se=yield k._initialize(p);yield se.initialized(),se.resetRedirect(),function ur(){Hi.clear()}(),yield k._originValidation(p);const Ee=function cl(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:cu(),postBody:null,tenantId:y.tenantId,error:Te(y,"no-auth-event")}}(p,w,M);yield function Ic(y,p){return Mf()._set(Of(y),p)}(p,Ee);const ze=yield function Iy(y,p,m){return Nf.apply(this,arguments)}(p,Ee,m),ot=yield function os(y){const{cordova:p}=ya();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let M=null;w?p.plugins.browsertab.openUrl(y):M=p.InAppBrowser.open(y,function gi(y=(0,A.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(M)})})}(ze);return function Cc(y,p,m){return so.apply(this,arguments)}(p,se,ot)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Sy(y){return va.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:M,BuildInfo:k}=ya(),se=setTimeout((0,l.Z)(function*(){yield nm(p),m.onEvent(Rf())}),500),Ee=function(){var Et=(0,l.Z)(function*(_t){clearTimeout(se);const dr=yield nm(p);let us=null;dr&&_t?.url&&(us=function rm(y,p){var m,w;const M=function zd(y){const p=dl(y),m=p.link?decodeURIComponent(p.link):void 0,w=dl(m).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return dl(M).link||M||w||m||y}(p);if(M.includes("/__/auth/callback")){const k=dl(M),se=k.firebaseError?function xf(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(k.firebaseError)):null,Ee=null===(w=null===(m=se?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],ze=Ee?Te(Ee):null;return ze?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:ze,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(dr,_t.url)),m.onEvent(us||Rf())});return function(dr){return Et.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,Ee);const ze=M,ot=`${k.packageName.toLowerCase()}://`;ya().handleOpenURL=function(){var Et=(0,l.Z)(function*(_t){if(_t.toLowerCase().startsWith(ot)&&Ee({url:_t}),"function"==typeof ze)try{ze(_t)}catch(dr){console.error(dr)}});return function(_t){return Et.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ts,this._completeRedirectFn=Dt,this._overrideRedirectResult=no}_initialize(p){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,M){var k=this;return(0,l.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,m,w,M)})()}_openRedirect(p,m,w,M){var k=this;return(0,l.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,m,w,M)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Ff()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return eh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Oy(){return Jd.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function ba(y){return y.unwrap()}function nh(y){return rh(y)}function rh(y){const{_tokenResponse:p}=y instanceof A.ZR?y.customData:y;if(!p)return null;if(!(y instanceof A.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return rl.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=Rl;break;case"facebook.com":w=Ba;break;case"github.com":w=ec;break;case"twitter.com":w=ti;break;default:const{oauthIdToken:M,oauthAccessToken:k,oauthTokenSecret:se,pendingToken:Ee,nonce:ze}=p;return k||se||M||Ee?Ee?m.startsWith("saml.")?Xn._create(m,Ee):ys._fromParams({providerId:m,signInMethod:m,pendingToken:Ee,idToken:M,accessToken:k}):new ws(m).credential({idToken:M,accessToken:k,rawNonce:ze}):null}return y instanceof A.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Or(y,p){return p.catch(m=>{throw m instanceof A.ZR&&function ao(y,p){var m,w;const M=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=p)||void 0===w?void 0:w.code))p.resolver=new sh(y,function Ln(y,p){var m;const w=(0,A.m9)(y),M=p;return U(p.customData.operationType,w,"argument-error"),U(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Yl._fromError(w,M)}(y,p));else if(M){const k=rh(p),se=p;k&&(se.credential=k,se.tenantId=M.tenantId||void 0,se.email=M.email||void 0,se.phoneNumber=M.phoneNumber||void 0)}}(y,m),m}).then(m=>{const M=m.user;return{operationType:m.operationType,credential:nh(m),additionalUserInfo:Kl(m),user:bi.getOrCreate(M)}})}function ih(y,p){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,l.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Or(y,m.confirm(w))}})).apply(this,arguments)}class sh{constructor(p,m){this.resolver=m,this.auth=function th(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Or(ba(this.auth),this.resolver.resolveSignIn(p))}}class bi{constructor(p){this._delegate=p,this.multiFactor=function oa(y){const p=(0,A.m9)(y);return So.has(p)||So.set(p,vf._fromUser(p)),So.get(p)}(p)}static getOrCreate(p){return bi.USER_MAP.has(p)||bi.USER_MAP.set(p,new bi(p)),bi.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,l.Z)(function*(){return Or(m.auth,Bl(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,l.Z)(function*(){return ih(w.auth,function on(y,p,m){return ji.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,l.Z)(function*(){return Or(m.auth,function uu(y,p,m){return sl.apply(this,arguments)}(m._delegate,p,Os))})()}linkWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield du(Sn(m.auth)),function ce(y,p,m){return function ye(y,p,m){return Me.apply(this,arguments)}(y,p,m)}(m._delegate,p,Os)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,l.Z)(function*(){return Or(m.auth,Ul(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return ih(this.auth,function nl(y,p,m){return Zn.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Or(this.auth,function Zg(y,p,m){return wc.apply(this,arguments)}(this._delegate,p,Os))}reauthenticateWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield du(Sn(m.auth)),function I(y,p,m){return function x(y,p,m){return $.apply(this,arguments)}(y,p,m)}(m._delegate,p,Os)})()}sendEmailVerification(p){return function lc(y,p){return za.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,l.Z)(function*(){return yield function Gr(y,p){return Pl.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Md(y,p){return Co((0,A.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function To(y,p){return Co((0,A.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function zg(y,p){return vc.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function dc(y,p){return hc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function uc(y,p,m){return zl.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bi.USER_MAP=new WeakMap;const Uo=U;let om=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=m.options;Uo(M,"invalid-api-key",{appName:m.name}),Uo(M,"invalid-api-key",{appName:m.name});const k=typeof window<"u"?Os:void 0;this._delegate=w.initialize({options:{persistence:Bf(M,m.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(_e),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Zu(y,p,m){const w=Sn(y);U(w._canInitEmulator,w,"emulator-config-failed"),U(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const M=!!m?.disableWarnings,k=Ji(p),{host:se,port:Ee}=function Qn(y){const p=Ji(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const k=M[1];return{host:k,port:Gs(w.substr(k.length+1))}}{const[k,se]=w.split(":");return{host:k,port:Gs(se)}}}(p);w.config.emulator={url:`${k}//${se}${null===Ee?"":`:${Ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:se,port:Ee,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function $s(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function yi(y,p){return ja.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ha(this._delegate,m)}confirmPasswordReset(m,w){return function $l(y,p,m){return na.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var M=this;return(0,l.Z)(function*(){return Or(M._delegate,function Ga(y,p,m){return Fn.apply(this,arguments)}(M._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function ql(y,p){return qa.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Cs(y,p){return"EMAIL_SIGNIN"===xl.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){Uo(Qd(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function He(y,p){return ut.apply(this,arguments)}(m._delegate,Os);return w?Or(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function im(y,p){Sn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,M){const{next:k,error:se,complete:Ee}=am(m,w,M);return this._delegate.onAuthStateChanged(k,se,Ee)}onIdTokenChanged(m,w,M){const{next:k,error:se,complete:Ee}=am(m,w,M);return this._delegate.onIdTokenChanged(k,se,Ee)}sendSignInLinkToEmail(m,w){return function oc(y,p,m){return Eo.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function Gl(y,p,m){return Pn.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,l.Z)(function*(){let M;switch(function Nc(y,p){Xd(Object.values(qr).includes(p),y,"invalid-persistence-type"),(0,A.b$)()?Xd(p!==qr.SESSION,y,"unsupported-persistence-type"):(0,A.UG)()?Xd(p===qr.NONE,y,"unsupported-persistence-type"):Yd()?Xd(p===qr.NONE||p===qr.LOCAL&&(0,A.hl)(),y,"unsupported-persistence-type"):Xd(p===qr.NONE||Kd(),y,"unsupported-persistence-type")}(w._delegate,m),m){case qr.SESSION:M=ts;break;case qr.LOCAL:M=(yield ue(la)._isAvailable())?la:Wa;break;case qr.NONE:M=sn;break;default:return Ae("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Or(this._delegate,function gf(y){return kn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Or(this._delegate,xn(this._delegate,m))}signInWithCustomToken(m){return Or(this._delegate,function rc(y,p){return Ua.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Or(this._delegate,function es(y,p,m){return xn((0,A.m9)(y),Xi.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Or(this._delegate,function Ug(y,p,m){return $a.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return ih(this._delegate,function lt(y,p,m){return en.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,l.Z)(function*(){return Uo(Qd(),w._delegate,"operation-not-supported-in-this-environment"),Or(w._delegate,function bc(y,p,m){return to.apply(this,arguments)}(w._delegate,m,Os))})()}signInWithRedirect(m){var w=this;return(0,l.Z)(function*(){return Uo(Qd(),w._delegate,"operation-not-supported-in-this-environment"),yield du(w._delegate),function $t(y,p,m){return function Ro(y,p,m){return C.apply(this,arguments)}(y,p,m)}(w._delegate,m,Os)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function sc(y,p){return Nd.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=qr,y})();function am(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const M=w;return{next:se=>M(se&&bi.getOrCreate(se)),error:p,complete:m}}function Bf(y,p){const m=function ls(y,p){const m=Vf();if(!m)return[];const w=sr(Lf,y,p);switch(m.getItem(w)){case qr.NONE:return[sn];case qr.LOCAL:return[la,ts];case qr.SESSION:return[ts];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(la)&&m.push(la),typeof window<"u")for(const w of[Wa,ts])m.includes(w)||m.push(w);return m.includes(sn)||m.push(sn),m}class hu{constructor(){this.providerId="phone",this._delegate=new rl(ba(L.Z.auth()))}static credential(p,m){return rl.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}hu.PHONE_SIGN_IN_METHOD=rl.PHONE_SIGN_IN_METHOD,hu.PROVIDER_ID=rl.PROVIDER_ID;const lm=U;class Uf{constructor(p,m,w=L.Z.app()){var M;lm(null===(M=w.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new wr(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function cm(y){y.INTERNAL.registerComponent(new z.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new om(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Xi,FacebookAuthProvider:Ba,GithubAuthProvider:ec,GoogleAuthProvider:Rl,OAuthProvider:ws,SAMLAuthProvider:mi,PhoneAuthProvider:hu,PhoneMultiFactorGenerator:Bo,RecaptchaVerifier:Uf,TwitterAuthProvider:ti,Auth:om,AuthCredential:Ar,Error:A.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.20")}(L.Z)},9751:(je,q,O)=>{"use strict";O.d(q,{y:()=>W});var l=O(930),L=O(727),A=O(8822),P=O(9635),V=O(2416),H=O(576),z=O(2806);let W=(()=>{class K{constructor(be){be&&(this._subscribe=be)}lift(be){const _e=new K;return _e.source=this,_e.operator=be,_e}subscribe(be,_e,Ke){const de=function Z(K){return K&&K instanceof l.Lv||function G(K){return K&&(0,H.m)(K.next)&&(0,H.m)(K.error)&&(0,H.m)(K.complete)}(K)&&(0,L.Nn)(K)}(be)?be:new l.Hp(be,_e,Ke);return(0,z.x)(()=>{const{operator:he,source:xe}=this;de.add(he?he.call(de,xe):xe?this._subscribe(de):this._trySubscribe(de))}),de}_trySubscribe(be){try{return this._subscribe(be)}catch(_e){be.error(_e)}}forEach(be,_e){return new(_e=oe(_e))((Ke,de)=>{const he=new l.Hp({next:xe=>{try{be(xe)}catch(Fe){de(Fe),he.unsubscribe()}},error:de,complete:Ke});this.subscribe(he)})}_subscribe(be){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(be)}[A.L](){return this}pipe(...be){return(0,P.U)(be)(this)}toPromise(be){return new(be=oe(be))((_e,Ke)=>{let de;this.subscribe(he=>de=he,he=>Ke(he),()=>_e(de))})}}return K.create=De=>new K(De),K})();function oe(K){var De;return null!==(De=K??V.v.Promise)&&void 0!==De?De:Promise}},7579:(je,q,O)=>{"use strict";O.d(q,{x:()=>z});var l=O(9751),L=O(727);const P=(0,O(3888).d)(oe=>function(){oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var V=O(8737),H=O(2806);let z=(()=>{class oe extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const K=new W(this,this);return K.operator=Z,K}_throwIfClosed(){if(this.closed)throw new P}next(Z){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(Z)}})}error(Z){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:K}=this;for(;K.length;)K.shift().error(Z)}})}complete(){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:K,isStopped:De,observers:be}=this;return K||De?L.Lc:(this.currentObservers=null,be.push(Z),new L.w0(()=>{this.currentObservers=null,(0,V.P)(be,Z)}))}_checkFinalizedStatuses(Z){const{hasError:K,thrownError:De,isStopped:be}=this;K?Z.error(De):be&&Z.complete()}asObservable(){const Z=new l.y;return Z.source=this,Z}}return oe.create=(G,Z)=>new W(G,Z),oe})();class W extends z{constructor(G,Z){super(),this.destination=G,this.source=Z}next(G){var Z,K;null===(K=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===K||K.call(Z,G)}error(G){var Z,K;null===(K=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===K||K.call(Z,G)}complete(){var G,Z;null===(Z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===Z||Z.call(G)}_subscribe(G){var Z,K;return null!==(K=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(G))&&void 0!==K?K:L.Lc}}},930:(je,q,O)=>{"use strict";O.d(q,{Hp:()=>Ke,Lv:()=>K});var l=O(576),L=O(727),A=O(2416),P=O(7849),V=O(5032);const H=oe("C",void 0,void 0);function oe(Ae,Te,fe){return{kind:Ae,value:Te,error:fe}}var G=O(3410),Z=O(2806);class K extends L.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,L.Nn)(Te)&&Te.add(this)):this.destination=Fe}static create(Te,fe,Se){return new Ke(Te,fe,Se)}next(Te){this.isStopped?xe(function W(Ae){return oe("N",Ae,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?xe(function z(Ae){return oe("E",void 0,Ae)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?xe(H,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const De=Function.prototype.bind;function be(Ae,Te){return De.call(Ae,Te)}class _e{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:fe}=this;if(fe.next)try{fe.next(Te)}catch(Se){de(Se)}}error(Te){const{partialObserver:fe}=this;if(fe.error)try{fe.error(Te)}catch(Se){de(Se)}else de(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(fe){de(fe)}}}class Ke extends K{constructor(Te,fe,Se){let Ie;if(super(),(0,l.m)(Te)||!Te)Ie={next:Te??void 0,error:fe??void 0,complete:Se??void 0};else{let U;this&&A.v.useDeprecatedNextContext?(U=Object.create(Te),U.unsubscribe=()=>this.unsubscribe(),Ie={next:Te.next&&be(Te.next,U),error:Te.error&&be(Te.error,U),complete:Te.complete&&be(Te.complete,U)}):Ie=Te}this.destination=new _e(Ie)}}function de(Ae){A.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Ae):(0,P.h)(Ae)}function xe(Ae,Te){const{onStoppedNotification:fe}=A.v;fe&&G.z.setTimeout(()=>fe(Ae,Te))}const Fe={closed:!0,next:V.Z,error:function he(Ae){throw Ae},complete:V.Z}},727:(je,q,O)=>{"use strict";O.d(q,{Lc:()=>H,w0:()=>V,Nn:()=>z});var l=O(576);const A=(0,O(3888).d)(oe=>function(Z){oe(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((K,De)=>`${De+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var P=O(8737);class V{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const be of Z)be.remove(this);else Z.remove(this);const{initialTeardown:K}=this;if((0,l.m)(K))try{K()}catch(be){G=be instanceof A?be.errors:[be]}const{_finalizers:De}=this;if(De){this._finalizers=null;for(const be of De)try{W(be)}catch(_e){G=G??[],_e instanceof A?G=[...G,..._e.errors]:G.push(_e)}}if(G)throw new A(G)}}add(G){var Z;if(G&&G!==this)if(this.closed)W(G);else{if(G instanceof V){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(G)}}_hasParent(G){const{_parentage:Z}=this;return Z===G||Array.isArray(Z)&&Z.includes(G)}_addParent(G){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(G),Z):Z?[Z,G]:G}_removeParent(G){const{_parentage:Z}=this;Z===G?this._parentage=null:Array.isArray(Z)&&(0,P.P)(Z,G)}remove(G){const{_finalizers:Z}=this;Z&&(0,P.P)(Z,G),G instanceof V&&G._removeParent(this)}}V.EMPTY=(()=>{const oe=new V;return oe.closed=!0,oe})();const H=V.EMPTY;function z(oe){return oe instanceof V||oe&&"closed"in oe&&(0,l.m)(oe.remove)&&(0,l.m)(oe.add)&&(0,l.m)(oe.unsubscribe)}function W(oe){(0,l.m)(oe)?oe():oe.unsubscribe()}},2416:(je,q,O)=>{"use strict";O.d(q,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(je,q,O)=>{"use strict";O.d(q,{E:()=>L});const L=new(O(9751).y)(V=>V.complete())},8996:(je,q,O)=>{"use strict";O.d(q,{D:()=>Te});var l=O(8421),L=O(5363),A=O(9468),H=O(9751),W=O(2202),oe=O(576),G=O(9672);function K(fe,Se){if(!fe)throw new Error("Iterable cannot be null");return new H.y(Ie=>{(0,G.f)(Ie,Se,()=>{const U=fe[Symbol.asyncIterator]();(0,G.f)(Ie,Se,()=>{U.next().then(pe=>{pe.done?Ie.complete():Ie.next(pe.value)})},0,!0)})})}var De=O(3670),be=O(8239),_e=O(1144),Ke=O(6495),de=O(2206),he=O(4532),xe=O(3260);function Te(fe,Se){return Se?function Ae(fe,Se){if(null!=fe){if((0,De.c)(fe))return function P(fe,Se){return(0,l.Xf)(fe).pipe((0,A.R)(Se),(0,L.Q)(Se))}(fe,Se);if((0,_e.z)(fe))return function z(fe,Se){return new H.y(Ie=>{let U=0;return Se.schedule(function(){U===fe.length?Ie.complete():(Ie.next(fe[U++]),Ie.closed||this.schedule())})})}(fe,Se);if((0,be.t)(fe))return function V(fe,Se){return(0,l.Xf)(fe).pipe((0,A.R)(Se),(0,L.Q)(Se))}(fe,Se);if((0,de.D)(fe))return K(fe,Se);if((0,Ke.T)(fe))return function Z(fe,Se){return new H.y(Ie=>{let U;return(0,G.f)(Ie,Se,()=>{U=fe[W.h](),(0,G.f)(Ie,Se,()=>{let pe,Y;try{({value:pe,done:Y}=U.next())}catch(X){return void Ie.error(X)}Y?Ie.complete():Ie.next(pe)},0,!0)}),()=>(0,oe.m)(U?.return)&&U.return()})}(fe,Se);if((0,xe.L)(fe))return function Fe(fe,Se){return K((0,xe.Q)(fe),Se)}(fe,Se)}throw(0,he.z)(fe)}(fe,Se):(0,l.Xf)(fe)}},8421:(je,q,O)=>{"use strict";O.d(q,{Xf:()=>De});var l=O(655),L=O(1144),A=O(8239),P=O(9751),V=O(3670),H=O(2206),z=O(4532),W=O(6495),oe=O(3260),G=O(576),Z=O(7849),K=O(8822);function De(Ae){if(Ae instanceof P.y)return Ae;if(null!=Ae){if((0,V.c)(Ae))return function be(Ae){return new P.y(Te=>{const fe=Ae[K.L]();if((0,G.m)(fe.subscribe))return fe.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,L.z)(Ae))return function _e(Ae){return new P.y(Te=>{for(let fe=0;fe<Ae.length&&!Te.closed;fe++)Te.next(Ae[fe]);Te.complete()})}(Ae);if((0,A.t)(Ae))return function Ke(Ae){return new P.y(Te=>{Ae.then(fe=>{Te.closed||(Te.next(fe),Te.complete())},fe=>Te.error(fe)).then(null,Z.h)})}(Ae);if((0,H.D)(Ae))return he(Ae);if((0,W.T)(Ae))return function de(Ae){return new P.y(Te=>{for(const fe of Ae)if(Te.next(fe),Te.closed)return;Te.complete()})}(Ae);if((0,oe.L)(Ae))return function xe(Ae){return he((0,oe.Q)(Ae))}(Ae)}throw(0,z.z)(Ae)}function he(Ae){return new P.y(Te=>{(function Fe(Ae,Te){var fe,Se,Ie,U;return(0,l.mG)(this,void 0,void 0,function*(){try{for(fe=(0,l.KL)(Ae);!(Se=yield fe.next()).done;)if(Te.next(Se.value),Te.closed)return}catch(pe){Ie={error:pe}}finally{try{Se&&!Se.done&&(U=fe.return)&&(yield U.call(fe))}finally{if(Ie)throw Ie.error}}Te.complete()})})(Ae,Te).catch(fe=>Te.error(fe))})}},6451:(je,q,O)=>{"use strict";O.d(q,{T:()=>H});var l=O(8189),L=O(8421),A=O(515),P=O(3269),V=O(8996);function H(...z){const W=(0,P.yG)(z),oe=(0,P._6)(z,1/0),G=z;return G.length?1===G.length?(0,L.Xf)(G[0]):(0,l.J)(oe)((0,V.D)(G,W)):A.E}},5403:(je,q,O)=>{"use strict";O.d(q,{x:()=>L});var l=O(930);function L(P,V,H,z,W){return new A(P,V,H,z,W)}class A extends l.Lv{constructor(V,H,z,W,oe,G){super(V),this.onFinalize=oe,this.shouldUnsubscribe=G,this._next=H?function(Z){try{H(Z)}catch(K){V.error(K)}}:super._next,this._error=W?function(Z){try{W(Z)}catch(K){V.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=z?function(){try{z()}catch(Z){V.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var V;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:H}=this;super.unsubscribe(),!H&&(null===(V=this.onFinalize)||void 0===V||V.call(this))}}}},4004:(je,q,O)=>{"use strict";O.d(q,{U:()=>A});var l=O(4482),L=O(5403);function A(P,V){return(0,l.e)((H,z)=>{let W=0;H.subscribe((0,L.x)(z,oe=>{z.next(P.call(V,oe,W++))}))})}},8189:(je,q,O)=>{"use strict";O.d(q,{J:()=>A});var l=O(5577),L=O(4671);function A(P=1/0){return(0,l.z)(L.y,P)}},5577:(je,q,O)=>{"use strict";O.d(q,{z:()=>W});var l=O(4004),L=O(8421),A=O(4482),P=O(9672),V=O(5403),z=O(576);function W(oe,G,Z=1/0){return(0,z.m)(G)?W((K,De)=>(0,l.U)((be,_e)=>G(K,be,De,_e))((0,L.Xf)(oe(K,De))),Z):("number"==typeof G&&(Z=G),(0,A.e)((K,De)=>function H(oe,G,Z,K,De,be,_e,Ke){const de=[];let he=0,xe=0,Fe=!1;const Ae=()=>{Fe&&!de.length&&!he&&G.complete()},Te=Se=>he<K?fe(Se):de.push(Se),fe=Se=>{be&&G.next(Se),he++;let Ie=!1;(0,L.Xf)(Z(Se,xe++)).subscribe((0,V.x)(G,U=>{De?.(U),be?Te(U):G.next(U)},()=>{Ie=!0},void 0,()=>{if(Ie)try{for(he--;de.length&&he<K;){const U=de.shift();_e?(0,P.f)(G,_e,()=>fe(U)):fe(U)}Ae()}catch(U){G.error(U)}}))};return oe.subscribe((0,V.x)(G,Te,()=>{Fe=!0,Ae()})),()=>{Ke?.()}}(K,De,oe,Z)))}},5363:(je,q,O)=>{"use strict";O.d(q,{Q:()=>P});var l=O(9672),L=O(4482),A=O(5403);function P(V,H=0){return(0,L.e)((z,W)=>{z.subscribe((0,A.x)(W,oe=>(0,l.f)(W,V,()=>W.next(oe),H),()=>(0,l.f)(W,V,()=>W.complete(),H),oe=>(0,l.f)(W,V,()=>W.error(oe),H)))})}},3099:(je,q,O)=>{"use strict";O.d(q,{B:()=>V});var l=O(8421),L=O(7579),A=O(930),P=O(4482);function V(z={}){const{connector:W=(()=>new L.x),resetOnError:oe=!0,resetOnComplete:G=!0,resetOnRefCountZero:Z=!0}=z;return K=>{let De,be,_e,Ke=0,de=!1,he=!1;const xe=()=>{be?.unsubscribe(),be=void 0},Fe=()=>{xe(),De=_e=void 0,de=he=!1},Ae=()=>{const Te=De;Fe(),Te?.unsubscribe()};return(0,P.e)((Te,fe)=>{Ke++,!he&&!de&&xe();const Se=_e=_e??W();fe.add(()=>{Ke--,0===Ke&&!he&&!de&&(be=H(Ae,Z))}),Se.subscribe(fe),!De&&Ke>0&&(De=new A.Hp({next:Ie=>Se.next(Ie),error:Ie=>{he=!0,xe(),be=H(Fe,oe,Ie),Se.error(Ie)},complete:()=>{de=!0,xe(),be=H(Fe,G),Se.complete()}}),(0,l.Xf)(Te).subscribe(De))})(K)}}function H(z,W,...oe){if(!0===W)return void z();if(!1===W)return;const G=new A.Hp({next:()=>{G.unsubscribe(),z()}});return W(...oe).subscribe(G)}},9468:(je,q,O)=>{"use strict";O.d(q,{R:()=>L});var l=O(4482);function L(A,P=0){return(0,l.e)((V,H)=>{H.add(A.schedule(()=>V.subscribe(H),P))})}},8505:(je,q,O)=>{"use strict";O.d(q,{b:()=>V});var l=O(576),L=O(4482),A=O(5403),P=O(4671);function V(H,z,W){const oe=(0,l.m)(H)||z||W?{next:H,error:z,complete:W}:H;return oe?(0,L.e)((G,Z)=>{var K;null===(K=oe.subscribe)||void 0===K||K.call(oe);let De=!0;G.subscribe((0,A.x)(Z,be=>{var _e;null===(_e=oe.next)||void 0===_e||_e.call(oe,be),Z.next(be)},()=>{var be;De=!1,null===(be=oe.complete)||void 0===be||be.call(oe),Z.complete()},be=>{var _e;De=!1,null===(_e=oe.error)||void 0===_e||_e.call(oe,be),Z.error(be)},()=>{var be,_e;De&&(null===(be=oe.unsubscribe)||void 0===be||be.call(oe)),null===(_e=oe.finalize)||void 0===_e||_e.call(oe)}))}):P.y}},4408:(je,q,O)=>{"use strict";O.d(q,{o:()=>V});var l=O(727);class L extends l.w0{constructor(z,W){super()}schedule(z,W=0){return this}}const A={setInterval(H,z,...W){const{delegate:oe}=A;return oe?.setInterval?oe.setInterval(H,z,...W):setInterval(H,z,...W)},clearInterval(H){const{delegate:z}=A;return(z?.clearInterval||clearInterval)(H)},delegate:void 0};var P=O(8737);class V extends L{constructor(z,W){super(z,W),this.scheduler=z,this.work=W,this.pending=!1}schedule(z,W=0){if(this.closed)return this;this.state=z;const oe=this.id,G=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(G,oe,W)),this.pending=!0,this.delay=W,this.id=this.id||this.requestAsyncId(G,this.id,W),this}requestAsyncId(z,W,oe=0){return A.setInterval(z.flush.bind(z,this),oe)}recycleAsyncId(z,W,oe=0){if(null!=oe&&this.delay===oe&&!1===this.pending)return W;A.clearInterval(W)}execute(z,W){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(z,W);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(z,W){let G,oe=!1;try{this.work(z)}catch(Z){oe=!0,G=Z||new Error("Scheduled action threw falsy error")}if(oe)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:z,scheduler:W}=this,{actions:oe}=W;this.work=this.state=this.scheduler=null,this.pending=!1,(0,P.P)(oe,this),null!=z&&(this.id=this.recycleAsyncId(W,z,null)),this.delay=null,super.unsubscribe()}}}},7565:(je,q,O)=>{"use strict";O.d(q,{v:()=>A});var l=O(6063);class L{constructor(V,H=L.now){this.schedulerActionCtor=V,this.now=H}schedule(V,H=0,z){return new this.schedulerActionCtor(this,V).schedule(z,H)}}L.now=l.l.now;class A extends L{constructor(V,H=L.now){super(V,H),this.actions=[],this._active=!1,this._scheduled=void 0}flush(V){const{actions:H}=this;if(this._active)return void H.push(V);let z;this._active=!0;do{if(z=V.execute(V.state,V.delay))break}while(V=H.shift());if(this._active=!1,z){for(;V=H.shift();)V.unsubscribe();throw z}}}},4986:(je,q,O)=>{"use strict";O.d(q,{P:()=>P,z:()=>A});var l=O(4408);const A=new(O(7565).v)(l.o),P=A},6063:(je,q,O)=>{"use strict";O.d(q,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(je,q,O)=>{"use strict";O.d(q,{z:()=>l});const l={setTimeout(L,A,...P){const{delegate:V}=l;return V?.setTimeout?V.setTimeout(L,A,...P):setTimeout(L,A,...P)},clearTimeout(L){const{delegate:A}=l;return(A?.clearTimeout||clearTimeout)(L)},delegate:void 0}},2202:(je,q,O)=>{"use strict";O.d(q,{h:()=>L});const L=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(je,q,O)=>{"use strict";O.d(q,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(je,q,O)=>{"use strict";O.d(q,{_6:()=>H,jO:()=>P,yG:()=>V});var l=O(576),L=O(3532);function A(z){return z[z.length-1]}function P(z){return(0,l.m)(A(z))?z.pop():void 0}function V(z){return(0,L.K)(A(z))?z.pop():void 0}function H(z,W){return"number"==typeof A(z)?z.pop():W}},8737:(je,q,O)=>{"use strict";function l(L,A){if(L){const P=L.indexOf(A);0<=P&&L.splice(P,1)}}O.d(q,{P:()=>l})},3888:(je,q,O)=>{"use strict";function l(L){const P=L(V=>{Error.call(V),V.stack=(new Error).stack});return P.prototype=Object.create(Error.prototype),P.prototype.constructor=P,P}O.d(q,{d:()=>l})},2806:(je,q,O)=>{"use strict";O.d(q,{O:()=>P,x:()=>A});var l=O(2416);let L=null;function A(V){if(l.v.useDeprecatedSynchronousErrorHandling){const H=!L;if(H&&(L={errorThrown:!1,error:null}),V(),H){const{errorThrown:z,error:W}=L;if(L=null,z)throw W}}else V()}function P(V){l.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=V)}},9672:(je,q,O)=>{"use strict";function l(L,A,P,V=0,H=!1){const z=A.schedule(function(){P(),H?L.add(this.schedule(null,V)):this.unsubscribe()},V);if(L.add(z),!H)return z}O.d(q,{f:()=>l})},4671:(je,q,O)=>{"use strict";function l(L){return L}O.d(q,{y:()=>l})},1144:(je,q,O)=>{"use strict";O.d(q,{z:()=>l});const l=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(je,q,O)=>{"use strict";O.d(q,{D:()=>L});var l=O(576);function L(A){return Symbol.asyncIterator&&(0,l.m)(A?.[Symbol.asyncIterator])}},576:(je,q,O)=>{"use strict";function l(L){return"function"==typeof L}O.d(q,{m:()=>l})},3670:(je,q,O)=>{"use strict";O.d(q,{c:()=>A});var l=O(8822),L=O(576);function A(P){return(0,L.m)(P[l.L])}},6495:(je,q,O)=>{"use strict";O.d(q,{T:()=>A});var l=O(2202),L=O(576);function A(P){return(0,L.m)(P?.[l.h])}},8239:(je,q,O)=>{"use strict";O.d(q,{t:()=>L});var l=O(576);function L(A){return(0,l.m)(A?.then)}},3260:(je,q,O)=>{"use strict";O.d(q,{L:()=>P,Q:()=>A});var l=O(655),L=O(576);function A(V){return(0,l.FC)(this,arguments,function*(){const z=V.getReader();try{for(;;){const{value:W,done:oe}=yield(0,l.qq)(z.read());if(oe)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(W)}}finally{z.releaseLock()}})}function P(V){return(0,L.m)(V?.getReader)}},3532:(je,q,O)=>{"use strict";O.d(q,{K:()=>L});var l=O(576);function L(A){return A&&(0,l.m)(A.schedule)}},4482:(je,q,O)=>{"use strict";O.d(q,{A:()=>L,e:()=>A});var l=O(576);function L(P){return(0,l.m)(P?.lift)}function A(P){return V=>{if(L(V))return V.lift(function(H){try{return P(H,this)}catch(z){this.error(z)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(je,q,O)=>{"use strict";function l(){}O.d(q,{Z:()=>l})},9635:(je,q,O)=>{"use strict";O.d(q,{U:()=>A,z:()=>L});var l=O(4671);function L(...P){return A(P)}function A(P){return 0===P.length?l.y:1===P.length?P[0]:function(H){return P.reduce((z,W)=>W(z),H)}}},7849:(je,q,O)=>{"use strict";O.d(q,{h:()=>A});var l=O(2416),L=O(3410);function A(P){L.z.setTimeout(()=>{const{onUnhandledError:V}=l.v;if(!V)throw P;V(P)})}},4532:(je,q,O)=>{"use strict";function l(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(q,{z:()=>l})},655:(je,q,O)=>{"use strict";function P(Y,X){var ue={};for(var le in Y)Object.prototype.hasOwnProperty.call(Y,le)&&X.indexOf(le)<0&&(ue[le]=Y[le]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(le=Object.getOwnPropertySymbols(Y);Le<le.length;Le++)X.indexOf(le[Le])<0&&Object.prototype.propertyIsEnumerable.call(Y,le[Le])&&(ue[le[Le]]=Y[le[Le]])}return ue}function W(Y,X,ue,le){return new(ue||(ue=Promise))(function(Be,pt){function Zt(Jt){try{Qe(le.next(Jt))}catch(Cn){pt(Cn)}}function jt(Jt){try{Qe(le.throw(Jt))}catch(Cn){pt(Cn)}}function Qe(Jt){Jt.done?Be(Jt.value):function Le(Be){return Be instanceof ue?Be:new ue(function(pt){pt(Be)})}(Jt.value).then(Zt,jt)}Qe((le=le.apply(Y,X||[])).next())})}function de(Y){return this instanceof de?(this.v=Y,this):new de(Y)}function he(Y,X,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,le=ue.apply(Y,X||[]),Be=[];return Le={},pt("next"),pt("throw"),pt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function pt(Kt){le[Kt]&&(Le[Kt]=function(Xt){return new Promise(function(rr,Rt){Be.push([Kt,Xt,rr,Rt])>1||Zt(Kt,Xt)})})}function Zt(Kt,Xt){try{!function jt(Kt){Kt.value instanceof de?Promise.resolve(Kt.value.v).then(Qe,Jt):Cn(Be[0][2],Kt)}(le[Kt](Xt))}catch(rr){Cn(Be[0][3],rr)}}function Qe(Kt){Zt("next",Kt)}function Jt(Kt){Zt("throw",Kt)}function Cn(Kt,Xt){Kt(Xt),Be.shift(),Be.length&&Zt(Be[0][0],Be[0][1])}}function Fe(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,X=Y[Symbol.asyncIterator];return X?X.call(Y):(Y=function K(Y){var X="function"==typeof Symbol&&Symbol.iterator,ue=X&&Y[X],le=0;if(ue)return ue.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&le>=Y.length&&(Y=void 0),{value:Y&&Y[le++],done:!Y}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ue={},le("next"),le("throw"),le("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function le(Be){ue[Be]=Y[Be]&&function(pt){return new Promise(function(Zt,jt){!function Le(Be,pt,Zt,jt){Promise.resolve(jt).then(function(Qe){Be({value:Qe,done:Zt})},pt)}(Zt,jt,(pt=Y[Be](pt)).done,pt.value)})}}}O.d(q,{FC:()=>he,KL:()=>Fe,_T:()=>P,mG:()=>W,qq:()=>de})},4650:(je,q,O)=>{"use strict";O.d(q,{$8M:()=>ou,$Z:()=>sv,AFp:()=>q0,ALo:()=>Hp,AaK:()=>W,BQk:()=>Th,CHM:()=>Hl,CRH:()=>eE,CZH:()=>N_,CqO:()=>W1,D6c:()=>fs,EJc:()=>ES,EiD:()=>dl,EpF:()=>Z1,F$t:()=>Bm,F4k:()=>Iv,FYo:()=>ze,FiY:()=>He,G48:()=>xu,Gf:()=>Er,GfV:()=>dr,Gpc:()=>Z,HOy:()=>zm,Hsn:()=>Um,Ikx:()=>Wm,JOm:()=>wa,JVY:()=>Sf,KtG:()=>Gl,L6k:()=>Dy,LAX:()=>Ty,LFG:()=>$t,LMc:()=>jE,LSH:()=>Zd,Lbi:()=>Pt,Lck:()=>nd,MAs:()=>Dp,MGl:()=>jm,MMx:()=>f_,NdJ:()=>Sv,OlP:()=>_n,Oqu:()=>qm,PXZ:()=>EE,Q6J:()=>an,QGY:()=>Cv,QP$:()=>Qi,QbO:()=>Hn,Qsj:()=>ot,QtT:()=>u_,R0b:()=>Vr,RDi:()=>Qg,Rgc:()=>po,SBq:()=>k,SDv:()=>p0,Sil:()=>dd,Suo:()=>L0,TTD:()=>bs,TgZ:()=>Pm,Tol:()=>Lv,Udp:()=>Ih,VKq:()=>S0,W1O:()=>Zp,WLB:()=>HD,X6Q:()=>ng,XFs:()=>it,Xpm:()=>te,Xts:()=>Kd,Y36:()=>gl,YKP:()=>FD,YNc:()=>Ne,Yjl:()=>Ht,Yz7:()=>Xt,Z0I:()=>Pr,ZZ4:()=>B_,_Bn:()=>td,_UZ:()=>xr,_Vd:()=>m,_c5:()=>ub,_uU:()=>cD,aQg:()=>U_,c2e:()=>At,cJS:()=>Rt,cg1:()=>Np,d8E:()=>Km,dDg:()=>nb,dqk:()=>dn,eBb:()=>Ey,eFA:()=>CE,ekj:()=>Ip,eoX:()=>DE,f3M:()=>C,g9A:()=>Z0,h0i:()=>xh,hGG:()=>Wh,hij:()=>Ap,iGM:()=>XD,ifc:()=>ft,ip1:()=>vE,jDz:()=>v0,kEZ:()=>kh,kL8:()=>Mp,lG2:()=>sr,lcZ:()=>jn,lqb:()=>ao,lri:()=>Su,mCW:()=>va,n5z:()=>Ss,oAB:()=>ht,oJD:()=>Rf,oxw:()=>Lm,pB0:()=>Af,pQV:()=>Oh,q3G:()=>Bn,q4F:()=>us,qLn:()=>jf,qOj:()=>Ev,qZA:()=>Fm,qzn:()=>Bo,rWj:()=>tb,s9C:()=>Nv,sBO:()=>hd,sIi:()=>yu,s_b:()=>v_,soG:()=>Qt,tb:()=>cd,tp0:()=>Dt,uIk:()=>vp,vHH:()=>_e,vpe:()=>Na,wAp:()=>Tt,xp6:()=>Uw,ynx:()=>Kc,z2F:()=>Mu,z3N:()=>$i,zSh:()=>eh,zs3:()=>Lc});var l=O(7579),L=O(727),A=O(9751),P=O(6451),V=O(3099);function H(s){for(let o in s)if(s[o]===H)return o;throw Error("Could not find renamed property on target object.")}function z(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function W(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(W).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function oe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=H({__forward_ref__:H});function Z(s){return s.__forward_ref__=Z,s.toString=function(){return W(this())},s}function K(s){return De(s)?s():s}function De(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===Z}class _e extends Error{constructor(o,u){super(function Ke(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function de(s){return"string"==typeof s?s:null==s?"":String(s)}function Te(s,o){throw new _e(-201,!1)}function Qe(s,o,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}function Xt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Rt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Bt(s){return Gn(s,Yi)||Gn(s,ki)}function Pr(s){return null!==Bt(s)}function Gn(s,o){return s.hasOwnProperty(o)?s[o]:null}function js(s){return s&&(s.hasOwnProperty(Jr)||s.hasOwnProperty(Jo))?s[Jr]:null}const Yi=H({\u0275prov:H}),Jr=H({\u0275inj:H}),ki=H({ngInjectableDef:H}),Jo=H({ngInjectorDef:H});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let Xr;function $n(s){const o=Xr;return Xr=s,o}function Pi(s,o,u){const d=Bt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&it.Optional?null:void 0!==o?o:void Te(W(s))}function qn(s){return{toString:s}.toString()}var ir=(()=>((ir=ir||{})[ir.OnPush=0]="OnPush",ir[ir.Default=1]="Default",ir))(),ft=(()=>{return(s=ft||(ft={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ft;var s})();const dn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ur={},It=[],_s=H({\u0275cmp:H}),rn=H({\u0275dir:H}),Fi=H({\u0275pipe:H}),nn=H({\u0275mod:H}),ie=H({\u0275fac:H}),ee=H({__NG_ELEMENT_ID__:H});let Q=0;function te(s){return qn(()=>{const u=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ir.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||It,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ft.Emulated,id:"c"+Q++,styles:s.styles||It,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return h.inputs=sn(s.inputs,d),h.outputs=sn(s.outputs),v&&v.forEach(D=>D(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(Oe).filter(Ze):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(Kn).filter(Ze):null,h})}function Oe(s){return Ft(s)||In(s)}function Ze(s){return null!==s}function ht(s){return qn(()=>({type:s.type,bootstrap:s.bootstrap||It,declarations:s.declarations||It,imports:s.imports||It,exports:s.exports||It,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function sn(s,o){if(null==s)return Ur;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=d,o&&(o[h]=g)}return u}const sr=te;function Ht(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ft(s){return s[_s]||null}function In(s){return s[rn]||null}function Kn(s){return s[Fi]||null}function Qi(s){const o=Ft(s)||In(s)||Kn(s);return null!==o&&o.standalone}function jr(s,o){const u=s[nn]||null;if(!u&&!0===o)throw new Error(`Type ${W(s)} does not have '\u0275mod' property.`);return u}function vr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Hr(s){return Array.isArray(s)&&!0===s[1]}function Ol(s){return 0!=(8&s.flags)}function La(s){return 2==(2&s.flags)}function Qu(s){return 1==(1&s.flags)}function Fr(s){return null!==s.template}function cf(s){return 0!=(256&s[2])}function Xi(s,o){return s.hasOwnProperty(ie)?s[ie]:null}class vs{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function bs(){return ws}function ws(s){return s.type.prototype.ngOnChanges&&(s.setInput=Rl),Ba}function Ba(){const s=ff(this),o=s?.current;if(o){const u=s.previous;if(u===Ur)s.previous=o;else for(let d in o)u[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Rl(s,o,u,d){const h=ff(s)||function Xn(s,o){return s[ec]=o}(s,{previous:Ur,current:null}),g=h.current||(h.current={}),v=h.previous,D=this.declaredInputs[u],E=v[D];g[D]=new vs(E&&E.currentValue,o,v===Ur),s[d]=o}bs.ngInherit=!0;const ec="__ngSimpleChanges__";function ff(s){return s[ec]||null}function kn(s){for(;Array.isArray(s);)s=s[0];return s}function _i(s,o){return kn(o[s])}function Gr(s,o){return kn(o[s.index])}function ta(s,o){return s.data[o]}function Es(s,o){return s[o]}function Yt(s,o){const u=o[s];return vr(u)?u:u[0]}function Do(s){return 64==(64&s[2])}function Bi(s,o){return null==o?null:s[o]}function Vl(s){s[18]=0}function xn(s,o){s[5]+=o;let u=s,d=s[3];for(;null!==d&&(1===o&&1===u[5]||-1===o&&0===u[5]);)d[5]+=o,u=d,d=d[3]}const St={lFrame:dc(null),bindingsEnabled:!0};function Ts(){return St.bindingsEnabled}function Re(){return St.lFrame.lView}function Gt(){return St.lFrame.tView}function Hl(s){return St.lFrame.contextLView=s,s[8]}function Gl(s){return St.lFrame.contextLView=null,s}function Pn(){let s=$l();for(;null!==s&&64===s.type;)s=s.parent;return s}function $l(){return St.lFrame.currentTNode}function na(){const s=St.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function yi(s,o){const u=St.lFrame;u.currentTNode=s,u.isParent=o}function ja(){return St.lFrame.isParent}function Ha(){St.lFrame.isParent=!1}function Fn(){const s=St.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function es(){return St.lFrame.bindingIndex}function Eo(){return St.lFrame.bindingIndex++}function Cs(s){const o=St.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function $a(s){St.lFrame.inI18n=s}function jg(s,o){const u=St.lFrame;u.bindingIndex=u.bindingRootIndex=s,ql(o)}function ql(s){St.lFrame.currentDirectiveIndex=s}function qa(s){const o=St.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function lc(){return St.lFrame.currentQueryIndex}function za(s){St.lFrame.currentQueryIndex=s}function uc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function zl(s,o,u){if(u&it.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||u&it.Host||(h=uc(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=St.lFrame=cc();return d.currentTNode=o,d.lView=s,!0}function Zl(s){const o=cc(),u=s[1];St.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function cc(){const s=St.lFrame,o=null===s?null:s.child;return null===o?dc(s):o}function dc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function hc(){const s=St.lFrame;return St.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Md=hc;function To(){const s=hc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function lr(){return St.lFrame.selectedIndex}function ni(s){St.lFrame.selectedIndex=s}function wn(){const s=St.lFrame;return ta(s.tView,s.selectedIndex)}function gc(s,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:E,ngAfterViewChecked:N,ngOnDestroy:R}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-u,v),D&&((s.contentHooks||(s.contentHooks=[])).push(u,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,D)),E&&(s.viewHooks||(s.viewHooks=[])).push(-u,E),N&&((s.viewHooks||(s.viewHooks=[])).push(u,N),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,N)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(u,R)}}function ra(s,o,u){sa(s,o,3,u)}function ia(s,o,u,d){(3&s[2])===u&&sa(s,o,u,d)}function Rd(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function sa(s,o,u,d){const g=d??-1,v=o.length-1;let D=0;for(let E=void 0!==d?65535&s[18]:0;E<v;E++)if("number"==typeof o[E+1]){if(D=o[E],null!=d&&D>=d)break}else o[E]<0&&(s[18]+=65536),(D<g||-1==g)&&(kd(s,u,o,E),s[18]=(4294901760&s[18])+E+2),E++}function kd(s,o,u,d){const h=u[d]<0,g=u[d+1],D=s[h?-u[d]:u[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(D)}finally{}}}else try{g.call(D)}finally{}}class Ks{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function oa(s,o,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const g=u[d++],v=u[d++],D=u[d++];s.setAttribute(o,v,D,g)}else{const g=h,v=u[++d];Xl(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),d++}}return d}function Ao(s){return 3===s||4===s||6===s}function Xl(s){return 64===s.charCodeAt(0)}function Za(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||Fd(s,u,h,null,-1===u||2===u?o[++d]:null)}}return s}function Fd(s,o,u,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const D=s[g++];if("number"==typeof D){if(D===o){v=-1;break}if(D>o){v=g-1;break}}}for(;g<s.length;){const D=s[g];if("number"==typeof D)break;if(D===u){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,u),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function Ld(s){return-1!==s}function br(s){return 32767&s}function Ka(s,o){let u=function Wa(s){return s>>16}(s),d=o;for(;u>0;)d=d[15],u--;return d}let ts=!0;function Ya(s){const o=ts;return ts=s,o}let zn=0;const Ui={};function No(s,o){const u=tu(s,o);if(-1!==u)return u;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Ja(d.data,s),Ja(o,null),Ja(d.blueprint,null));const h=nu(s,o),g=s.injectorIndex;if(Ld(h)){const v=br(h),D=Ka(h,o),E=D[1].data;for(let N=0;N<8;N++)o[g+N]=D[v+N]|E[v+N]}return o[g+8]=h,g}function Ja(s,o){s.push(0,0,0,0,0,0,0,0,o)}function tu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function nu(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){if(d=ua(h),null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Ys(s,o,u){!function eu(s,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(ee)&&(d=u[ee]),null==d&&(d=u[ee]=zn++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function Qs(s,o,u){if(u&it.Optional||void 0!==s)return s;Te()}function ru(s,o,u,d){if(u&it.Optional&&void 0===d&&(d=null),0==(u&(it.Self|it.Host))){const h=s[9],g=$n(void 0);try{return h?h.get(o,d,u&it.Optional):Pi(o,d,u&it.Optional)}finally{$n(g)}}return Qs(d,0,u)}function Mo(s,o,u,d=it.Default,h){if(null!==s){if(1024&o[2]){const v=function la(s,o,u,d,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const D=Xa(g,v,u,d|it.Self,Ui);if(D!==Ui)return D;let E=g.parent;if(!E){const N=v[21];if(N){const R=N.get(u,Ui,d);if(R!==Ui)return R}E=ua(v),v=v[15]}g=E}return h}(s,o,u,d,Ui);if(v!==Ui)return v}const g=Xa(s,o,u,d,Ui);if(g!==Ui)return g}return ru(o,u,d,h)}function Xa(s,o,u,d,h){const g=function _c(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ee)?s[ee]:void 0;return"number"==typeof o?o>=0?255&o:yc:o}(u);if("function"==typeof g){if(!zl(o,s,d))return d&it.Host?Qs(h,0,d):ru(o,u,d,h);try{const v=g(d);if(null!=v||d&it.Optional)return v;Te()}finally{Md()}}else if("number"==typeof g){let v=null,D=tu(s,o),E=-1,N=d&it.Host?o[16][6]:null;for((-1===D||d&it.SkipSelf)&&(E=-1===D?nu(s,o):o[D+8],-1!==E&&el(d,!1)?(v=o[1],D=br(E),o=Ka(E,o)):D=-1);-1!==D;){const R=o[1];if(iu(g,D,R.data)){const B=Ud(D,o,u,v,d,N);if(B!==Ui)return B}E=o[D+8],-1!==E&&el(d,o[1].data[D+8]===N)&&iu(g,D,o)?(v=R,D=br(E),o=Ka(E,o)):D=-1}}return h}function Ud(s,o,u,d,h,g){const v=o[1],D=v.data[s+8],R=aa(D,v,u,null==d?La(D)&&ts:d!=v&&0!=(3&D.type),h&it.Host&&g===D);return null!==R?Is(o,v,R,D):Ui}function aa(s,o,u,d,h){const g=s.providerIndexes,v=o.data,D=1048575&g,E=s.directiveStart,R=g>>20,ne=h?D+R:s.directiveEnd;for(let ge=d?D:D+R;ge<ne;ge++){const we=v[ge];if(ge<E&&u===we||ge>=E&&we.type===u)return ge}if(h){const ge=v[E];if(ge&&Fr(ge)&&ge.type===u)return E}return null}function Is(s,o,u,d){let h=s[u];const g=o.data;if(function Io(s){return s instanceof Ks}(h)){const v=h;v.resolving&&function xe(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new _e(-200,`Circular dependency in DI detected for ${s}${u}`)}(function he(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():de(s)}(g[u]));const D=Ya(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?$n(v.injectImpl):null;zl(s,d,it.Default);try{h=s[u]=v.factory(void 0,g,s,d),o.firstCreatePass&&u>=d.directiveStart&&function xd(s,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=ws(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,v)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],o)}finally{null!==E&&$n(E),Ya(D),v.resolving=!1,Md()}}return h}function iu(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function el(s,o){return!(s&it.Self||s&it.Host&&o)}class Oo{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return Mo(this._tNode,this._lView,o,d,u)}}function yc(){return new Oo(Pn(),Re())}function Ss(s){return qn(()=>{const o=s.prototype.constructor,u=o[ie]||su(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[ie]||su(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function su(s){return De(s)?()=>{const o=su(K(s));return o&&o()}:Xi(s)}function ua(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function ou(s){return function Bd(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const g=u[h];if(Ao(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(g===o)return u[h+1];h+=2}}}return null}(Pn(),s)}const Js="__parameters__";function ha(s,o,u){return qn(()=>{const d=function au(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return D.annotation=v,D;function D(E,N,R){const B=E.hasOwnProperty(Js)?E[Js]:Object.defineProperty(E,Js,{value:[]})[Js];for(;B.length<=R;)B.push(null);return(B[R]=B[R]||[]).push(v),E}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class _n{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Xt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function on(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let d=s[u];Array.isArray(d)?(o===s&&(o=s.slice(0,u)),on(d,o)):o!==s&&o.push(d)}return o}function ji(s,o){s.forEach(u=>Array.isArray(u)?ji(u,o):o(u))}function nl(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Zn(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Xs(s,o){const u=[];for(let d=0;d<s;d++)u.push(o);return u}function st(s,o,u){let d=eo(s,o);return d>=0?s[1|d]=u:(d=~d,function vc(s,o,u,d){let h=s.length;if(h==o)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=d}}(s,d,o,u)),d}function il(s,o){const u=eo(s,o);if(u>=0)return s[1|u]}function eo(s,o){return function ma(s,o,u){let d=0,h=s.length>>u;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<u];if(o===v)return g<<u;v>o?h=g:d=g+1}return~(h<<u)}(s,o,1)}const Hi={},Dc="__NG_DI_FLAG__",si="ngTempTokenPath",ai=/\n/gm,ur="__source";let no;function Ns(s){const o=no;return no=s,o}function Vn(s,o=it.Default){if(void 0===no)throw new _e(-203,!1);return null===no?Pi(s,void 0,o):no.get(s,o&it.Optional?null:void 0,o)}function $t(s,o=it.Default){return(function ms(){return Xr}()||Vn)(K(s),o)}function C(s,o=it.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),$t(s,o)}function I(s){const o=[];for(let u=0;u<s.length;u++){const d=K(s[u]);if(Array.isArray(d)){if(0===d.length)throw new _e(900,!1);let h,g=it.Default;for(let v=0;v<d.length;v++){const D=d[v],E=$(D);"number"==typeof E?-1===E?h=D.token:g|=E:h=D}o.push($t(h,g))}else o.push($t(d))}return o}function x(s,o){return s[Dc]=o,s.prototype[Dc]=o,s}function $(s){return s[Dc]}const He=x(ha("Optional"),8),Dt=x(ha("SkipSelf"),4);let Tf,ol,Ec;function Qg(s){Tf=s}function Jg(){return void 0!==Tf?Tf:typeof document<"u"?document:void 0}function Fo(s){return function jd(){if(void 0===ol&&(ol=null,dn.trustedTypes))try{ol=dn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ol}()?.createHTML(s)||s}function Xg(s){return function Lo(){if(void 0===Ec&&(Ec=null,dn.trustedTypes))try{Ec=dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ec}()?.createHTML(s)||s}class Vo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $d extends Vo{getTypeName(){return"HTML"}}class ll extends Vo{getTypeName(){return"Style"}}class em extends Vo{getTypeName(){return"Script"}}class Tc extends Vo{getTypeName(){return"URL"}}class wy extends Vo{getTypeName(){return"ResourceURL"}}function $i(s){return s instanceof Vo?s.changingThisBreaksApplicationSecurity:s}function Bo(s,o){const u=function If(s){return s instanceof Vo&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function Sf(s){return new $d(s)}function Dy(s){return new ll(s)}function Ey(s){return new em(s)}function Ty(s){return new Tc(s)}function Af(s){return new wy(s)}function ya(s){const o=new Iy(s);return function Nf(){try{return!!(new window.DOMParser).parseFromString(Fo(""),"text/html")}catch{return!1}}()?new Cy(o):o}class Cy{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Fo(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class Iy{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Fo(o),u;const d=this.inertDocument.createElement("body");return d.innerHTML=Fo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const v=u.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Sy=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function va(s){return(s=String(s)).match(Sy)?s:"unsafe:"+s}function os(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Cc(...s){const o={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(o[d]=!0);return o}const so=os("area,br,col,hr,img,wbr"),qd=os("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ay=os("rp,rt"),ul=Cc(so,Cc(qd,os("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cc(Ay,os("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cc(Ay,qd)),cl=os("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sc=Cc(cl,os("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),os("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rm=os("script,style,template");class cu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!ul.hasOwnProperty(u))return this.sanitizedSomething=!0,!rm.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,D=v.toLowerCase();if(!Sc.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let E=g.value;cl[D]&&(E=va(E)),this.buf.push(" ",v,'="',xf(E),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();ul.hasOwnProperty(u)&&!so.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(xf(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const Mf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Of=/([^\#-~ |!])/g;function xf(s){return s.replace(/&/g,"&amp;").replace(Mf,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Of,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zd;function dl(s,o){let u=null;try{zd=zd||ya(s);let d=o?String(o):"";u=zd.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=u.innerHTML,u=zd.getInertBodyElement(d)}while(d!==g);return Fo((new cu).sanitizeChildren(hl(u)||u))}finally{if(u){const d=hl(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function hl(s){return"content"in s&&function Ny(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Bn=(()=>((Bn=Bn||{})[Bn.NONE=0]="NONE",Bn[Bn.HTML=1]="HTML",Bn[Bn.STYLE=2]="STYLE",Bn[Bn.SCRIPT=3]="SCRIPT",Bn[Bn.URL=4]="URL",Bn[Bn.RESOURCE_URL=5]="RESOURCE_URL",Bn))();function Rf(s){const o=Ac();return o?Xg(o.sanitize(Bn.HTML,s)||""):Bo(s,"HTML")?Xg($i(s)):dl(Jg(),de(s))}function Zd(s){const o=Ac();return o?o.sanitize(Bn.URL,s)||"":Bo(s,"URL")?$i(s):va(de(s))}function Ac(){const s=Re();return s&&s[12]}const Kd=new _n("ENVIRONMENT_INITIALIZER"),Yd=new _n("INJECTOR",-1),Qd=new _n("INJECTOR_DEF_TYPES");class Ff{get(o,u=Hi){if(u===Hi){const d=new Error(`NullInjectorError: No provider for ${W(o)}!`);throw d.name="NullInjectorError",d}return u}}function Oy(...s){return{\u0275providers:Jd(0,s)}}function Jd(s,...o){const u=[],d=new Set;let h;return ji(o,g=>{const v=g;qr(v,u,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&sm(h,u),u}function sm(s,o){for(let u=0;u<s.length;u++){const{providers:h}=s[u];ji(h,g=>{o.push(g)})}}function qr(s,o,u,d){if(!(s=K(s)))return!1;let h=null,g=js(s);const v=!g&&Ft(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const E=s.ngModule;if(g=js(E),!g)return!1;h=E}const D=d.has(h);if(v){if(D)return!1;if(d.add(h),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const N of E)qr(N,o,u,d)}}else{if(!g)return!1;{if(null!=g.imports&&!D){let N;d.add(h);try{ji(g.imports,R=>{qr(R,o,u,d)&&(N||(N=[]),N.push(R))})}finally{}void 0!==N&&sm(N,o)}if(!D){const N=Xi(h)||(()=>new h);o.push({provide:h,useFactory:N,deps:It},{provide:Qd,useValue:h,multi:!0},{provide:Kd,useValue:()=>$t(h),multi:!0})}const E=g.providers;null==E||D||ji(E,R=>{o.push(R)})}}return h!==s&&void 0!==s.providers}const Lf=H({provide:String,useValue:H});function Nc(s){return null!==s&&"object"==typeof s&&Lf in s}function ls(s){return"function"==typeof s}const eh=new _n("Set Injector scope."),Os={},ba={};let th;function nh(){return void 0===th&&(th=new Ff),th}class ao{}class rh extends ao{constructor(o,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hu(o,v=>this.processProvider(v)),this.records.set(Yd,bi(void 0,this)),h.has("environment")&&this.records.set(ao,bi(void 0,this));const g=this.records.get(eh);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Qd.multi,It,it.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=Ns(this),d=$n(void 0);try{return o()}finally{Ns(u),$n(d)}}get(o,u=Hi,d=it.Default){this.assertNotDestroyed();const h=Ns(this),g=$n(void 0);try{if(!(d&it.SkipSelf)){let D=this.records.get(o);if(void 0===D){const E=function am(s){return"function"==typeof s||"object"==typeof s&&s instanceof _n}(o)&&Bt(o);D=E&&this.injectableDefInScope(E)?bi(Or(o),Os):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(d&it.Self?nh():this.parent).get(o,u=d&it.Optional&&u===Hi?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[si]=v[si]||[]).unshift(W(o)),h)throw v;return function ce(s,o,u,d){const h=s[si];throw o[ur]&&h.unshift(o[ur]),s.message=function ye(s,o,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=W(o);if(Array.isArray(o))h=o.map(W).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let D=o[v];g.push(v+":"+("string"==typeof D?JSON.stringify(D):W(D)))}h=`{${g.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(ai,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[si]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{$n(g),Ns(h)}}resolveInjectorInitializers(){const o=Ns(this),u=$n(void 0);try{const d=this.get(Kd.multi,It,it.Self);for(const h of d)h()}finally{Ns(o),$n(u)}}toString(){const o=[],u=this.records;for(const d of u.keys())o.push(W(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(o){let u=ls(o=K(o))?o:K(o&&o.provide);const d=function Mc(s){return Nc(s)?bi(void 0,s.useValue):bi(sh(s),Os)}(o);if(ls(o)||!0!==o.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=bi(void 0,Os,!0),h.factory=()=>I(h.multi),this.records.set(u,h)),u=o,h.multi.push(o)}this.records.set(u,d)}hydrate(o,u){return u.value===Os&&(u.value=ba,u.value=u.factory()),"object"==typeof u.value&&u.value&&function om(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=K(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Or(s){const o=Bt(s),u=null!==o?o.factory:Xi(s);if(null!==u)return u;if(s instanceof _n)throw new _e(204,!1);if(s instanceof Function)return function ih(s){const o=s.length;if(o>0)throw Xs(o,"?"),new _e(204,!1);const u=function Wn(s){const o=s&&(s[Yi]||s[ki]);if(o){const u=function Qr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new _e(204,!1)}function sh(s,o,u){let d;if(ls(s)){const h=K(s);return Xi(h)||Or(h)}if(Nc(s))d=()=>K(s.useValue);else if(function as(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...I(s.deps||[]));else if(function du(s){return!(!s||!s.useExisting)}(s))d=()=>$t(K(s.useExisting));else{const h=K(s&&(s.useClass||s.provide));if(!function Uo(s){return!!s.deps}(s))return Xi(h)||Or(h);d=()=>new h(...I(s.deps))}return d}function bi(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function Bf(s){return!!s.\u0275providers}function hu(s,o){for(const u of s)Array.isArray(u)?hu(u,o):Bf(u)?hu(u.\u0275providers,o):o(u)}class Uf{}class p{resolveComponentFactory(o){throw function um(s){const o=Error(`No component factory found for ${W(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let m=(()=>{class s{}return s.NULL=new p,s})();function w(){return M(Pn(),Re())}function M(s,o){return new k(Gr(s,o))}let k=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=w,s})();function se(s){return s instanceof k?s.nativeElement:s}class ze{}let ot=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Et(){const s=Re(),u=Yt(Pn().index,s);return(vr(u)?u:s)[11]}(),s})(),_t=(()=>{class s{}return s.\u0275prov=Xt({token:s,providedIn:"root",factory:()=>null}),s})();class dr{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const us=new dr("14.2.2"),fu={};function Py(s){return s.ngOriginalError}class jf{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Py(o);for(;u&&Py(u);)u=Py(u);return u||null}}const eC=/^>|^->|<!--|-->|--!>|<!-$/g,RM=/(<|>)/;const Fy=new Map;let iC=0;const mm="__ngContext__";function zr(s,o){vr(o)?(s[mm]=o[20],function oC(s){Fy.set(s[20],s)}(o)):s[mm]=o}function pl(s){return s instanceof Function?s():s}var wa=(()=>((wa=wa||{})[wa.Important=1]="Important",wa[wa.DashCase=2]="DashCase",wa))();let Uy;function jy(s,o){return Uy(s,o)}function hh(s){const o=s[3];return Hr(o)?o[3]:o}function vm(s){return Dw(s[13])}function bm(s){return Dw(s[4])}function Dw(s){for(;null!==s&&!Hr(s);)s=s[4];return s}function fh(s,o,u,d,h){if(null!=d){let g,v=!1;Hr(d)?g=d:vr(d)&&(v=!0,d=d[0]);const D=kn(d);0===s&&null!==u?null==h?Nw(o,u,D):Da(o,u,D,h||null,!0):1===s&&null!==u?Da(o,u,D,h||null,!0):2===s?bC(o,D,v):3===s&&o.destroyNode(D),null!=g&&function BM(s,o,u,d,h){const g=u[7];g!==kn(u)&&fh(o,s,d,g,h);for(let D=10;D<u.length;D++){const E=u[D];Pc(E[1],E,s,o,d,g)}}(o,s,g,u,h)}}function Gy(s,o){return s.createText(o)}function Ew(s,o,u){s.setValue(o,u)}function mC(s,o){return s.createComment(function fm(s){return s.replace(eC,o=>o.replace(RM,"\u200b$1\u200b"))}(o))}function wm(s,o,u){return s.createElement(o,u)}function Iw(s,o){const u=s[9],d=u.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,xn(h,-1)),u.splice(d,1)}function qy(s,o){if(s.length<=10)return;const u=10+o,d=s[u];if(d){const h=d[17];null!==h&&h!==s&&Iw(h,d),o>0&&(s[u-1][4]=d[4]);const g=Zn(s,10+o);!function $y(s,o){Pc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function $f(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&Pc(s,o,u,3,null,null),function LM(s){let o=s[13];if(!o)return Dm(s[1],s);for(;o;){let u=null;if(vr(o))u=o[13];else{const d=o[10];d&&(u=d)}if(!u){for(;o&&!o[4]&&o!==s;)vr(o)&&Dm(o[1],o),o=o[3];null===o&&(o=s),vr(o)&&Dm(o[1],o),u=o&&o[4]}o=u}}(o)}}function Dm(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Zy(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof Ks)){const g=u[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const D=h[g[v]],E=g[v+1];try{E.call(D)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function zy(s,o){const u=s.cleanup,d=o[7];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+1],D="function"==typeof v?v(o):kn(o[v]),E=d[h=u[g+2]],N=u[g+3];"boolean"==typeof N?D.removeEventListener(u[g],E,N):N>=0?d[h=N]():d[h=-N].unsubscribe(),g+=2}else{const v=d[h=u[g+1]];u[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&Hr(o[3])){u!==o[3]&&Iw(u,o);const d=o[19];null!==d&&d.detachView(s)}!function aC(s){Fy.delete(s[20])}(o)}}function Sw(s,o,u){return Aw(s,o.parent,u)}function Aw(s,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===ft.None||h===ft.Emulated)return null}return Gr(d,u)}function Da(s,o,u,d,h){s.insertBefore(o,u,d,h)}function Nw(s,o,u){s.appendChild(o,u)}function Mw(s,o,u,d,h){null!==d?Da(s,o,u,d,h):Nw(s,o,u)}function Em(s,o){return s.parentNode(o)}function Dr(s,o,u){return Wy(s,o,u)}function xw(s,o,u){return 40&s.type?Gr(s,u):null}let qf,Wy=xw;function zf(s,o){Wy=s,qf=o}function Zf(s,o,u,d){const h=Sw(s,d,o),g=o[11],D=Dr(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(u))for(let E=0;E<u.length;E++)Mw(g,h,u[E],D,!1);else Mw(g,h,u,D,!1);void 0!==qf&&qf(g,d,o,u,h)}function Tm(s,o){if(null!==o){const u=o.type;if(3&u)return Gr(o,s);if(4&u)return Rw(-1,s[o.index]);if(8&u){const d=o.child;if(null!==d)return Tm(s,d);{const h=s[o.index];return Hr(h)?Rw(-1,h):kn(h)}}if(32&u)return jy(o,s)()||kn(s[o.index]);{const d=Ky(s,o);return null!==d?Array.isArray(d)?d[0]:Tm(hh(s[16]),d):Tm(s,o.next)}}return null}function Ky(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Rw(s,o){const u=10+s+1;if(u<o.length){const d=o[u],h=d[1].firstChild;if(null!==h)return Tm(d,h)}return o[7]}function bC(s,o,u){const d=Em(s,o);d&&function vC(s,o,u,d){s.removeChild(o,u,d)}(s,d,o,u)}function Yy(s,o,u,d,h,g,v){for(;null!=u;){const D=d[u.index],E=u.type;if(v&&0===o&&(D&&zr(kn(D),d),u.flags|=4),64!=(64&u.flags))if(8&E)Yy(s,o,u.child,d,h,g,!1),fh(o,s,h,D,g);else if(32&E){const N=jy(u,d);let R;for(;R=N();)fh(o,s,h,R,g);fh(o,s,h,D,g)}else 16&E?Wf(s,o,d,u,h,g):fh(o,s,h,D,g);u=v?u.projectionNext:u.next}}function Pc(s,o,u,d,h,g){Yy(u,d,s.firstChild,o,h,g,!1)}function Wf(s,o,u,d,h,g){const v=u[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let N=0;N<E.length;N++)fh(o,s,h,E[N],g);else Yy(s,o,E,v[3],h,g,!0)}function Fc(s,o,u){s.setAttribute(o,"style",u)}function Kf(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function wC(s,o,u){let d=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}u=h+1}}const Qy="ng-template";function Jy(s,o,u){let d=0;for(;d<s.length;){let h=s[d++];if(u&&"class"===h){if(h=s[d],-1!==wC(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Fw(s){return 4===s.type&&s.value!==Qy}function EC(s,o,u){return o===(4!==s.type||u?s.value:Qy)}function TC(s,o,u){let d=4;const h=s.attrs||[],g=function UM(s){for(let o=0;o<s.length;o++)if(Ao(s[o]))return o;return s.length}(h);let v=!1;for(let D=0;D<o.length;D++){const E=o[D];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!EC(s,E,u)||""===E&&1===o.length){if(lo(d))return!1;v=!0}}else{const N=8&d?E:o[++D];if(8&d&&null!==s.attrs){if(!Jy(s.attrs,N,u)){if(lo(d))return!1;v=!0}continue}const B=CC(8&d?"class":E,h,Fw(s),u);if(-1===B){if(lo(d))return!1;v=!0;continue}if(""!==N){let ne;ne=B>g?"":h[B+1].toLowerCase();const ge=8&d?ne:null;if(ge&&-1!==wC(ge,N,0)||2&d&&N!==ne){if(lo(d))return!1;v=!0}}}}else{if(!v&&!lo(d)&&!lo(E))return!1;if(v&&lo(E))continue;v=!1,d=E|1&d}}return lo(d)||v}function lo(s){return 0==(1&s)}function CC(s,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let D=o[++h];for(;"string"==typeof D;)D=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function Lw(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,s)}function IC(s,o,u=!1){for(let d=0;d<o.length;d++)if(TC(s,o[d],u))return!0;return!1}function SC(s,o){e:for(let u=0;u<o.length;u++){const d=o[u];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function Vw(s,o){return s?":not("+o.trim()+")":o}function Bw(s){let o=s[0],u=1,d=2,h="",g=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&d){const D=s[++u];h+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!lo(v)&&(o+=Vw(g,h),h=""),d=v,g=g||!lo(d);u++}return""!==h&&(o+=Vw(g,h)),o}const Vt={};function Uw(s){jw(Gt(),Re(),lr()+s,!1)}function jw(s,o,u,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&ra(o,g,u)}else{const g=s.preOrderHooks;null!==g&&ia(o,g,0,u)}ni(u)}function $w(s,o=null,u=null,d){const h=qw(s,o,u,d);return h.resolveInjectorInitializers(),h}function qw(s,o=null,u=null,d,h=new Set){const g=[u||It,Oy(s)];return d=d||("object"==typeof s?void 0:W(s)),new rh(g,o||nh(),d||null,h)}let Lc=(()=>{class s{static create(u,d){if(Array.isArray(u))return $w({name:""},d,u,"");{const h=u.name??"";return $w({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=Hi,s.NULL=new Ff,s.\u0275prov=Xt({token:s,providedIn:"any",factory:()=>$t(Yd)}),s.__NG_ELEMENT_ID__=-1,s})();function gl(s,o=it.Default){const u=Re();return null===u?$t(s,o):Mo(Pn(),u,K(s),o)}function sv(){throw new Error("invalid")}function Xf(s,o){return s<<17|o<<2}function Un(s){return s>>17&32767}function i1(s){return 2|s}function mu(s){return(131068&s)>>2}function gh(s,o){return-131069&s|o<<2}function ep(s){return 1|s}function dv(s,o){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const h=u[d],g=u[d+1];if(-1!==g){const v=s.data[g];za(h),v.contentQueries(2,o[g],g)}}}function Om(s,o,u,d,h,g,v,D,E,N,R){const B=o.blueprint.slice();return B[0]=h,B[2]=76|d,(null!==R||s&&1024&s[2])&&(B[2]|=1024),Vl(B),B[3]=B[15]=s,B[8]=u,B[10]=v||s&&s[10],B[11]=D||s&&s[11],B[12]=E||s&&s[12]||null,B[9]=N||s&&s[9]||null,B[6]=g,B[20]=function sC(){return iC++}(),B[21]=R,B[16]=2==o.type?s[16]:B,B}function sp(s,o,u,d,h){let g=s.data[o];if(null===g)g=hv(s,o,u,d,h),function Ug(){return St.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=d,g.attrs=h;const v=na();g.injectorIndex=null===v?-1:v.injectorIndex}return yi(g,!0),g}function hv(s,o,u,d,h){const g=$l(),v=ja(),E=s.data[o]=function lp(s,o,u,d,h,g){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,o,d,h);return null===s.firstChild&&(s.firstChild=E),null!==g&&(v?null==g.child&&null!==E.parent&&(g.child=E):null===g.next&&(g.next=E)),E}function Gc(s,o,u,d){if(0===u)return-1;const h=o.length;for(let g=0;g<u;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function m1(s,o,u){Zl(o);try{const d=s.viewQuery;null!==d&&qc(1,d,u);const h=s.template;null!==h&&_1(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&dv(s,o),s.staticViewQueries&&qc(2,s.viewQuery,u);const g=s.components;null!==g&&function g1(s,o){for(let u=0;u<o.length;u++)M1(s,o[u])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,To()}}function bh(s,o,u,d){const h=o[2];if(128!=(128&h)){Zl(o);try{Vl(o),function oc(s){return St.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&_1(s,o,u,2,d);const v=3==(3&h);if(v){const N=s.preOrderCheckHooks;null!==N&&ra(o,N,null)}else{const N=s.preOrderHooks;null!==N&&ia(o,N,0,null),Rd(o,0)}if(function yv(s){for(let o=vm(s);null!==o;o=bm(o)){if(!o[2])continue;const u=o[9];for(let d=0;d<u.length;d++){const h=u[d],g=h[3];0==(512&h[2])&&xn(g,1),h[2]|=512}}}(o),function JC(s){for(let o=vm(s);null!==o;o=bm(o))for(let u=10;u<o.length;u++){const d=o[u],h=d[1];Do(d)&&bh(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&dv(s,o),v){const N=s.contentCheckHooks;null!==N&&ra(o,N)}else{const N=s.contentHooks;null!==N&&ia(o,N,1),Rd(o,1)}!function $C(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)ni(~h);else{const g=h,v=u[++d],D=u[++d];jg(v,g),D(2,o[g])}}}finally{ni(-1)}}(s,o);const D=s.components;null!==D&&function qC(s,o){for(let u=0;u<o.length;u++)XC(s,o[u])}(o,D);const E=s.viewQuery;if(null!==E&&qc(2,E,d),v){const N=s.viewCheckHooks;null!==N&&ra(o,N)}else{const N=s.viewHooks;null!==N&&ia(o,N,2),Rd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,xn(o[3],-1))}finally{To()}}}function _1(s,o,u,d,h){const g=lr(),v=2&d;try{ni(-1),v&&o.length>22&&jw(s,o,22,!1),u(d,h)}finally{ni(g)}}function fv(s,o,u){if(Ol(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}function op(s,o,u){!Ts()||(function T1(s,o,u,d){const h=u.directiveStart,g=u.directiveEnd;s.firstCreatePass||No(u,o),zr(d,o);const v=u.initialInputs;for(let D=h;D<g;D++){const E=s.data[D],N=Fr(E);N&&YC(o,u,E);const R=Is(o,s,D,u);zr(R,o),null!==v&&QC(0,D-h,R,E,0,v),N&&(Yt(u.index,o)[8]=R)}}(s,o,u,Gr(u,o)),128==(128&u.flags)&&function up(s,o,u){const d=u.directiveStart,h=u.directiveEnd,g=u.index,v=function ac(){return St.lFrame.currentDirectiveIndex}();try{ni(g);for(let D=d;D<h;D++){const E=s.data[D],N=o[D];ql(D),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&C1(E,N)}}finally{ni(-1),ql(v)}}(s,o,u))}function pv(s,o,u=Gr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],D=-1===v?u(o,s):s[v];s[h++]=D}}}function zC(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=gv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function gv(s,o,u,d,h,g,v,D,E,N){const R=22+d,B=R+h,ne=function ap(s,o){const u=[];for(let d=0;d<o;d++)u.push(d<s?null:Vt);return u}(R,B),ge="function"==typeof N?N():N;return ne[1]={type:s,blueprint:ne,template:u,queries:null,viewQuery:D,declTNode:o,data:ne.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:ge,incompleteFirstPass:!1}}function mv(s,o,u,d){const h=x1(o);null===u?h.push(d):(h.push(u),s.firstCreatePass&&bv(s).push(d,h.length-1))}function ZC(s,o,u){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(o,h):u[d]=[o,h]}return u}function b1(s,o){const d=o.directiveEnd,h=s.data,g=o.attrs,v=[];let D=null,E=null;for(let N=o.directiveStart;N<d;N++){const R=h[N],B=R.inputs,ne=null===g||Fw(o)?null:N1(B,g);v.push(ne),D=ZC(B,N,D),E=ZC(R.outputs,N,E)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=16),D.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=D,o.outputs=E}function co(s,o,u,d,h,g,v,D){const E=Gr(o,u);let R,N=o.inputs;!D&&null!=N&&(R=N[d])?(fp(s,u,R,d,h),La(o)&&WC(u,o.index)):3&o.type&&(d=function w1(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,g.setProperty(E,d,h))}function WC(s,o){const u=Yt(o,s);16&u[2]||(u[2]|=32)}function xm(s,o,u,d){let h=!1;if(Ts()){const g=function Rm(s,o,u){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];IC(u,v.selectors,!1)&&(h||(h=[]),Ys(No(u,o),s,v.type),Fr(v)?(I1(s,u),h.unshift(v)):h.push(v))}return h}(s,o,u),v=null===d?null:{"":-1};if(null!==g){h=!0,A1(u,s.data.length,g.length);for(let R=0;R<g.length;R++){const B=g[R];B.providersResolver&&B.providersResolver(B)}let D=!1,E=!1,N=Gc(s,o,g.length,null);for(let R=0;R<g.length;R++){const B=g[R];u.mergedAttrs=Za(u.mergedAttrs,B.hostAttrs),_v(s,u,o,N,B),S1(N,B,v),null!==B.contentQueries&&(u.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(u.flags|=128);const ne=B.type.prototype;!D&&(ne.ngOnChanges||ne.ngOnInit||ne.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),D=!0),!E&&(ne.ngOnChanges||ne.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),E=!0),N++}b1(s,u)}v&&function WM(s,o,u){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=u[o[h+1]];if(null==g)throw new _e(-301,!1);d.push(o[h],g)}}}(u,d,v)}return u.mergedAttrs=Za(u.mergedAttrs,u.attrs),h}function D1(s,o,u,d,h,g){const v=g.hostBindings;if(v){let D=s.hostBindingOpCodes;null===D&&(D=s.hostBindingOpCodes=[]);const E=~o.index;(function E1(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(D)!=E&&D.push(E),D.push(d,h,v)}}function C1(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function I1(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function S1(s,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=s;Fr(o)&&(u[""]=s)}}function A1(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function _v(s,o,u,d,h){s.data[d]=h;const g=h.factory||(h.factory=Xi(h.type)),v=new Ks(g,Fr(h),gl);s.blueprint[d]=v,u[d]=v,D1(s,o,0,d,Gc(s,u,h.hostVars,Vt),h)}function YC(s,o,u){const d=Gr(o,s),h=zC(u),g=s[10],v=_u(s,Om(s,h,null,u.onPush?32:16,d,o,g,g.createRenderer(d,u),null,null,null));s[o.index]=v}function cp(s,o,u,d,h,g,v){if(null==g)s.removeAttribute(o,h,u);else{const D=null==v?de(g):v(g,d||"",h);s.setAttribute(o,h,D,u)}}function QC(s,o,u,d,h,g){const v=g[o];if(null!==v){const D=d.setInput;for(let E=0;E<v.length;){const N=v[E++],R=v[E++],B=v[E++];null!==D?d.setInput(u,B,N,R):u[R]=B}}}function N1(s,o){let u=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return u}function $c(s,o,u,d){return new Array(s,!0,!1,o,null,0,d,u,null,null)}function XC(s,o){const u=Yt(o,s);if(Do(u)){const d=u[1];48&u[2]?bh(d,u,d.template,u[8]):u[5]>0&&dp(u)}}function dp(s){for(let d=vm(s);null!==d;d=bm(d))for(let h=10;h<d.length;h++){const g=d[h];if(Do(g))if(512&g[2]){const v=g[1];bh(v,g,v.template,g[8])}else g[5]>0&&dp(g)}const u=s[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=Yt(u[d],s);Do(h)&&h[5]>0&&dp(h)}}function M1(s,o){const u=Yt(o,s),d=u[1];(function eI(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(d,u),m1(d,u,u[8])}function _u(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function vv(s){for(;s;){s[2]|=32;const o=hh(s);if(cf(s)&&!o)return s;s=o}return null}function hp(s,o,u,d=!0){const h=o[10];h.begin&&h.begin();try{bh(s,o,s.template,u)}catch(v){throw d&&tI(o,v),v}finally{h.end&&h.end()}}function qc(s,o,u){za(0),o(s,u)}function x1(s){return s[7]||(s[7]=[])}function bv(s){return s.cleanup||(s.cleanup=[])}function tI(s,o){const u=s[9],d=u?u.get(jf,null):null;d&&d.handleError(o)}function fp(s,o,u,d,h){for(let g=0;g<u.length;){const v=u[g++],D=u[g++],E=o[v],N=s.data[v];null!==N.setInput?N.setInput(E,h,d,D):E[D]=h}}function Ho(s,o,u){const d=_i(o,s);Ew(s[11],d,u)}function pp(s,o,u){let d=u?s.styles:null,h=u?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const D=o[v];"number"==typeof D?g=D:1==g?h=oe(h,D):2==g&&(d=oe(d,D+": "+o[++v]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function gp(s,o,u,d,h=!1){for(;null!==u;){const g=o[u.index];if(null!==g&&d.push(kn(g)),Hr(g))for(let D=10;D<g.length;D++){const E=g[D],N=E[1].firstChild;null!==N&&gp(E[1],E,N,d)}const v=u.type;if(8&v)gp(s,o,u.child,d);else if(32&v){const D=jy(u,o);let E;for(;E=D();)d.push(E)}else if(16&v){const D=Ky(o,u);if(Array.isArray(D))d.push(...D);else{const E=hh(o[16]);gp(E[1],E,D,d,!0)}}u=h?u.projectionNext:u.next}return d}class Go{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return gp(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Hr(o)){const u=o[8],d=u?u.indexOf(this):-1;d>-1&&(qy(o,d),Zn(u,d))}this._attachedToViewContainer=!1}$f(this._lView[1],this._lView)}onDestroy(o){mv(this._lView[1],this._lView,null,o)}markForCheck(){vv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){hp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Cw(s,o){Pc(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=o}}class nI extends Go{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;hp(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class km extends m{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Ft(o);return new mp(u,this.ngModule)}}function k1(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class rI{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,d){const h=this.injector.get(o,fu,d);return h!==fu||u===fu?h:this.parentInjector.get(o,u,d)}}class mp extends Uf{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function AC(s){return s.map(Bw).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return k1(this.componentDef.inputs)}get outputs(){return k1(this.componentDef.outputs)}create(o,u,d,h){let g=(h=h||this.ngModule)instanceof ao?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new rI(o,g):o,D=v.get(ze,null);if(null===D)throw new _e(407,!1);const E=v.get(_t,null),N=D.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",B=d?function v1(s,o,u){return s.selectRootElement(o,u===ft.ShadowDom)}(N,d,this.componentDef.encapsulation):wm(D.createRenderer(null,this.componentDef),R,function P1(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),ne=this.componentDef.onPush?288:272,ge=gv(0,null,null,1,0,null,null,null,null,null),we=Om(null,ge,null,ne,null,null,D,N,E,v,null);let qe,Ye;Zl(we);try{const ct=function aI(s,o,u,d,h,g){const v=u[1];u[22]=s;const E=sp(v,22,2,"#host",null),N=E.mergedAttrs=o.hostAttrs;null!==N&&(pp(E,N,!0),null!==s&&(oa(h,s,N),null!==E.classes&&Kf(h,s,E.classes),null!==E.styles&&Fc(h,s,E.styles)));const R=d.createRenderer(s,o),B=Om(u,zC(o),null,o.onPush?32:16,u[22],E,d,R,g||null,null,null);return v.firstCreatePass&&(Ys(No(E,u),v,o.type),I1(v,E),A1(E,u.length,1)),_u(u,B),u[22]=B}(B,this.componentDef,we,D,N);if(B)if(d)oa(N,B,["ng-version",us.full]);else{const{attrs:bt,classes:ke}=function NC(s){const o=[],u=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&u.push(g);else{if(!lo(h))break;h=g}d++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);bt&&oa(N,B,bt),ke&&ke.length>0&&Kf(N,B,ke.join(" "))}if(Ye=ta(ge,22),void 0!==u){const bt=Ye.projection=[];for(let ke=0;ke<this.ngContentSelectors.length;ke++){const Nt=u[ke];bt.push(null!=Nt?Array.from(Nt):null)}}qe=function F1(s,o,u,d){const h=u[1],g=function KC(s,o,u){const d=Pn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),_v(s,d,o,Gc(s,o,1,null),u),b1(s,d));const h=Is(o,s,d.directiveStart,d);zr(h,o);const g=Gr(d,o);return g&&zr(g,o),h}(h,u,o);if(s[8]=u[8]=g,null!==d)for(const D of d)D(g,o);if(o.contentQueries){const D=Pn();o.contentQueries(1,g,D.directiveStart)}const v=Pn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ni(v.index),D1(u[1],v,0,v.directiveStart,v.directiveEnd,o),C1(o,g)),g}(ct,this.componentDef,we,[lI]),m1(ge,we,null)}finally{To()}return new sI(this.componentType,qe,M(Ye,we),we,Ye)}}class sI extends class lm{}{constructor(o,u,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new nI(h),this.componentType=o}setInput(o,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const g=this._rootLView;fp(g[1],g,h,o,u),WC(g,this._tNode.index)}}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function lI(){const s=Pn();gc(Re()[1],s)}function Ev(s){let o=function Dv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;o;){let h;if(Fr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new _e(903,!1);h=o.\u0275dir}if(h){if(u){d.push(h);const v=s;v.inputs=V1(s.inputs),v.declaredInputs=V1(s.declaredInputs),v.outputs=V1(s.outputs);const D=h.hostBindings;D&&B1(s,D);const E=h.viewQuery,N=h.contentQueries;if(E&&QM(s,E),N&&JM(s,N),z(s.inputs,h.inputs),z(s.declaredInputs,h.declaredInputs),z(s.outputs,h.outputs),Fr(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const D=g[v];D&&D.ngInherit&&D(s),D===Ev&&(u=!1)}}o=Object.getPrototypeOf(o)}!function L1(s){let o=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Za(h.hostAttrs,u=Za(u,h.hostAttrs))}}(d)}function V1(s){return s===Ur?{}:s===It?[]:s}function QM(s,o){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function JM(s,o){const u=s.contentQueries;s.contentQueries=u?(d,h,g)=>{o(d,h,g),u(d,h,g)}:o}function B1(s,o){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}let Tv=null;function wh(){if(!Tv){const s=dn.Symbol;if(s&&s.iterator)Tv=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const d=o[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Tv=d)}}}return Tv}function yu(s){return!!H1(s)&&(Array.isArray(s)||!(s instanceof Map)&&wh()in s)}function H1(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function xs(s,o,u){return s[o]=u}function Ei(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function zc(s,o,u,d){const h=Ei(s,o,u);return Ei(s,o+1,d)||h}function vp(s,o,u,d){const h=Re();return Ei(h,Eo(),o)&&(Gt(),function jo(s,o,u,d,h,g){const v=Gr(s,o);cp(o[11],v,g,s.value,u,d,h)}(wn(),h,s,o,u,d)),vp}function Ti(s,o,u,d){return Ei(s,Eo(),u)?o+de(u)+d:Vt}function Dh(s,o,u,d,h,g,v,D,E,N){const B=function Rs(s,o,u,d,h,g){const v=zc(s,o,u,d);return zc(s,o+2,h,g)||v}(s,es(),u,h,v,E);return Cs(4),B?o+de(u)+d+de(h)+g+de(v)+D+de(E)+N:Vt}function Ne(s,o,u,d,h,g,v,D){const E=Re(),N=Gt(),R=s+22,B=N.firstCreatePass?function nO(s,o,u,d,h,g,v,D,E){const N=o.consts,R=sp(o,s,4,v||null,Bi(N,D));xm(o,u,R,Bi(N,E)),gc(o,R);const B=R.tViews=gv(2,R,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,N);return null!==o.queries&&(o.queries.template(o,R),B.queries=o.queries.embeddedTView(R)),R}(R,N,E,o,u,d,h,g,v):N.data[R];yi(B,!1);const ne=E[11].createComment("");Zf(N,E,ne,B),zr(ne,E),_u(E,E[R]=$c(ne,E,ne,B)),Qu(B)&&op(N,E,B),null!=v&&pv(E,B,D)}function Dp(s){return Es(function sc(){return St.lFrame.contextLView}(),22+s)}function an(s,o,u){const d=Re();return Ei(d,Eo(),o)&&co(Gt(),wn(),d,s,o,d[11],u,!1),an}function Ia(s,o,u,d,h){const v=h?"class":"style";fp(s,u,o.inputs[v],v,d)}function Pm(s,o,u,d){const h=Re(),g=Gt(),v=22+s,D=h[11],E=h[v]=wm(D,o,function Kl(){return St.lFrame.currentNamespace}()),N=g.firstCreatePass?function q1(s,o,u,d,h,g,v){const D=o.consts,N=sp(o,s,2,h,Bi(D,g));return xm(o,u,N,Bi(D,v)),null!==N.attrs&&pp(N,N.attrs,!1),null!==N.mergedAttrs&&pp(N,N.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,N),N}(v,g,h,0,o,u,d):g.data[v];yi(N,!0);const R=N.mergedAttrs;null!==R&&oa(D,E,R);const B=N.classes;null!==B&&Kf(D,E,B);const ne=N.styles;return null!==ne&&Fc(D,E,ne),64!=(64&N.flags)&&Zf(g,h,E,N),0===function Ul(){return St.lFrame.elementDepthCount}()&&zr(E,h),function jl(){St.lFrame.elementDepthCount++}(),Qu(N)&&(op(g,h,N),fv(g,N,h)),null!==d&&pv(h,N),Pm}function Fm(){let s=Pn();ja()?Ha():(s=s.parent,yi(s,!1));const o=s;!function nc(){St.lFrame.elementDepthCount--}();const u=Gt();return u.firstCreatePass&&(gc(u,s),Ol(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Jl(s){return 0!=(16&s.flags)}(o)&&Ia(u,o,Re(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Pd(s){return 0!=(32&s.flags)}(o)&&Ia(u,o,Re(),o.stylesWithoutHost,!1),Fm}function xr(s,o,u,d){return Pm(s,o,u,d),Fm(),xr}function Kc(s,o,u){const d=Re(),h=Gt(),g=s+22,v=h.firstCreatePass?function $o(s,o,u,d,h){const g=o.consts,v=Bi(g,d),D=sp(o,s,8,"ng-container",v);return null!==v&&pp(D,v,!0),xm(o,u,D,Bi(g,h)),null!==o.queries&&o.queries.elementStart(o,D),D}(g,h,d,o,u):h.data[g];yi(v,!0);const D=d[g]=d[11].createComment("");return Zf(h,d,D,v),zr(D,d),Qu(v)&&(op(h,d,v),fv(h,v,d)),null!=u&&pv(d,v),Kc}function Th(){let s=Pn();const o=Gt();return ja()?Ha():(s=s.parent,yi(s,!1)),o.firstCreatePass&&(gc(o,s),Ol(s)&&o.queries.elementEnd(s)),Th}function Z1(){return Re()}function Cv(s){return!!s&&"function"==typeof s.then}function Iv(s){return!!s&&"function"==typeof s.subscribe}const W1=Iv;function Sv(s,o,u,d){const h=Re(),g=Gt(),v=Pn();return function Ci(s,o,u,d,h,g,v,D){const E=Qu(d),R=s.firstCreatePass&&bv(s),B=o[8],ne=x1(o);let ge=!0;if(3&d.type||D){const Ye=Gr(d,o),ct=D?D(Ye):Ye,bt=ne.length,ke=D?cn=>D(kn(cn[d.index])):d.index;let Nt=null;if(!D&&E&&(Nt=function vI(s,o,u,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===u&&h[g+1]===d){const D=o[7],E=h[g+2];return D.length>E?D[E]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==Nt)(Nt.__ngLastListenerFn__||Nt).__ngNextListenerFn__=g,Nt.__ngLastListenerFn__=g,ge=!1;else{g=Av(d,o,B,g,!1);const cn=u.listen(ct,h,g);ne.push(g,cn),R&&R.push(h,ke,bt,bt+1)}}else g=Av(d,o,B,g,!1);const we=d.outputs;let qe;if(ge&&null!==we&&(qe=we[h])){const Ye=qe.length;if(Ye)for(let ct=0;ct<Ye;ct+=2){const yn=o[qe[ct]][qe[ct+1]].subscribe(g),Wi=ne.length;ne.push(g,yn),R&&R.push(h,d.index,Wi,-(Wi+1))}}}(g,h,h[11],v,s,o,0,d),Sv}function Ep(s,o,u,d){try{return!1!==u(d)}catch(h){return tI(s,h),!1}}function Av(s,o,u,d,h){return function g(v){if(v===Function)return d;vv(2&s.flags?Yt(s.index,o):o);let E=Ep(o,0,d,v),N=g.__ngNextListenerFn__;for(;N;)E=Ep(o,0,N,v)&&E,N=N.__ngNextListenerFn__;return h&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function Lm(s=1){return function Co(s){return(St.lFrame.contextLView=function Wl(s,o){for(;s>0;)o=o[15],s--;return o}(s,St.lFrame.contextLView))[8]}(s)}function Vm(s,o){let u=null;const d=function Cm(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(0==(1&u))return o[u+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?IC(s,g,!0):SC(d,g))return h}else u=h}return u}function Bm(s){const o=Re()[16][6];if(!o.projection){const d=o.projection=Xs(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?Vm(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function Um(s,o=0,u){const d=Re(),h=Gt(),g=sp(h,22+s,16,null,u||null);null===g.projection&&(g.projection=o),Ha(),64!=(64&g.flags)&&function kw(s,o,u){Wf(o[11],0,o,u,Sw(s,u,o),Dr(u.parent||o[6],u,o))}(h,d,g)}function Nv(s,o,u){return jm(s,"",o,"",u),Nv}function jm(s,o,u,d,h){const g=Re(),v=Ti(g,o,u,d);return v!==Vt&&co(Gt(),wn(),g,s,v,g[11],h,!1),jm}function xv(s,o,u,d,h){const g=s[u+1],v=null===o;let D=d?Un(g):mu(g),E=!1;for(;0!==D&&(!1===E||v);){const R=s[D+1];Rv(s[D],o)&&(E=!0,s[D+1]=d?ep(R):i1(R)),D=d?Un(R):mu(R)}E&&(s[u+1]=d?i1(g):ep(g))}function Rv(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&eo(s,o)>=0}const Rr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Hm(s){return s.substring(Rr.key,Rr.keyEnd)}function tD(s,o){const u=Rr.textEnd;return u===o?-1:(o=Rr.keyEnd=function rD(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,Rr.key=o,u),bu(s,o,u))}function bu(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function Ih(s,o,u){return fo(s,o,u,!1),Ih}function Ip(s,o){return fo(s,o,null,!0),Ip}function Lv(s){!function cs(s,o,u,d){const h=Gt(),g=Cs(2);h.firstUpdatePass&&aD(h,null,g,d);const v=Re();if(u!==Vt&&Ei(v,g,u)){const D=h.data[lr()];if(uD(D,d)&&!oD(h,g)){let E=d?D.classesWithoutHost:D.stylesWithoutHost;null!==E&&(u=oe(E,u||"")),Ia(h,D,v,u,d)}else!function $m(s,o,u,d,h,g,v,D){h===Vt&&(h=It);let E=0,N=0,R=0<h.length?h[0]:null,B=0<g.length?g[0]:null;for(;null!==R||null!==B;){const ne=E<h.length?h[E+1]:void 0,ge=N<g.length?g[N+1]:void 0;let qe,we=null;R===B?(E+=2,N+=2,ne!==ge&&(we=B,qe=ge)):null===B||null!==R&&R<B?(E+=2,we=R):(N+=2,we=B,qe=ge),null!==we&&Bv(s,o,u,d,we,qe,v,D),R=E<h.length?h[E]:null,B=N<g.length?g[N]:null}}(h,D,v,v[11],v[g+1],v[g+1]=function SI(s,o,u){if(null==u||""===u)return It;const d=[],h=$i(u);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,u),d,g)}}(st,Sa,s,!0)}function Sa(s,o){for(let u=function Cp(s){return function nD(s){Rr.key=0,Rr.keyEnd=0,Rr.value=0,Rr.valueEnd=0,Rr.textEnd=s.length}(s),tD(s,bu(s,0,Rr.textEnd))}(o);u>=0;u=tD(o,u))st(s,Hm(o),!0)}function fo(s,o,u,d){const h=Re(),g=Gt(),v=Cs(2);g.firstUpdatePass&&aD(g,s,v,d),o!==Vt&&Ei(h,v,o)&&Bv(g,g.data[lr()],h,h[11],s,h[v+1]=function AI(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=W($i(s)))),s}(o,u),d,v)}function oD(s,o){return o>=s.expandoStartIndex}function aD(s,o,u,d){const h=s.data;if(null===h[u+1]){const g=h[lr()],v=oD(s,u);uD(g,d)&&null===o&&!v&&(o=!1),o=function EI(s,o,u,d){const h=qa(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=Sp(u=Vv(null,s,o,u,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(u=Vv(h,s,o,u,d),null===g){let E=function TI(s,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==mu(d))return s[Un(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=Vv(null,s,o,E[1],d),E=Sp(E,o.attrs,d),function CI(s,o,u,d){s[Un(u?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else g=function II(s,o,u){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=Sp(d,s[g].hostAttrs,u);return Sp(d,o.attrs,u)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),u}(h,g,o,d),function bI(s,o,u,d,h,g){let v=g?o.classBindings:o.styleBindings,D=Un(v),E=mu(v);s[d]=u;let R,N=!1;if(Array.isArray(u)){const B=u;R=B[1],(null===R||eo(B,R)>0)&&(N=!0)}else R=u;if(h)if(0!==E){const ne=Un(s[D+1]);s[d+1]=Xf(ne,D),0!==ne&&(s[ne+1]=gh(s[ne+1],d)),s[D+1]=function r1(s,o){return 131071&s|o<<17}(s[D+1],d)}else s[d+1]=Xf(D,0),0!==D&&(s[D+1]=gh(s[D+1],d)),D=d;else s[d+1]=Xf(E,0),0===D?D=d:s[E+1]=gh(s[E+1],d),E=d;N&&(s[d+1]=i1(s[d+1])),xv(s,R,d,!0),xv(s,R,d,!1),function wI(s,o,u,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&eo(g,o)>=0&&(u[d+1]=ep(u[d+1]))}(o,R,s,d,g),v=Xf(D,E),g?o.classBindings=v:o.styleBindings=v}(h,g,o,u,v,d)}}function Vv(s,o,u,d,h){let g=null;const v=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<v&&(g=o[D],d=Sp(d,g.hostAttrs,h),g!==s);)D++;return null!==s&&(u.directiveStylingLast=D),d}function Sp(s,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),st(s,v,!!u||o[++g]))}return void 0===s?null:s}function Bv(s,o,u,d,h,g,v,D){if(!(3&o.type))return;const E=s.data,N=E[D+1];Sh(function mh(s){return 1==(1&s)}(N)?Uv(E,o,u,h,mu(N),v):void 0)||(Sh(g)||function ml(s){return 2==(2&s)}(N)&&(g=Uv(E,null,u,h,D,v)),function Pw(s,o,u,d,h){if(o)h?s.addClass(u,d):s.removeClass(u,d);else{let g=-1===d.indexOf("-")?void 0:wa.DashCase;null==h?s.removeStyle(u,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=wa.Important),s.setStyle(u,d,h,g))}}(d,v,_i(lr(),u),h,g))}function Uv(s,o,u,d,h,g){const v=null===o;let D;for(;h>0;){const E=s[h],N=Array.isArray(E),R=N?E[1]:E,B=null===R;let ne=u[h+1];ne===Vt&&(ne=B?It:void 0);let ge=B?il(ne,d):R===d?ne:void 0;if(N&&!Sh(ge)&&(ge=il(E,d)),Sh(ge)&&(D=ge,v))return D;const we=s[h+1];h=v?Un(we):mu(we)}if(null!==o){let E=g?o.residualClasses:o.residualStyles;null!=E&&(D=il(E,d))}return D}function Sh(s){return void 0!==s}function uD(s,o){return 0!=(s.flags&(o?16:32))}function cD(s,o=""){const u=Re(),d=Gt(),h=s+22,g=d.firstCreatePass?sp(d,h,1,o,null):d.data[h],v=u[h]=Gy(u[11],o);Zf(d,u,v,g),yi(g,!1)}function qm(s){return Ap("",s,""),qm}function Ap(s,o,u){const d=Re(),h=Ti(d,s,o,u);return h!==Vt&&Ho(d,lr(),h),Ap}function zm(s,o,u,d,h,g,v,D,E){const N=Re(),R=Dh(N,s,o,u,d,h,g,v,D,E);return R!==Vt&&Ho(N,lr(),R),zm}function Wm(s,o,u){const d=Re();return Ei(d,Eo(),o)&&co(Gt(),wn(),d,s,o,d[11],u,!0),Wm}function Km(s,o,u){const d=Re();if(Ei(d,Eo(),o)){const g=Gt(),v=wn();co(g,v,d,s,o,function R1(s,o,u){return(null===s||Fr(s))&&(u=function kl(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[o.index])),u[11]}(qa(g.data),v,d),u,!0)}return Km}const wu=void 0;var Ym=["en",[["a","p"],["AM","PM"],wu],[["AM","PM"],wu,wu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wu,"{1} 'at' {0}",wu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mD(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Ah={};function Np(s){const o=function GI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=yD(o);if(u)return u;const d=o.split("-")[0];if(u=yD(d),u)return u;if("en"===d)return Ym;throw new _e(701,!1)}function Mp(s){return Np(s)[Tt.PluralCase]}function yD(s){return s in Ah||(Ah[s]=dn.ng&&dn.ng.common&&dn.ng.common.locales&&dn.ng.common.locales[s]),Ah[s]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const yl=["zero","one","two","few","many"],Du="en-US",Yc={marker:"element"},Qc={marker:"ICU"};var Rn=(()=>((Rn=Rn||{})[Rn.SHIFT=2]="SHIFT",Rn[Rn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Rn[Rn.COMMENT=2]="COMMENT",Rn))();let Qm=Du;function vD(s){(function jt(s,o){null==s&&Qe(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Qm=s.toLowerCase().replace(/_/g,"-"))}function bD(s,o,u){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?xw(s,0,u):kn(u[h])}function li(s,o,u,d,h){const g=o.insertBeforeIndex;if(Array.isArray(g)){let v=d,D=null;if(3&o.type||(D=v,v=h),null!==v&&0==(2&o.flags))for(let E=1;E<g.length;E++)Da(s,v,u[g[E]],D,!1)}}function Op(s,o){if(s.push(o),s.length>1)for(let u=s.length-2;u>=0;u--){const d=s[u];Zr(d)||Eu(d,o)&&null===qI(d)&&zI(d,o.index)}}function Zr(s){return!(64&s.type)}function Eu(s,o){return Zr(o)||s.index>o.index}function qI(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function zI(s,o){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=o:(zf(bD,li),s.insertBeforeIndex=o)}function Nh(s,o){const u=s.data[o];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function Ii(s,o,u){const d=hv(s,u,64,null,null);return Op(o,d),d}function Jm(s,o){const u=o[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function xp(s){return s>>>17}function Yv(s){return(131070&s)>>>1}let ds=0,Jc=0;function Qv(s,o,u,d){const h=u[11];let v,g=null;for(let D=0;D<o.length;D++){const E=o[D];if("string"==typeof E){const N=o[++D];null===u[N]&&(u[N]=Gy(h,E))}else if("number"==typeof E)switch(1&E){case 0:const N=xp(E);let R,B;if(null===g&&(g=N,v=Em(h,d)),N===g?(R=d,B=v):(R=null,B=kn(u[N])),null!==B){const qe=Yv(E);Da(h,B,u[qe],R,!1);const ct=Nh(s,qe);if(null!==ct&&"object"==typeof ct){const bt=Jm(ct,u);null!==bt&&Qv(s,ct.create[bt],u,u[ct.anchorIdx])}}break;case 1:const ge=o[++D],we=o[++D];cp(h,_i(E>>>1,u),null,null,ge,we,null)}else switch(E){case Qc:const N=o[++D],R=o[++D];null===u[R]&&zr(u[R]=mC(h,N),u);break;case Yc:const B=o[++D],ne=o[++D];null===u[ne]&&zr(u[ne]=wm(h,B,null),u)}}}function t_(s,o,u,d,h){for(let g=0;g<u.length;g++){const v=u[g],D=u[++g];if(v&h){let E="";for(let N=g+1;N<=g+D;N++){const R=u[N];if("string"==typeof R)E+=R;else if("number"==typeof R)if(R<0)E+=de(o[d-R]);else{const B=R>>>2;switch(3&R){case 1:const ne=u[++N],ge=u[++N],we=s.data[B];"string"==typeof we?cp(o[11],o[B],null,we,ne,E,ge):co(s,we,o,ne,E,o[11],ge,!1);break;case 0:const qe=o[B];null!==qe&&Ew(o[11],qe,E);break;case 2:KI(s,Nh(s,B),o,E);break;case 3:Jv(s,Nh(s,B),d,o)}}}}else{const E=u[g+1];if(E>0&&3==(3&E)){const R=Nh(s,E>>>2);o[R.currentCaseLViewIndex]<0&&Jv(s,R,d,o)}}g+=D}}function Jv(s,o,u,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let g=ds;h<0&&(h=d[o.currentCaseLViewIndex]=~h,g=-1),t_(s,d,o.update[h],u,g)}}function KI(s,o,u,d){const h=function n_(s,o){let u=s.cases.indexOf(o);if(-1===u)switch(s.type){case 1:{const d=function yt(s,o){const u=Mp(o)(parseInt(s,10)),d=yl[u];return void 0!==d?d:"other"}(o,function $I(){return Qm}());u=s.cases.indexOf(d),-1===u&&"other"!==d&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(o,d);if(Jm(o,u)!==h&&(Xv(s,o,u),u[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=u[o.anchorIdx];v&&Qv(s,o.create[h],u,v)}}function Xv(s,o,u){let d=Jm(o,u);if(null!==d){const h=o.remove[d];for(let g=0;g<h.length;g++){const v=h[g];if(v>0){const D=_i(v,u);null!==D&&bC(u[11],D)}else Xv(s,Nh(s,~v),u)}}}function e0(){const s=[];let u,d,o=-1;function g(D,E){o=0;const N=Jm(D,E);d=null!==N?D.remove[N]:It}function v(){if(o<d.length){const D=d[o++];return D>0?u[D]:(s.push(o,d),g(u[1].data[~D],u),v())}return 0===s.length?null:(d=s.pop(),o=s.pop(),v())}return function h(D,E){for(u=E;s.length;)s.pop();return g(D.value,E),v}}const Rp=/\ufffd(\d+):?\d*\ufffd/gi,kp=/\ufffd(\d+)\ufffd/,TD=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,QI=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,JI=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,i_=/\uE500/g;function n0(s,o,u,d,h,g,v){const D=Gc(s,d,1,null);let E=D<<Rn.SHIFT,N=na();o===N&&(N=null),null===N&&(E|=Rn.APPEND_EAGERLY),v&&(E|=Rn.COMMENT,function pC(s){void 0===Uy&&(Uy=s())}(e0)),h.push(E,null===g?"":g);const R=hv(s,D,v?32:1,null===g?"":g,null);Op(u,R);const B=R.index;return yi(R,!1),null!==N&&o!==N&&function wD(s,o){let u=s.insertBeforeIndex;null===u?(zf(bD,li),u=s.insertBeforeIndex=[null,o]):(function pe(s,o,u){s!=o&&Qe(u,s,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(N,B),R}function ID(s,o,u,d,h,g,v){const D=v.match(Rp),E=n0(s,o,u,g,d,D?null:v,!1);D&&Xc(h,v,E.index,null,0,null)}function Xc(s,o,u,d,h,g){const v=s.length,D=v+1;s.push(null,null);const E=v+2,N=o.split(Rp);let R=0;for(let B=0;B<N.length;B++){const ne=N[B];if(1&B){const ge=h+parseInt(ne,10);s.push(-1-ge),R|=o_(ge)}else""!==ne&&s.push(ne)}return s.push(u<<2|(d?1:0)),d&&s.push(d,g),s[v]=R,s[D]=s.length-E,R}function o_(s){return 1<<Math.min(s,31)}function o0(s){let o,g,u="",d=0,h=!1;for(;null!==(o=QI.exec(s));)h?o[0]===`\ufffd/*${g}\ufffd`&&(d=o.index,h=!1):(u+=s.substring(d,o.index+o[0].length),g=o[1],h=!0);return u+=s.slice(d),u}function AD(s,o,u,d,h,g){let v=0;const D={type:h.type,currentCaseLViewIndex:Gc(s,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function c0(s,o,u){s.push(o_(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,h,g),function Kv(s,o,u){const d=s.data[o];null===d?s.data[o]=u:d.value=u}(s,g,D);const E=h.values;for(let N=0;N<E.length;N++){const R=E[N],B=[];for(let ne=0;ne<R.length;ne++){const ge=R[ne];if("string"!=typeof ge){const we=B.push(ge)-1;R[ne]=`\x3c!--\ufffd${we}\ufffd--\x3e`}}v=a0(s,D,o,u,d,h.cases[N],R.join(""),B)|v}v&&function d0(s,o,u){s.push(o,1,u<<2|3)}(u,v,g)}function ND(s){const o=[],u=[];let d=1,h=0;const g=a_(s=s.replace(TD,function(v,D,E){return d="select"===E?0:1,h=parseInt(D.slice(1),10),""}));for(let v=0;v<g.length;){let D=g[v++].trim();1===d&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&o.push(D);const E=a_(g[v++]);o.length>u.length&&u.push(E)}return{type:d,mainBinding:h,cases:o,values:u}}function a_(s){if(!s)return[];let o=0;const u=[],d=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(s);){const D=g.index;if("}"==g[0]){if(u.pop(),0==u.length){const E=s.substring(o,D);TD.test(E)?d.push(ND(E)):d.push(E),o=D+1}}else{if(0==u.length){const E=s.substring(o,D);d.push(E),o=D+1}u.push("{")}}const v=s.substring(o);return d.push(v),d}function a0(s,o,u,d,h,g,v,D){const E=[],N=[],R=[];o.cases.push(g),o.create.push(E),o.remove.push(N),o.update.push(R);const ne=ya(Jg()).getInertBodyElement(v),ge=hl(ne)||ne;return ge?l0(s,o,u,d,E,N,R,ge,h,D,0):0}function l0(s,o,u,d,h,g,v,D,E,N,R){let B=0,ne=D.firstChild;for(;ne;){const ge=Gc(s,u,1,null);switch(ne.nodeType){case Node.ELEMENT_NODE:const we=ne,qe=we.tagName.toLowerCase();if(ul.hasOwnProperty(qe)){kr(h,Yc,qe,E,ge),s.data[ge]=qe;const ke=we.attributes;for(let Nt=0;Nt<ke.length;Nt++){const cn=ke.item(Nt),yn=cn.name.toLowerCase();cn.value.match(Rp)?Sc.hasOwnProperty(yn)&&Xc(v,cn.value,ge,cn.name,0,cl[yn]?va:null):ui(h,ge,cn)}B=l0(s,o,u,d,h,g,v,ne,ge,N,R+1)|B,MD(g,ge,R)}break;case Node.TEXT_NODE:const Ye=ne.textContent||"",ct=Ye.match(Rp);kr(h,null,ct?"":Ye,E,ge),MD(g,ge,R),ct&&(B=Xc(v,Ye,ge,null,0,null)|B);break;case Node.COMMENT_NODE:const bt=kp.exec(ne.textContent||"");if(bt){const Nt=N[parseInt(bt[1],10)];kr(h,Qc,"",E,ge),AD(s,u,d,E,Nt,ge),u0(g,ge,R)}}ne=ne.nextSibling}return B}function MD(s,o,u){0===u&&s.push(o)}function u0(s,o,u){0===u&&(s.push(~o),s.push(o))}function kr(s,o,u,d,h){null!==o&&s.push(o),s.push(u,h,function e_(s,o,u){return s|o<<17|u<<1}(0,d,h))}function ui(s,o,u){s.push(o<<1|1,u.name,u.value)}function RD(s,o,u=-1){const d=Gt(),h=Re(),g=22+s,v=Bi(d.consts,o),D=na();d.firstCreatePass&&function CD(s,o,u,d,h,g){const v=na(),D=[],E=[],N=[[]];h=function SD(s,o){if(function s0(s){return-1===s}(o))return o0(s);{const u=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return o0(s.substring(u,d))}}(h,g);const R=function t0(s){return s.replace(i_," ")}(h).split(JI);for(let B=0;B<R.length;B++){let ne=R[B];if(0==(1&B)){const ge=a_(ne);for(let we=0;we<ge.length;we++){let qe=ge[we];if(0==(1&we)){const Ye=qe;""!==Ye&&ID(s,v,N[0],D,E,u,Ye)}else{const Ye=qe;if("object"!=typeof Ye)throw new Error(`Unable to parse ICU expression in "${h}" message.`);AD(s,u,E,o,Ye,n0(s,v,N[0],u,D,"",!0).index)}}}else{const ge=47===ne.charCodeAt(0),qe=(ne.charCodeAt(ge?1:0),22+Number.parseInt(ne.substring(ge?2:1)));if(ge)N.shift(),yi(na(),!1);else{const Ye=Ii(s,N[0],qe);N.unshift([]),yi(Ye,!0)}}}s.data[d]={create:D,update:E}}(d,null===D?0:D.index,h,g,v,u);const E=d.data[g],R=Aw(d,D===h[6]?null:D,h);(function Mh(s,o,u,d){const h=s[11];for(let g=0;g<o.length;g++){const v=o[g++],D=o[g],E=(v&Rn.COMMENT)===Rn.COMMENT,N=(v&Rn.APPEND_EAGERLY)===Rn.APPEND_EAGERLY,R=v>>>Rn.SHIFT;let B=s[R];null===B&&(B=s[R]=E?h.createComment(D):Gy(h,D)),N&&null!==u&&Da(h,u,B,d,!1)}})(h,E.create,R,D&&8&D.type?h[D.index]:null),$a(!0)}function p0(s,o,u){RD(s,o,u),function l_(){$a(!1)}()}function Oh(s){return function ZI(s){s&&(ds|=1<<Math.min(Jc,31)),Jc++}(Ei(Re(),Eo(),s)),Oh}function u_(s){!function WI(s,o,u){if(Jc>0){const d=s.data[u];t_(s,o,Array.isArray(d)?d:d.update,es()-Jc-1,ds)}ds=0,Jc=0}(Gt(),Re(),s+22)}function m0(s,o,u,d,h){if(s=K(s),Array.isArray(s))for(let g=0;g<s.length;g++)m0(s[g],o,u,d,h);else{const g=Gt(),v=Re();let D=ls(s)?s:K(s.provide),E=sh(s);const N=Pn(),R=1048575&N.providerIndexes,B=N.directiveStart,ne=N.providerIndexes>>20;if(ls(s)||!s.multi){const ge=new Ks(E,h,gl),we=c_(D,o,h?R:R+ne,B);-1===we?(Ys(No(N,v),g,D),ed(g,s,o.length),o.push(D),N.directiveStart++,N.directiveEnd++,h&&(N.providerIndexes+=1048576),u.push(ge),v.push(ge)):(u[we]=ge,v[we]=ge)}else{const ge=c_(D,o,R+ne,B),we=c_(D,o,R,R+ne),qe=ge>=0&&u[ge],Ye=we>=0&&u[we];if(h&&!Ye||!h&&!qe){Ys(No(N,v),g,D);const ct=function iS(s,o,u,d,h){const g=new Ks(s,u,gl);return g.multi=[],g.index=o,g.componentProviders=0,_0(g,h,d&&!u),g}(h?d_:PD,u.length,h,d,E);!h&&Ye&&(u[we].providerFactory=ct),ed(g,s,o.length,0),o.push(D),N.directiveStart++,N.directiveEnd++,h&&(N.providerIndexes+=1048576),u.push(ct),v.push(ct)}else ed(g,s,ge>-1?ge:we,_0(u[h?we:ge],E,!h&&d));!h&&d&&Ye&&u[we].componentProviders++}}}function ed(s,o,u,d){const h=ls(o),g=function Vf(s){return!!s.useClass}(o);if(h||g){const E=(g?K(o.useClass):o).prototype.ngOnDestroy;if(E){const N=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=N.indexOf(u);-1===R?N.push(u,[d,E]):N[R+1].push(d,E)}else N.push(u,E)}}}function _0(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function c_(s,o,u,d){for(let h=u;h<d;h++)if(o[h]===s)return h;return-1}function PD(s,o,u,d){return y0(this.multi,[])}function d_(s,o,u,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=Is(u,u[1],this.providerFactory.index,d);g=D.slice(0,v),y0(h,g);for(let E=v;E<D.length;E++)g.push(D[E])}else g=[],y0(h,g);return g}function y0(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function td(s,o=[]){return u=>{u.providersResolver=(d,h)=>function kD(s,o,u){const d=Gt();if(d.firstCreatePass){const h=Fr(s);m0(u,d.data,d.blueprint,h,!0),m0(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class xh{}class FD{}function nd(s,o){return new Fp(s,o??null)}class Fp extends xh{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new km(this);const d=jr(o);this._bootstrapComponents=pl(d.bootstrap),this._r3Injector=qw(o,u,[{provide:xh,useValue:this},{provide:m,useValue:this.componentFactoryResolver}],W(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class h_ extends FD{constructor(o){super(),this.moduleType=o}create(o){return new Fp(this.moduleType,o)}}class Lp extends xh{constructor(o,u,d){super(),this.componentFactoryResolver=new km(this),this.instance=null;const h=new rh([...o,{provide:xh,useValue:this},{provide:m,useValue:this.componentFactoryResolver}],u||nh(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function f_(s,o,u=null){return new Lp(s,o,u).injector}let zi=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=Jd(0,u.type),h=d.length>0?f_([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Xt({token:s,providedIn:"environment",factory:()=>new s($t(ao))}),s})();function v0(s){s.getStandaloneInjector=o=>o.get(zi).getOrCreateStandaloneInjector(s)}function S0(s,o,u,d){return N0(Re(),Fn(),s,o,u,d)}function HD(s,o,u,d,h){return function M0(s,o,u,d,h,g,v){const D=o+u;return zc(s,D,h,g)?xs(s,D+2,v?d.call(v,h,g):d(h,g)):jp(s,D+2)}(Re(),Fn(),s,o,u,d,h)}function kh(s,o,u,d,h,g){return function $D(s,o,u,d,h,g,v,D){const E=o+u;return function yp(s,o,u,d,h){const g=zc(s,o,u,d);return Ei(s,o+2,h)||g}(s,E,h,g,v)?xs(s,E+3,D?d.call(D,h,g,v):d(h,g,v)):jp(s,E+3)}(Re(),Fn(),s,o,u,d,h,g)}function jp(s,o){const u=s[o];return u===Vt?void 0:u}function N0(s,o,u,d,h,g){const v=o+u;return Ei(s,v,h)?xs(s,v+1,g?d.call(g,h):d(h)):jp(s,v+1)}function Hp(s,o){const u=Gt();let d;const h=s+22;u.firstCreatePass?(d=function __(s,o){if(o)for(let u=o.length-1;u>=0;u--){const d=o[u];if(s===d.name)return d}}(o,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const g=d.factory||(d.factory=Xi(d.type)),v=$n(gl);try{const D=Ya(!1),E=g();return Ya(D),function Wc(s,o,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=d}(u,Re(),h,E),E}finally{$n(v)}}function jn(s,o,u){const d=s+22,h=Re(),g=Es(h,d);return function Ph(s,o){return s[1].data[o].pure}(h,d)?N0(h,Fn(),o,g.transform,u,g):g.transform(u)}function O0(s){return o=>{setTimeout(s,void 0,o)}}const Na=class cS extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){let h=o,g=u||(()=>null),v=d;if(o&&"object"==typeof o){const E=o;h=E.next?.bind(E),g=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(g=O0(g),h&&(h=O0(h)),v&&(v=O0(v)));const D=super.subscribe({next:h,error:g,complete:v});return o instanceof L.w0&&o.add(D),D}};function dS(){return this._results[wh()]()}class sd{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=wh(),d=sd.prototype;d[u]||(d[u]=dS)}get changes(){return this._changes||(this._changes=new Na)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=on(o);(this._changesDetected=!function en(s,o,u){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let po=(()=>{class s{}return s.__NG_ELEMENT_ID__=ZD,s})();const qD=po,zD=class extends qD{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(o,u){const d=this._declarationTContainer.tViews,h=Om(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),m1(d,h,o),new Go(h)}};function ZD(){return bl(Pn(),Re())}function bl(s,o){return 4&s.type?new zD(o,s,M(s,o)):null}let v_=(()=>{class s{}return s.__NG_ELEMENT_ID__=hS,s})();function hS(){return w_(Pn(),Re())}const WD=v_,KD=class extends WD{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return M(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){const o=nu(this._hostTNode,this._hostLView);if(Ld(o)){const u=Ka(o,this._hostLView),d=br(o);return new Oo(u[1].data[d+8],u)}return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=x0(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=o.createEmbeddedView(u||{},g);return this.insert(v,h),v}createComponent(o,u,d,h,g){const v=o&&!function ii(s){return"function"==typeof s}(o);let D;if(v)D=u;else{const B=u||{};D=B.index,d=B.injector,h=B.projectableNodes,g=B.environmentInjector||B.ngModuleRef}const E=v?o:new mp(Ft(o)),N=d||this.parentInjector;if(!g&&null==E.ngModule){const ne=(v?N:this.parentInjector).get(ao,null);ne&&(g=ne)}const R=E.create(N,h,void 0,g);return this.insert(R.hostView,D),R}insert(o,u){const d=o._lView,h=d[1];if(function Ll(s){return Hr(s[3])}(d)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const B=d[3],ne=new KD(B,B[6],B[3]);ne.detach(ne.indexOf(o))}}const g=this._adjustIndex(u),v=this._lContainer;!function _C(s,o,u,d){const h=10+d,g=u.length;d>0&&(u[h-1][4]=o),d<g-10?(o[4]=u[h],nl(u,10+d,o)):(u.push(o),o[4]=null),o[3]=u;const v=o[17];null!==v&&u!==v&&function yC(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(v,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=64}(h,d,v,g);const D=Rw(g,v),E=d[11],N=Em(E,v[7]);return null!==N&&function Tw(s,o,u,d,h,g){d[0]=h,d[6]=o,Pc(s,d,u,1,h,g)}(h,v[6],E,d,N,D),o.attachToViewContainerRef(),nl(b_(v),g,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=x0(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=qy(this._lContainer,u);d&&(Zn(b_(this._lContainer),u),$f(d[1],d))}detach(o){const u=this._adjustIndex(o,-1),d=qy(this._lContainer,u);return d&&null!=Zn(b_(this._lContainer),u)?new Go(d):null}_adjustIndex(o,u=0){return o??this.length+u}};function x0(s){return s[8]}function b_(s){return s[8]||(s[8]=[])}function w_(s,o){let u;const d=o[s.index];if(Hr(d))u=d;else{let h;if(8&s.type)h=kn(d);else{const g=o[11];h=g.createComment("");const v=Gr(s,o);Da(g,Em(g,v),h,function Ow(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=u=$c(d,o,h,s),_u(o,u)}return new KD(u,s,o)}class qp{constructor(o){this.queryList=o,this.matches=null}clone(){return new qp(this.queryList)}setDirty(){this.queryList.setDirty()}}class k0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let g=0;g<d;g++){const v=u.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new k0(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==B0(o,u).matches&&this.queries[u].setDirty()}}class QD{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class P0{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==u?u.push(g):u=[g])}return null!==u?new P0(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Fh{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Fh(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,u,zp(u,g)),this.matchTNodeWithReadOption(o,u,aa(u,o,g,!1,!1))}else d===po?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,aa(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===k||h===v_||h===po&&4&u.type)this.addMatch(u.index,-2);else{const g=aa(u,o,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function zp(s,o){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function F0(s,o,u,d){return-1===u?function D_(s,o){return 11&s.type?M(s,o):4&s.type?bl(s,o):null}(o,s):-2===u?function JD(s,o,u){return u===k?M(o,s):u===po?bl(o,s):u===v_?w_(o,s):void 0}(s,o,d):Is(s,s[1],u,o)}function Lh(s,o,u,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,v=u.matches,D=[];for(let E=0;E<v.length;E+=2){const N=v[E];D.push(N<0?null:F0(o,g[N],v[E+1],u.metadata.read))}h.matches=D}return h.matches}function od(s,o,u,d){const h=s.queries.getByIndex(u),g=h.matches;if(null!==g){const v=Lh(s,o,h,u);for(let D=0;D<g.length;D+=2){const E=g[D];if(E>0)d.push(v[D/2]);else{const N=g[D+1],R=o[-E];for(let B=10;B<R.length;B++){const ne=R[B];ne[17]===ne[3]&&od(ne[1],ne,N,d)}if(null!==R[9]){const B=R[9];for(let ne=0;ne<B.length;ne++){const ge=B[ne];od(ge[1],ge,N,d)}}}}}return d}function XD(s){const o=Re(),u=Gt(),d=lc();za(d+1);const h=B0(u,d);if(s.dirty&&function Fl(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?od(u,o,d,[]):Lh(u,o,h,d);s.reset(g,se),s.notifyOnChanges()}return!0}return!1}function Er(s,o,u){const d=Gt();d.firstCreatePass&&(V0(d,new QD(s,o,u),-1),2==(2&o)&&(d.staticViewQueries=!0)),tE(d,Re(),o)}function L0(s,o,u,d){const h=Gt();if(h.firstCreatePass){const g=Pn();V0(h,new QD(o,u,d),g.index),function nE(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}tE(h,Re(),u)}function eE(){return function pS(s,o){return s[19].queries[o].queryList}(Re(),lc())}function tE(s,o,u){const d=new sd(4==(4&u));mv(s,o,d,d.destroy),null===o[19]&&(o[19]=new k0),o[19].queries.push(new qp(d))}function V0(s,o,u){null===s.queries&&(s.queries=new P0),s.queries.track(new Fh(o,u))}function B0(s,o){return s.queries.getByIndex(o)}function Zp(s,o){return bl(s,o)}function A_(...s){}const vE=new _n("Application Initializer");let N_=(()=>{class s{constructor(u){this.appInits=u,this.resolve=A_,this.reject=A_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Cv(g))u.push(g);else if(W1(g)){const v=new Promise((D,E)=>{g.subscribe({complete:D,error:E})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)($t(vE,8))},s.\u0275prov=Xt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const q0=new _n("AppId",{providedIn:"root",factory:function bE(){return`${z0()}${z0()}${z0()}`}});function z0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Z0=new _n("Platform Initializer"),Pt=new _n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),cd=new _n("appBootstrapListener"),Hn=new _n("AnimationModuleType");let At=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Xt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Qt=new _n("LocaleId",{providedIn:"root",factory:()=>C(Qt,it.Optional|it.SkipSelf)||function Xp(){return typeof $localize<"u"&&$localize.locale||Du}()}),ES=new _n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class K0{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let dd=(()=>{class s{compileModuleSync(u){return new h_(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),g=pl(jr(u).declarations).reduce((v,D)=>{const E=Ft(D);return E&&v.push(new mp(E)),v},[]);return new K0(d,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Xt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const J0=(()=>Promise.resolve(0))();function M_(s){typeof Zone>"u"?J0.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Vr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Na(!1),this.onMicrotaskEmpty=new Na(!1),this.onStable=new Na(!1),this.onError=new Na(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function wE(){let s=dn.requestAnimationFrame,o=dn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function qo(s){const o=()=>{!function O_(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(dn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,eb(s),s.isCheckStableRunning=!0,ve(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),eb(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,g,v,D)=>{try{return jh(s),u.invokeTask(h,g,v,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Dl(s)}},onInvoke:(u,d,h,g,v,D,E)=>{try{return jh(s),u.invoke(h,g,v,D,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),Dl(s)}},onHasTask:(u,d,h,g)=>{u.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,eb(s),ve(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,d,h,g)=>(u.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vr.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(Vr.isInAngularZone())throw new _e(909,!1)}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,X0,A_,A_);try{return g.runTask(v,u,d)}finally{g.cancelTask(v)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const X0={};function ve(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function eb(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function jh(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Dl(s){s._nesting--,ve(s)}class SS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Na,this.onMicrotaskEmpty=new Na,this.onStable=new Na,this.onError=new Na}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}const Su=new _n(""),tb=new _n("");let Ai,nb=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ai||(function AS(s){Ai=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vr.assertNotInAngularZone(),M_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())M_(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)($t(Vr),$t(DE),$t(tb))},s.\u0275prov=Xt({token:s,factory:s.\u0275fac}),s})(),DE=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return Ai?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Xt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),El=null;const Au=new _n("AllowMultipleToken"),x_=new _n("PlatformDestroyListeners");class EE{constructor(o,u){this.name=o,this.token=u}}function CE(s,o,u=[]){const d=`Platform: ${o}`,h=new _n(d);return(g=[])=>{let v=eg();if(!v||v.injector.get(Au,!1)){const D=[...u,...g,{provide:h,useValue:!0}];s?s(D):function Hh(s){if(El&&!El.get(Au,!1))throw new _e(400,!1);El=s;const o=s.get(rb);(function TE(s){const o=s.get(Z0,null);o&&o.forEach(u=>u())})(s)}(function tr(s=[],o){return Lc.create({name:o,providers:[{provide:eh,useValue:"platform"},{provide:x_,useValue:new Set([()=>El=null])},...s]})}(D,d))}return function Nu(s){const o=eg();if(!o)throw new _e(401,!1);return o}()}}function eg(){return El?.get(rb)??null}let rb=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function IE(s,o){let u;return u="noop"===s?new SS:("zone.js"===s?void 0:s)||new Vr(o),u}(d?.ngZone,function $h(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Vr,useValue:h}];return h.run(()=>{const v=Lc.create({providers:g,parent:this.injector,name:u.moduleType.name}),D=u.create(v),E=D.injector.get(jf,null);if(!E)throw new _e(402,!1);return h.runOutsideAngular(()=>{const N=h.onError.subscribe({next:R=>{E.handleError(R)}});D.onDestroy(()=>{tg(this._modules,D),N.unsubscribe()})}),function Tl(s,o,u){try{const d=u();return Cv(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(E,h,()=>{const N=D.injector.get(N_);return N.runInitializers(),N.donePromise.then(()=>(vD(D.injector.get(Qt,Du)||Du),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,d=[]){const h=qh({},d);return function R_(s,o,u){const d=new h_(u);return Promise.resolve(d)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const d=u.injector.get(Mu);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new _e(403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(x_,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)($t(Lc))},s.\u0275prov=Xt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function qh(s,o){return Array.isArray(o)?o.reduce(qh,s):{...s,...o}}let Mu=(()=>{class s{constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new A.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new A.y(D=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Vr.assertNotInAngularZone(),M_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Vr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{E.unsubscribe(),N.unsubscribe()}});this.isStable=(0,P.T)(g,v.pipe((0,V.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,d){const h=u instanceof Uf;if(!this._injector.get(N_).done)throw!h&&Qi(u),new _e(405,false);let v;v=h?u:this._injector.get(m).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const D=function En(s){return s.isBoundToModule}(v)?void 0:this._injector.get(xh),N=v.create(Lc.NULL,[],d||v.selector,D),R=N.location.nativeElement,B=N.injector.get(Su,null);return B?.registerApplication(R),N.onDestroy(()=>{this.detachView(N.hostView),tg(this.components,N),B?.unregisterApplication(R)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;tg(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(cd,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>tg(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new _e(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)($t(Vr),$t(ao),$t(jf))},s.\u0275prov=Xt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function tg(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let Ou=!0,zo=!1;function ng(){return zo=!0,Ou}function xu(){if(zo)throw new Error("Cannot enable prod mode after platform setup.");Ou=!1}let hd=(()=>{class s{}return s.__NG_ELEMENT_ID__=ib,s})();function ib(s){return function ig(s,o,u){if(La(s)&&!u){const d=Yt(s.index,o);return new Go(d,d)}return 47&s.type?new Go(o[16],o):null}(Pn(),Re(),16==(16&s))}class NE{constructor(){}supports(o){return yu(o)}create(o){return new LS(o)}}const FS=(s,o)=>o;class LS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||FS}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,g=null;for(;u||d;){const v=!d||u&&u.currentIndex<xE(d,h,g)?u:d,D=xE(v,h,g),E=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)h++;else{g||(g=[]);const N=D-h,R=E-h;if(N!=R){for(let ne=0;ne<N;ne++){const ge=ne<g.length?g[ne]:g[ne]=0,we=ge+ne;R<=we&&we<N&&(g[ne]=ge+1)}g[v.previousIndex]=R-N}}D!==E&&o(v,D,E)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!yu(o))throw new _e(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)g=o[D],v=this._trackByFn(D,g),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,g,v,D)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,D),d=!0),u=u._next}else h=0,function eO(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[wh()]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,D=>{v=this._trackByFn(h,D),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,D,v,h)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,v,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,g,h)):o=this._addAfter(new ME(u,d),g,h),o}_verifyReinsertion(o,u,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new OE),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class ME{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class OE{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new VS,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xE(s,o,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class RE{constructor(){}supports(o){return o instanceof Map||H1(o)}create(){return new ku}}class ku{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||H1(o)))throw new _e(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new zh(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class zh{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kE(){return new B_([new NE])}let B_=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||kE()),deps:[[s,new Dt,new He]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new _e(901,!1)}}return s.\u0275prov=Xt({token:s,providedIn:"root",factory:kE}),s})();function Ma(){return new U_([new RE])}let U_=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||Ma()),deps:[[s,new Dt,new He]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new _e(901,!1)}}return s.\u0275prov=Xt({token:s,providedIn:"root",factory:Ma}),s})();const ub=CE(null,"core",[]);let Wh=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)($t(Mu))},s.\u0275mod=ht({type:s}),s.\u0275inj=Rt({}),s})();function fs(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function jE(s,o){const u=Ft(s),d=o.elementInjector||nh();return new mp(u).create(d,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(je,q,O)=>{"use strict";O.d(q,{Z:()=>_e});var l=O(2090),L=O(4859),A=O(9681),P=O(1877);class V{constructor(de,he){this._delegate=de,this.firebase=he,(0,A._addComponent)(de,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,A.deleteApp)(this._delegate)))}_getService(de,he=A._DEFAULT_ENTRY_NAME){var xe;this._delegate.checkDestroyed();const Fe=this._delegate.container.getProvider(de);return!Fe.isInitialized()&&"EXPLICIT"===(null===(xe=Fe.getComponent())||void 0===xe?void 0:xe.instantiationMode)&&Fe.initialize(),Fe.getImmediate({identifier:he})}_removeServiceInstance(de,he=A._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(he)}_addComponent(de){(0,A._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,A._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const z=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function oe(){const Ke=function W(Ke){const de={},he={__esModule:!0,initializeApp:function Ae(Ie,U={}){const pe=A.initializeApp(Ie,U);if((0,l.r3)(de,pe.name))return de[pe.name];const Y=new Ke(pe,he);return de[pe.name]=Y,Y},app:Fe,registerVersion:A.registerVersion,setLogLevel:A.setLogLevel,onLog:A.onLog,apps:null,SDK_VERSION:A.SDK_VERSION,INTERNAL:{registerComponent:function fe(Ie){const U=Ie.name,pe=U.replace("-compat","");if(A._registerComponent(Ie)&&"PUBLIC"===Ie.type){const Y=(X=Fe())=>{if("function"!=typeof X[pe])throw z.create("invalid-app-argument",{appName:U});return X[pe]()};void 0!==Ie.serviceProps&&(0,l.ZB)(Y,Ie.serviceProps),he[pe]=Y,Ke.prototype[pe]=function(...X){return this._getService.bind(this,U).apply(this,Ie.multipleInstances?X:[])}}return"PUBLIC"===Ie.type?he[pe]:null},removeApp:function xe(Ie){delete de[Ie]},useAsService:function Se(Ie,U){return"serverAuth"===U?null:U},modularAPIs:A}};function Fe(Ie){if(!(0,l.r3)(de,Ie=Ie||A._DEFAULT_ENTRY_NAME))throw z.create("no-app",{appName:Ie});return de[Ie]}return he.default=he,Object.defineProperty(he,"apps",{get:function Te(){return Object.keys(de).map(Ie=>de[Ie])}}),Fe.App=Ke,he}(V);return Ke.INTERNAL=Object.assign(Object.assign({},Ke.INTERNAL),{createFirebaseNamespace:oe,extendNamespace:function de(he){(0,l.ZB)(Ke,he)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ke}(),Z=new P.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ke=self.firebase.SDK_VERSION;Ke&&Ke.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const _e=G;!function be(Ke){(0,A.registerVersion)("@firebase/app-compat","0.1.34",Ke)}()},9681:(je,q,O)=>{"use strict";O.r(q),O.d(q,{FirebaseError:()=>P.ZR,SDK_VERSION:()=>js,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>Kt,_addOrOverwriteComponent:()=>Xt,_apps:()=>Jt,_clearComponents:()=>Pr,_components:()=>Cn,_getProvider:()=>Rt,_registerComponent:()=>rr,_removeServiceInstance:()=>Bt,deleteApp:()=>Jo,getApp:()=>Jr,getApps:()=>ki,initializeApp:()=>Yi,onLog:()=>ms,registerVersion:()=>Xr,setLogLevel:()=>$n});var l=O(5861),L=O(4859),A=O(1877),P=O(2090),V=O(8766);class H{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(re=>{if(function z(Q){return"VERSION"===Q.getComponent()?.type}(re)){const Oe=re.getImmediate();return`${Oe.library}/${Oe.version}`}return null}).filter(re=>re).join(" ")}}const W="@firebase/app",G=new A.Yd("@firebase/app"),jt="[DEFAULT]",Qe={[W]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,Cn=new Map;function Kt(Q,te){try{Q.container.addComponent(te)}catch(re){G.debug(`Component ${te.name} failed to register with FirebaseApp ${Q.name}`,re)}}function Xt(Q,te){Q.container.addOrOverwriteComponent(te)}function rr(Q){const te=Q.name;if(Cn.has(te))return G.debug(`There were multiple attempts to register component ${te}.`),!1;Cn.set(te,Q);for(const re of Jt.values())Kt(re,Q);return!0}function Rt(Q,te){const re=Q.container.getProvider("heartbeat").getImmediate({optional:!0});return re&&re.triggerHeartbeat(),Q.container.getProvider(te)}function Bt(Q,te,re=jt){Rt(Q,te).clearInstance(re)}function Pr(){Cn.clear()}const Wn=new P.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qr{constructor(te,re,Oe){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},re),this._name=re.name,this._automaticDataCollectionEnabled=re.automaticDataCollectionEnabled,this._container=Oe,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}const js="9.10.0";function Yi(Q,te={}){"object"!=typeof te&&(te={name:te});const re=Object.assign({name:jt,automaticDataCollectionEnabled:!1},te),Oe=re.name;if("string"!=typeof Oe||!Oe)throw Wn.create("bad-app-name",{appName:String(Oe)});const Ze=Jt.get(Oe);if(Ze){if((0,P.vZ)(Q,Ze.options)&&(0,P.vZ)(re,Ze.config))return Ze;throw Wn.create("duplicate-app",{appName:Oe})}const ht=new L.H0(Oe);for(const sn of Cn.values())ht.addComponent(sn);const mn=new Qr(Q,re,ht);return Jt.set(Oe,mn),mn}function Jr(Q=jt){const te=Jt.get(Q);if(!te)throw Wn.create("no-app",{appName:Q});return te}function ki(){return Array.from(Jt.values())}function Jo(Q){return it.apply(this,arguments)}function it(){return(it=(0,l.Z)(function*(Q){const te=Q.name;Jt.has(te)&&(Jt.delete(te),yield Promise.all(Q.container.getProviders().map(re=>re.delete())),Q.isDeleted=!0)})).apply(this,arguments)}function Xr(Q,te,re){var Oe;let Ze=null!==(Oe=Qe[Q])&&void 0!==Oe?Oe:Q;re&&(Ze+=`-${re}`);const ht=Ze.match(/\s|\//),mn=te.match(/\s|\//);if(ht||mn){const sn=[`Unable to register library "${Ze}" with version "${te}":`];return ht&&sn.push(`library name "${Ze}" contains illegal characters (whitespace or "/")`),ht&&mn&&sn.push("and"),mn&&sn.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void G.warn(sn.join(" "))}rr(new L.wA(`${Ze}-version`,()=>({library:Ze,version:te}),"VERSION"))}function ms(Q,te){if(null!==Q&&"function"!=typeof Q)throw Wn.create("invalid-log-argument");(0,A.Am)(Q,te)}function $n(Q){(0,A.Ub)(Q)}const qn="firebase-heartbeat-store";let ir=null;function vn(){return ir||(ir=(0,V.X3)("firebase-heartbeat-database",1,{upgrade:(Q,te)=>{0===te&&Q.createObjectStore(qn)}}).catch(Q=>{throw Wn.create("idb-open",{originalErrorMessage:Q.message})})),ir}function ft(){return(ft=(0,l.Z)(function*(Q){var te;try{return(yield vn()).transaction(qn).objectStore(qn).get(yr(Q))}catch(re){if(re instanceof P.ZR)G.warn(re.message);else{const Oe=Wn.create("idb-get",{originalErrorMessage:null===(te=re)||void 0===te?void 0:te.message});G.warn(Oe.message)}}})).apply(this,arguments)}function dn(Q,te){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(Q,te){var re;try{const Ze=(yield vn()).transaction(qn,"readwrite");return yield Ze.objectStore(qn).put(te,yr(Q)),Ze.done}catch(Oe){if(Oe instanceof P.ZR)G.warn(Oe.message);else{const Ze=Wn.create("idb-set",{originalErrorMessage:null===(re=Oe)||void 0===re?void 0:re.message});G.warn(Ze.message)}}})).apply(this,arguments)}function yr(Q){return`${Q.name}!${Q.options.appId}`}class _s{constructor(te){this.container=te,this._heartbeatsCache=null;const re=this.container.getProvider("app").getImmediate();this._storage=new nn(re),this._heartbeatsCachePromise=this._storage.read().then(Oe=>(this._heartbeatsCache=Oe,Oe))}triggerHeartbeat(){var te=this;return(0,l.Z)(function*(){const Oe=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ze=rn();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==Ze&&!te._heartbeatsCache.heartbeats.some(ht=>ht.date===Ze))return te._heartbeatsCache.heartbeats.push({date:Ze,agent:Oe}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(ht=>{const mn=new Date(ht.date).valueOf();return Date.now()-mn<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,l.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const re=rn(),{heartbeatsToSend:Oe,unsentEntries:Ze}=function Fi(Q,te=1024){const re=[];let Oe=Q.slice();for(const Ze of Q){const ht=re.find(mn=>mn.agent===Ze.agent);if(ht){if(ht.dates.push(Ze.date),ie(re)>te){ht.dates.pop();break}}else if(re.push({agent:Ze.agent,dates:[Ze.date]}),ie(re)>te){re.pop();break}Oe=Oe.slice(1)}return{heartbeatsToSend:re,unsentEntries:Oe}}(te._heartbeatsCache.heartbeats),ht=(0,P.L)(JSON.stringify({version:2,heartbeats:Oe}));return te._heartbeatsCache.lastSentHeartbeatDate=re,Ze.length>0?(te._heartbeatsCache.heartbeats=Ze,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),ht})()}}function rn(){return(new Date).toISOString().substring(0,10)}class nn{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,P.hl)()&&(0,P.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,l.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function vt(Q){return ft.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var re=this;return(0,l.Z)(function*(){var Oe;if(yield re._canUseIndexedDBPromise){const ht=yield re.read();return dn(re.app,{lastSentHeartbeatDate:null!==(Oe=te.lastSentHeartbeatDate)&&void 0!==Oe?Oe:ht.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var re=this;return(0,l.Z)(function*(){var Oe;if(yield re._canUseIndexedDBPromise){const ht=yield re.read();return dn(re.app,{lastSentHeartbeatDate:null!==(Oe=te.lastSentHeartbeatDate)&&void 0!==Oe?Oe:ht.lastSentHeartbeatDate,heartbeats:[...ht.heartbeats,...te.heartbeats]})}})()}}function ie(Q){return(0,P.L)(JSON.stringify({version:2,heartbeats:Q})).length}!function ee(Q){rr(new L.wA("platform-logger",te=>new H(te),"PRIVATE")),rr(new L.wA("heartbeat",te=>new _s(te),"PRIVATE")),Xr(W,"0.7.33",Q),Xr(W,"0.7.33","esm2017"),Xr("fire-js","")}("")},4859:(je,q,O)=>{"use strict";O.d(q,{H0:()=>W,wA:()=>A});var l=O(5861),L=O(2090);class A{constructor(G,Z,K){this.name=G,this.instanceFactory=Z,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const P="[DEFAULT]";class V{constructor(G,Z){this.name=G,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const Z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(Z)){const K=new L.BH;if(this.instancesDeferred.set(Z,K),this.isInitialized(Z)||this.shouldAutoInitialize())try{const De=this.getOrInitializeService({instanceIdentifier:Z});De&&K.resolve(De)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(G){var Z;const K=this.normalizeInstanceIdentifier(G?.identifier),De=null!==(Z=G?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(De)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(be){if(De)return null;throw be}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function z(oe){return"EAGER"===oe.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:P})}catch{}for(const[Z,K]of this.instancesDeferred.entries()){const De=this.normalizeInstanceIdentifier(Z);try{const be=this.getOrInitializeService({instanceIdentifier:De});K.resolve(be)}catch{}}}}clearInstance(G=P){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,l.Z)(function*(){const Z=Array.from(G.instances.values());yield Promise.all([...Z.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...Z.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=P){return this.instances.has(G)}getOptions(G=P){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:Z={}}=G,K=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const De=this.getOrInitializeService({instanceIdentifier:K,options:Z});for(const[be,_e]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(be)&&_e.resolve(De);return De}onInit(G,Z){var K;const De=this.normalizeInstanceIdentifier(Z),be=null!==(K=this.onInitCallbacks.get(De))&&void 0!==K?K:new Set;be.add(G),this.onInitCallbacks.set(De,be);const _e=this.instances.get(De);return _e&&G(_e,De),()=>{be.delete(G)}}invokeOnInitCallbacks(G,Z){const K=this.onInitCallbacks.get(Z);if(K)for(const De of K)try{De(G,Z)}catch{}}getOrInitializeService({instanceIdentifier:G,options:Z={}}){let K=this.instances.get(G);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(oe=G,oe===P?void 0:oe),options:Z}),this.instances.set(G,K),this.instancesOptions.set(G,Z),this.invokeOnInitCallbacks(K,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,K)}catch{}var oe;return K||null}normalizeInstanceIdentifier(G=P){return this.component?this.component.multipleInstances?G:P:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class W{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const Z=this.getProvider(G.name);if(Z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);Z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const Z=new V(G,this);return this.providers.set(G,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(je,q,O)=>{"use strict";O.d(q,{Am:()=>oe,Ub:()=>W,Yd:()=>z,in:()=>L});const l=[];var L=(()=>{return(G=L||(L={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",L;var G})();const A={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},P=L.INFO,V={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},H=(G,Z,...K)=>{if(Z<G.logLevel)return;const De=(new Date).toISOString(),be=V[Z];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[be](`[${De}]  ${G.name}:`,...K)};class z{constructor(Z){this.name=Z,this._logLevel=P,this._logHandler=H,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in L))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?A[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...Z),this._logHandler(this,L.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...Z),this._logHandler(this,L.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,L.INFO,...Z),this._logHandler(this,L.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,L.WARN,...Z),this._logHandler(this,L.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...Z),this._logHandler(this,L.ERROR,...Z)}}function W(G){l.forEach(Z=>{Z.setLogLevel(G)})}function oe(G,Z){for(const K of l){let De=null;Z&&Z.level&&(De=A[Z.level]),K.userLogHandler=null===G?null:(be,_e,...Ke)=>{const de=Ke.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(he=>he).join(" ");_e>=(De??be.logLevel)&&G({level:L[_e].toLowerCase(),message:de,args:Ke,type:be.name})}}}},8766:(je,q,O)=>{"use strict";O.d(q,{Lj:()=>Ae,X3:()=>Fe});var l=O(5861);let A,P;const z=new WeakMap,W=new WeakMap,oe=new WeakMap,G=new WeakMap,Z=new WeakMap;let be={get(U,pe,Y){if(U instanceof IDBTransaction){if("done"===pe)return W.get(U);if("objectStoreNames"===pe)return U.objectStoreNames||oe.get(U);if("store"===pe)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return he(U[pe])},set:(U,pe,Y)=>(U[pe]=Y,!0),has:(U,pe)=>U instanceof IDBTransaction&&("done"===pe||"store"===pe)||pe in U};function de(U){return"function"==typeof U?function Ke(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function H(){return P||(P=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...pe){return U.apply(xe(this),pe),he(z.get(this))}:function(...pe){return he(U.apply(xe(this),pe))}:function(pe,...Y){const X=U.call(xe(this),pe,...Y);return oe.set(X,pe.sort?pe.sort():[pe]),he(X)}}(U):(U instanceof IDBTransaction&&function De(U){if(W.has(U))return;const pe=new Promise((Y,X)=>{const ue=()=>{U.removeEventListener("complete",le),U.removeEventListener("error",Le),U.removeEventListener("abort",Le)},le=()=>{Y(),ue()},Le=()=>{X(U.error||new DOMException("AbortError","AbortError")),ue()};U.addEventListener("complete",le),U.addEventListener("error",Le),U.addEventListener("abort",Le)});W.set(U,pe)}(U),((U,pe)=>pe.some(Y=>U instanceof Y))(U,function V(){return A||(A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,be):U)}function he(U){if(U instanceof IDBRequest)return function K(U){const pe=new Promise((Y,X)=>{const ue=()=>{U.removeEventListener("success",le),U.removeEventListener("error",Le)},le=()=>{Y(he(U.result)),ue()},Le=()=>{X(U.error),ue()};U.addEventListener("success",le),U.addEventListener("error",Le)});return pe.then(Y=>{Y instanceof IDBCursor&&z.set(Y,U)}).catch(()=>{}),Z.set(pe,U),pe}(U);if(G.has(U))return G.get(U);const pe=de(U);return pe!==U&&(G.set(U,pe),Z.set(pe,U)),pe}const xe=U=>Z.get(U);function Fe(U,pe,{blocked:Y,upgrade:X,blocking:ue,terminated:le}={}){const Le=indexedDB.open(U,pe),Be=he(Le);return X&&Le.addEventListener("upgradeneeded",pt=>{X(he(Le.result),pt.oldVersion,pt.newVersion,he(Le.transaction))}),Y&&Le.addEventListener("blocked",()=>Y()),Be.then(pt=>{le&&pt.addEventListener("close",()=>le()),ue&&pt.addEventListener("versionchange",()=>ue())}).catch(()=>{}),Be}function Ae(U,{blocked:pe}={}){const Y=indexedDB.deleteDatabase(U);return pe&&Y.addEventListener("blocked",()=>pe()),he(Y).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],fe=["put","add","delete","clear"],Se=new Map;function Ie(U,pe){if(!(U instanceof IDBDatabase)||pe in U||"string"!=typeof pe)return;if(Se.get(pe))return Se.get(pe);const Y=pe.replace(/FromIndex$/,""),X=pe!==Y,ue=fe.includes(Y);if(!(Y in(X?IDBIndex:IDBObjectStore).prototype)||!ue&&!Te.includes(Y))return;const le=function(){var Le=(0,l.Z)(function*(Be,...pt){const Zt=this.transaction(Be,ue?"readwrite":"readonly");let jt=Zt.store;return X&&(jt=jt.index(pt.shift())),(yield Promise.all([jt[Y](...pt),ue&&Zt.done]))[0]});return function(pt){return Le.apply(this,arguments)}}();return Se.set(pe,le),le}!function _e(U){be=U(be)}(U=>({...U,get:(pe,Y,X)=>Ie(pe,Y)||U.get(pe,Y,X),has:(pe,Y)=>!!Ie(pe,Y)||U.has(pe,Y)}))},5861:(je,q,O)=>{"use strict";function l(A,P,V,H,z,W,oe){try{var G=A[W](oe),Z=G.value}catch(K){return void V(K)}G.done?P(Z):Promise.resolve(Z).then(H,z)}function L(A){return function(){var P=this,V=arguments;return new Promise(function(H,z){var W=A.apply(P,V);function oe(Z){l(W,H,z,oe,G,"next",Z)}function G(Z){l(W,H,z,oe,G,"throw",Z)}oe(void 0)})}}O.d(q,{Z:()=>L})}},je=>{je(je.s=4111)}]);