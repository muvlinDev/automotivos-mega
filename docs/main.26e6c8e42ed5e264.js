(self.webpackChunkautomotivos_mega=self.webpackChunkautomotivos_mega||[]).push([[179],{2011:(qe,H,k)=>{"use strict";k.d(H,{Dh:()=>Q,GT:()=>q,cc:()=>Ee,hO:()=>Te,on:()=>W,pX:()=>j,xv:()=>le});var l=k(4650),R=k(127),N=k(5813);qe=k.hmd(qe);const B=["ngOnDestroy"],j=(pe,Ae,Be,ke={})=>new Proxy(pe,{get:(Se,ye)=>Be.runOutsideAngular(()=>{var Re;if(pe[ye])return!(null===(Re=ke?.spy)||void 0===Re)&&Re.get&&ke.spy.get(ye,pe[ye]),pe[ye];if(B.indexOf(ye)>-1)return()=>{};const Me=Ae.toPromise().then(G=>{const _e=G&&G[ye];return"function"==typeof _e?_e.bind(G):_e&&_e.then?_e.then(ee=>Be.run(()=>ee)):Be.run(()=>_e)});return new Proxy(()=>{},{get:(G,_e)=>Me[_e],apply:(G,_e,ee)=>Me.then(ie=>{var fe;const ue=ie&&ie(...ee);return!(null===(fe=ke?.spy)||void 0===fe)&&fe.apply&&ke.spy.apply(ye,ee,ue),ue})})})}),q=(pe,Ae)=>{Ae.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(ke=>{Object.defineProperty(pe.prototype,ke,Object.getOwnPropertyDescriptor(Be.prototype||Be,ke))})})};class Z{constructor(Ae){return Ae}}const Q=new l.OlP("angularfire2.app.options"),le=new l.OlP("angularfire2.app.name");function W(pe,Ae,Be){const Se="object"==typeof Be&&Be||{};Se.name=Se.name||"string"==typeof Be&&Be||"[DEFAULT]";const Re=R.Z.apps.filter(Me=>Me&&Me.name===Se.name)[0]||Ae.runOutsideAngular(()=>R.Z.initializeApp(pe,Se));try{JSON.stringify(pe)!==JSON.stringify(Re.options)&&Y("error",`${Re.name} Firebase App already initialized with different options${qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Z(Re)}const Y=(pe,...Ae)=>{(0,l.X6Q)()&&typeof console<"u"&&console[pe](...Ae)},X={provide:Z,useFactory:W,deps:[Q,l.R0b,[new l.FiY,le]]};let Te=(()=>{class pe{constructor(Be){R.Z.registerVersion("angularfire",N.q4.full,"core"),R.Z.registerVersion("angularfire",N.q4.full,"app-compat"),R.Z.registerVersion("angular",l.q4F.full,Be.toString())}static initializeApp(Be,ke){return{ngModule:pe,providers:[{provide:Q,useValue:Be},{provide:le,useValue:ke}]}}}return pe.\u0275fac=function(Be){return new(Be||pe)(l.LFG(l.Lbi))},pe.\u0275mod=l.oAB({type:pe}),pe.\u0275inj=l.cJS({providers:[X]}),pe})();function Ee(pe,Ae,Be,ke,Se){const[,ye,Re]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===pe)||[];if(ye)return function be(pe,Ae){try{return pe.toString()===Ae.toString()}catch{return pe===Ae}}(Se,Re)||(me("error",`${Ae} was already initialized on the ${Be} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Se,was:Re})),ye;{const Me=ke();return globalThis.\u0275AngularfireInstanceCache.push([pe,Me,Se]),Me}}const Ze=!!qe.hot,me=(pe,...Ae)=>{(0,l.X6Q)()&&typeof console<"u"&&console[pe](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(qe,H,k)=>{"use strict";k.d(H,{q4:()=>ht,iC:()=>uo,HU:()=>Or,vb:()=>Fs,JM:()=>dc});var l=k(4650),R=k(5867),N=k(5861),B=k(9681),j=k(2090),q=k(4859),Z=k(1877),Q=k(8766);const le="@firebase/installations",W="0.5.12",X=`w:${W}`,Te="FIS_v2",Ae=new j.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Be(S){return S instanceof j.ZR&&S.code.includes("request-failed")}function ke({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Se(S){return{token:S.token,requestStatus:2,expiresIn:ie(S.expiresIn),creationTime:Date.now()}}function ye(S,A){return Re.apply(this,arguments)}function Re(){return(Re=(0,N.Z)(function*(S,A){const K=(yield A.json()).error;return Ae.create("request-failed",{requestName:S,serverCode:K.code,serverMessage:K.message,serverStatus:K.status})})).apply(this,arguments)}function Me({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function G(S,{refreshToken:A}){const F=Me(S);return F.append("Authorization",function fe(S){return`${Te} ${S}`}(A)),F}function _e(S){return ee.apply(this,arguments)}function ee(){return(ee=(0,N.Z)(function*(S){const A=yield S();return A.status>=500&&A.status<600?S():A})).apply(this,arguments)}function ie(S){return Number(S.replace("s","000"))}function ue(S,A){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,N.Z)(function*({appConfig:S,heartbeatServiceProvider:A},{fid:F}){const K=ke(S),ge=Me(S),De=A.getImmediate({optional:!0});if(De){const Ot=yield De.getHeartbeatsHeader();Ot&&ge.append("x-firebase-client",Ot)}const We={method:"POST",headers:ge,body:JSON.stringify({fid:F,authVersion:Te,appId:S.appId,sdkVersion:X})},mt=yield _e(()=>fetch(K,We));if(mt.ok){const Ot=yield mt.json();return{fid:Ot.fid||F,registrationStatus:2,refreshToken:Ot.refreshToken,authToken:Se(Ot.authToken)}}throw yield ye("Create Installation",mt)})).apply(this,arguments)}function He(S){return new Promise(A=>{setTimeout(A,S)})}const en=/^[cdef][\w-]{21}$/;function tt(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const F=function tn(S){return function yt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return en.test(F)?F:""}catch{return""}}function xn(S){return`${S.appName}!${S.appId}`}const zt=new Map;function Ft(S,A){const F=xn(S);St(F,A),function wi(S,A){const F=function ei(){return!Gn&&"BroadcastChannel"in self&&(Gn=new BroadcastChannel("[Firebase] FID Change"),Gn.onmessage=S=>{St(S.data.key,S.data.fid)}),Gn}();F&&F.postMessage({key:S,fid:A}),function xt(){0===zt.size&&Gn&&(Gn.close(),Gn=null)}()}(F,A)}function St(S,A){const F=zt.get(S);if(F)for(const K of F)K(A)}let Gn=null;const pi="firebase-installations-store";let yn=null;function $n(){return yn||(yn=(0,Q.X3)("firebase-installations-database",1,{upgrade:(S,A)=>{0===A&&S.createObjectStore(pi)}})),yn}function lt(S,A){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,N.Z)(function*(S,A){const F=xn(S),ge=(yield $n()).transaction(pi,"readwrite"),De=ge.objectStore(pi),Fe=yield De.get(F);return yield De.put(A,F),yield ge.done,(!Fe||Fe.fid!==A.fid)&&Ft(S,A.fid),A})).apply(this,arguments)}function qn(S){return ti.apply(this,arguments)}function ti(){return(ti=(0,N.Z)(function*(S){const A=xn(S),K=(yield $n()).transaction(pi,"readwrite");yield K.objectStore(pi).delete(A),yield K.done})).apply(this,arguments)}function pr(S,A){return ar.apply(this,arguments)}function ar(){return(ar=(0,N.Z)(function*(S,A){const F=xn(S),ge=(yield $n()).transaction(pi,"readwrite"),De=ge.objectStore(pi),Fe=yield De.get(F),We=A(Fe);return void 0===We?yield De.delete(F):yield De.put(We,F),yield ge.done,We&&(!Fe||Fe.fid!==We.fid)&&Ft(S,We.fid),We})).apply(this,arguments)}function Vn(S){return gi.apply(this,arguments)}function gi(){return(gi=(0,N.Z)(function*(S){let A;const F=yield pr(S.appConfig,K=>{const ge=An(K),De=Je(S,ge);return A=De.registrationPromise,De.installationEntry});return""===F.fid?{installationEntry:yield A}:{installationEntry:F,registrationPromise:A}})).apply(this,arguments)}function An(S){return It(S||{fid:tt(),registrationStatus:0})}function Je(S,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Ae.create("app-offline"))};const F={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},K=function bt(S,A){return vn.apply(this,arguments)}(S,F);return{installationEntry:F,registrationPromise:K}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:mi(S)}:{installationEntry:A}}function vn(){return(vn=(0,N.Z)(function*(S,A){try{const F=yield ue(S,A);return lt(S.appConfig,F)}catch(F){throw Be(F)&&409===F.customData.serverCode?yield qn(S.appConfig):yield lt(S.appConfig,{fid:A.fid,registrationStatus:0}),F}})).apply(this,arguments)}function mi(S){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,N.Z)(function*(S){let A=yield Yi(S.appConfig);for(;1===A.registrationStatus;)yield He(100),A=yield Yi(S.appConfig);if(0===A.registrationStatus){const{installationEntry:F,registrationPromise:K}=yield Vn(S);return K||F}return A})).apply(this,arguments)}function Yi(S){return pr(S,A=>{if(!A)throw Ae.create("installation-not-found");return It(A)})}function It(S){return function ls(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function dn(S,A){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,N.Z)(function*({appConfig:S,heartbeatServiceProvider:A},F){const K=cn(S,F),ge=G(S,F),De=A.getImmediate({optional:!0});if(De){const Ot=yield De.getHeartbeatsHeader();Ot&&ge.append("x-firebase-client",Ot)}const We={method:"POST",headers:ge,body:JSON.stringify({installation:{sdkVersion:X,appId:S.appId}})},mt=yield _e(()=>fetch(K,We));if(mt.ok)return Se(yield mt.json());throw yield ye("Generate Auth Token",mt)})).apply(this,arguments)}function cn(S,{fid:A}){return`${ke(S)}/${A}/authTokens:generate`}function ce(S){return re.apply(this,arguments)}function re(){return(re=(0,N.Z)(function*(S,A=!1){let F;const K=yield pr(S.appConfig,De=>{if(!vt(De))throw Ae.create("not-registered");const Fe=De.authToken;if(!A&&Tn(Fe))return De;if(1===Fe.requestStatus)return F=te(S,A),De;{if(!navigator.onLine)throw Ae.create("app-offline");const We=_i(De);return F=Le(S,We),We}});return F?yield F:K.authToken})).apply(this,arguments)}function te(S,A){return se.apply(this,arguments)}function se(){return(se=(0,N.Z)(function*(S,A){let F=yield oe(S.appConfig);for(;1===F.authToken.requestStatus;)yield He(100),F=yield oe(S.appConfig);const K=F.authToken;return 0===K.requestStatus?ce(S,A):K})).apply(this,arguments)}function oe(S){return pr(S,A=>{if(!vt(A))throw Ae.create("not-registered");return function Qt(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Le(S,A){return et.apply(this,arguments)}function et(){return(et=(0,N.Z)(function*(S,A){try{const F=yield dn(S,A),K=Object.assign(Object.assign({},A),{authToken:F});return yield lt(S.appConfig,K),F}catch(F){if(!Be(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const K=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield lt(S.appConfig,K)}else yield qn(S.appConfig);throw F}})).apply(this,arguments)}function vt(S){return void 0!==S&&2===S.registrationStatus}function Tn(S){return 2===S.requestStatus&&!function ln(S){const A=Date.now();return A<S.creationTime||S.creationTime+S.expiresIn<A+36e5}(S)}function _i(S){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:A})}function Rn(){return(Rn=(0,N.Z)(function*(S){const A=S,{installationEntry:F,registrationPromise:K}=yield Vn(A);return K?K.catch(console.error):ce(A).catch(console.error),F.fid})).apply(this,arguments)}function Ur(){return(Ur=(0,N.Z)(function*(S,A=!1){const F=S;return yield Qi(F),(yield ce(F,A)).token})).apply(this,arguments)}function Qi(S){return oi.apply(this,arguments)}function oi(){return(oi=(0,N.Z)(function*(S){const{registrationPromise:A}=yield Vn(S);A&&(yield A)})).apply(this,arguments)}function Ns(S){return Ae.create("missing-app-config-values",{valueName:S})}const Eo="installations",Nn=S=>{const A=S.getProvider("app").getImmediate(),F=function Yt(S){if(!S||!S.options)throw Ns("App Configuration");if(!S.name)throw Ns("App Name");const A=["projectId","apiKey","appId"];for(const F of A)if(!S.options[F])throw Ns(F);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(A);return{app:A,appConfig:F,heartbeatServiceProvider:(0,B._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Ys=S=>{const A=S.getProvider("app").getImmediate(),F=(0,B._getProvider)(A,Eo).getImmediate();return{getId:()=>function Gt(S){return Rn.apply(this,arguments)}(F),getToken:ge=>function si(S){return Ur.apply(this,arguments)}(F,ge)}};(function Vl(){(0,B._registerComponent)(new q.wA(Eo,Nn,"PUBLIC")),(0,B._registerComponent)(new q.wA("installations-internal",Ys,"PRIVATE"))})(),(0,B.registerVersion)(le,W),(0,B.registerVersion)(le,W,"esm2017");const Hr="@firebase/remote-config",li=new j.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Uu{constructor(A,F,K,ge){this.client=A,this.storage=F,this.storageCache=K,this.logger=ge}isCachedDataFresh(A,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const K=Date.now()-F,ge=K<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${K}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ge}.`),ge}fetch(A){var F=this;return(0,N.Z)(function*(){const[K,ge]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(ge&&F.isCachedDataFresh(A.cacheMaxAgeMillis,K))return ge;A.eTag=ge&&ge.eTag;const De=yield F.client.fetch(A),Fe=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===De.status&&Fe.push(F.storage.setLastSuccessfulFetchResponse(De)),yield Promise.all(Fe),De})()}}function Js(S=navigator){return S.languages&&S.languages[0]||S.language}class Hl{constructor(A,F,K,ge,De,Fe){this.firebaseInstallations=A,this.sdkVersion=F,this.namespace=K,this.projectId=ge,this.apiKey=De,this.appId=Fe}fetch(A){var F=this;return(0,N.Z)(function*(){var K,ge,De;const[Fe,We]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),Ot=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,Bt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Et={sdk_version:F.sdkVersion,app_instance_id:Fe,app_instance_id_token:We,app_id:F.appId,language_code:Js()},Yn={method:"POST",headers:Bt,body:JSON.stringify(Et)},nr=fetch(Ot,Yn),ba=new Promise((vl,wa)=>{A.signal.addEventListener(()=>{const ws=new Error("The operation was aborted.");ws.name="AbortError",wa(ws)})});let qo;try{yield Promise.race([nr,ba]),qo=yield nr}catch(vl){let wa="fetch-client-network";throw"AbortError"===(null===(K=vl)||void 0===K?void 0:K.name)&&(wa="fetch-timeout"),li.create(wa,{originalErrorMessage:null===(ge=vl)||void 0===ge?void 0:ge.message})}let Ut=qo.status;const Vs=qo.headers.get("ETag")||void 0;let zo,Zr;if(200===qo.status){let vl;try{vl=yield qo.json()}catch(wa){throw li.create("fetch-client-parse",{originalErrorMessage:null===(De=wa)||void 0===De?void 0:De.message})}zo=vl.entries,Zr=vl.state}if("INSTANCE_STATE_UNSPECIFIED"===Zr?Ut=500:"NO_CHANGE"===Zr?Ut=304:("NO_TEMPLATE"===Zr||"EMPTY_CONFIG"===Zr)&&(zo={}),304!==Ut&&200!==Ut)throw li.create("fetch-status",{httpStatus:Ut});return{status:Ut,eTag:Vs,config:zo}})()}}class Ua{constructor(A,F){this.client=A,this.storage=F}fetch(A){var F=this;return(0,N.Z)(function*(){const K=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(A,K)})()}attemptFetch(A,{throttleEndTimeMillis:F,backoffCount:K}){var ge=this;return(0,N.Z)(function*(){yield function yi(S,A){return new Promise((F,K)=>{const ge=Math.max(A-Date.now(),0),De=setTimeout(F,ge);S.addEventListener(()=>{clearTimeout(De),K(li.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,F);try{const De=yield ge.client.fetch(A);return yield ge.storage.deleteThrottleMetadata(),De}catch(De){if(!function Bc(S){if(!(S instanceof j.ZR&&S.customData))return!1;const A=Number(S.customData.httpStatus);return 429===A||500===A||503===A||504===A}(De))throw De;const Fe={throttleEndTimeMillis:Date.now()+(0,j.$s)(K),backoffCount:K+1};return yield ge.storage.setThrottleMetadata(Fe),ge.attemptFetch(A,Fe)}})()}}class ra{constructor(A,F,K,ge,De){this.app=A,this._client=F,this._storageCache=K,this._storage=ge,this._logger=De,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Gl(S,A){var F;const K=S.target.error||void 0;return li.create(A,{originalErrorMessage:K&&(null===(F=K)||void 0===F?void 0:F.message)})}const xs="app_namespace_store";class nh{constructor(A,F,K,ge=function th(){return new Promise((S,A)=>{var F;try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=ge=>{A(Gl(ge,"storage-open"))},K.onsuccess=ge=>{S(ge.target.result)},K.onupgradeneeded=ge=>{0===ge.oldVersion&&ge.target.result.createObjectStore(xs,{keyPath:"compositeKey"})}}catch(K){A(li.create("storage-open",{originalErrorMessage:null===(F=K)||void 0===F?void 0:F.message}))}})}()){this.appId=A,this.appName=F,this.namespace=K,this.openDbPromise=ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var F=this;return(0,N.Z)(function*(){const K=yield F.openDbPromise;return new Promise((ge,De)=>{var Fe;const mt=K.transaction([xs],"readonly").objectStore(xs),Ot=F.createCompositeKey(A);try{const Bt=mt.get(Ot);Bt.onerror=Et=>{De(Gl(Et,"storage-get"))},Bt.onsuccess=Et=>{const Yn=Et.target.result;ge(Yn?Yn.value:void 0)}}catch(Bt){De(li.create("storage-get",{originalErrorMessage:null===(Fe=Bt)||void 0===Fe?void 0:Fe.message}))}})})()}set(A,F){var K=this;return(0,N.Z)(function*(){const ge=yield K.openDbPromise;return new Promise((De,Fe)=>{var We;const Ot=ge.transaction([xs],"readwrite").objectStore(xs),Bt=K.createCompositeKey(A);try{const Et=Ot.put({compositeKey:Bt,value:F});Et.onerror=Yn=>{Fe(Gl(Yn,"storage-set"))},Et.onsuccess=()=>{De()}}catch(Et){Fe(li.create("storage-set",{originalErrorMessage:null===(We=Et)||void 0===We?void 0:We.message}))}})})()}delete(A){var F=this;return(0,N.Z)(function*(){const K=yield F.openDbPromise;return new Promise((ge,De)=>{var Fe;const mt=K.transaction([xs],"readwrite").objectStore(xs),Ot=F.createCompositeKey(A);try{const Bt=mt.delete(Ot);Bt.onerror=Et=>{De(Gl(Et,"storage-delete"))},Bt.onsuccess=()=>{ge()}}catch(Bt){De(li.create("storage-delete",{originalErrorMessage:null===(Fe=Bt)||void 0===Fe?void 0:Fe.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class jc{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,N.Z)(function*(){const F=A.storage.getLastFetchStatus(),K=A.storage.getLastSuccessfulFetchTimestampMillis(),ge=A.storage.getActiveConfig(),De=yield F;De&&(A.lastFetchStatus=De);const Fe=yield K;Fe&&(A.lastSuccessfulFetchTimestampMillis=Fe);const We=yield ge;We&&(A.activeConfig=We)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Xs(){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,N.Z)(function*(){if(!(0,j.hl)())return!1;try{return yield(0,j.eu)()}catch{return!1}})).apply(this,arguments)}!function Rs(){(0,B._registerComponent)(new q.wA("remote-config",function S(A,{instanceIdentifier:F}){const K=A.getProvider("app").getImmediate(),ge=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw li.create("registration-window");if(!(0,j.hl)())throw li.create("indexed-db-unavailable");const{projectId:De,apiKey:Fe,appId:We}=K.options;if(!De)throw li.create("registration-project-id");if(!Fe)throw li.create("registration-api-key");if(!We)throw li.create("registration-app-id");const mt=new nh(We,K.name,F=F||"firebase"),Ot=new jc(mt),Bt=new Z.Yd(Hr);Bt.logLevel=Z.in.ERROR;const Et=new Hl(ge,B.SDK_VERSION,F,De,Fe,We),Yn=new Ua(Et,mt),nr=new Uu(Yn,mt,Ot,Bt),ba=new ra(K,nr,Ot,mt,Bt);return function wn(S){const A=(0,j.m9)(S);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(ba),ba},"PUBLIC").setMultipleInstances(!0)),(0,B.registerVersion)(Hr,"0.3.11"),(0,B.registerVersion)(Hr,"0.3.11","esm2017")}();const Gr="/firebase-messaging-sw.js",hs="/firebase-cloud-messaging-push-scope",lr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sa="google.c.a.c_id",ja="google.c.a.c_l",Ha="google.c.a.ts",Gc="google.c.a.e";var fs=(()=>{return(S=fs||(fs={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",fs;var S})();function gr(S){const A=new Uint8Array(S);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cr(S){const F=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),K=atob(F),ge=new Uint8Array(K.length);for(let De=0;De<K.length;++De)ge[De]=K.charCodeAt(De);return ge}const Io="fcm_token_details_db",xi="fcm_token_object_Store";function Gu(S){return So.apply(this,arguments)}function So(){return So=(0,N.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(De=>De.name).includes(Io))return null;let A=null;return(yield(0,Q.X3)(Io,5,{upgrade:(K=(0,N.Z)(function*(ge,De,Fe,We){var mt;if(De<2||!ge.objectStoreNames.contains(xi))return;const Ot=We.objectStore(xi),Bt=yield Ot.index("fcmSenderId").get(S);if(yield Ot.clear(),Bt)if(2===De){const Et=Bt;if(!Et.auth||!Et.p256dh||!Et.endpoint)return;A={token:Et.fcmToken,createTime:null!==(mt=Et.createTime)&&void 0!==mt?mt:Date.now(),subscriptionOptions:{auth:Et.auth,p256dh:Et.p256dh,endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:"string"==typeof Et.vapidKey?Et.vapidKey:gr(Et.vapidKey)}}}else if(3===De){const Et=Bt;A={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:gr(Et.auth),p256dh:gr(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:gr(Et.vapidKey)}}}else if(4===De){const Et=Bt;A={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:gr(Et.auth),p256dh:gr(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:gr(Et.vapidKey)}}}}),function(De,Fe,We,mt){return K.apply(this,arguments)})})).close(),yield(0,Q.Lj)(Io),yield(0,Q.Lj)("fcm_vapid_details_db"),yield(0,Q.Lj)("undefined"),Zn(A)?A:null;var K}),So.apply(this,arguments)}function Zn(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:A}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const ur="firebase-messaging-store";let Hi=null;function Ao(){return Hi||(Hi=(0,Q.X3)("firebase-messaging-database",1,{upgrade:(S,A)=>{0===A&&S.createObjectStore(ur)}})),Hi}function No(S){return ps.apply(this,arguments)}function ps(){return(ps=(0,N.Z)(function*(S){const A=Sr(S),K=yield(yield Ao()).transaction(ur).objectStore(ur).get(A);if(K)return K;{const ge=yield Gu(S.appConfig.senderId);if(ge)return yield on(S,ge),ge}})).apply(this,arguments)}function on(S,A){return $a.apply(this,arguments)}function $a(){return($a=(0,N.Z)(function*(S,A){const F=Sr(S),ge=(yield Ao()).transaction(ur,"readwrite");return yield ge.objectStore(ur).put(A,F),yield ge.done,A})).apply(this,arguments)}function eo(S){return qa.apply(this,arguments)}function qa(){return(qa=(0,N.Z)(function*(S){const A=Sr(S),K=(yield Ao()).transaction(ur,"readwrite");yield K.objectStore(ur).delete(A),yield K.done})).apply(this,arguments)}function Sr({appConfig:S}){return S.appId}const kn=new j.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nt(S,A){return oa.apply(this,arguments)}function oa(){return(oa=(0,N.Z)(function*(S,A){var F;const K=yield Zl(S),ge=Ve(A),De={method:"POST",headers:K,body:JSON.stringify(ge)};let Fe;try{Fe=yield(yield fetch(gs(S.appConfig),De)).json()}catch(We){throw kn.create("token-subscribe-failed",{errorInfo:null===(F=We)||void 0===F?void 0:F.toString()})}if(Fe.error)throw kn.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw kn.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function Mo(S,A){return Za.apply(this,arguments)}function Za(){return(Za=(0,N.Z)(function*(S,A){var F;const K=yield Zl(S),ge=Ve(A.subscriptionOptions),De={method:"PATCH",headers:K,body:JSON.stringify(ge)};let Fe;try{Fe=yield(yield fetch(`${gs(S.appConfig)}/${A.token}`,De)).json()}catch(We){throw kn.create("token-update-failed",{errorInfo:null===(F=We)||void 0===F?void 0:F.toString()})}if(Fe.error)throw kn.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw kn.create("token-update-no-token");return Fe.token})).apply(this,arguments)}function Wa(S,A){return zl.apply(this,arguments)}function zl(){return(zl=(0,N.Z)(function*(S,A){var F;const ge={method:"DELETE",headers:yield Zl(S)};try{const Fe=yield(yield fetch(`${gs(S.appConfig)}/${A}`,ge)).json();if(Fe.error)throw kn.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(De){throw kn.create("token-unsubscribe-failed",{errorInfo:null===(F=De)||void 0===F?void 0:F.toString()})}})).apply(this,arguments)}function gs({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Zl(S){return aa.apply(this,arguments)}function aa(){return(aa=(0,N.Z)(function*({appConfig:S,installations:A}){const F=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function Ve({p256dh:S,auth:A,endpoint:F,vapidKey:K}){const ge={web:{endpoint:F,auth:A,p256dh:S}};return K!==lr&&(ge.web.applicationPubKey=K),ge}const Jt=6048e5;function Ka(S){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,N.Z)(function*(S){const A=yield ca(S.swRegistration,S.vapidKey),F={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:A.endpoint,auth:gr(A.getKey("auth")),p256dh:gr(A.getKey("p256dh"))},K=yield No(S.firebaseDependencies);if(K){if(Wl(K.subscriptionOptions,F))return Date.now()>=K.createTime+Jt?xo(S,{token:K.token,createTime:Date.now(),subscriptionOptions:F}):K.token;try{yield Wa(S.firebaseDependencies,K.token)}catch(ge){console.warn(ge)}return Ro(S.firebaseDependencies,F)}return Ro(S.firebaseDependencies,F)})).apply(this,arguments)}function Bn(S){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,N.Z)(function*(S){const A=yield No(S.firebaseDependencies);A&&(yield Wa(S.firebaseDependencies,A.token),yield eo(S.firebaseDependencies));const F=yield S.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()})).apply(this,arguments)}function xo(S,A){return mr.apply(this,arguments)}function mr(){return(mr=(0,N.Z)(function*(S,A){try{const F=yield Mo(S.firebaseDependencies,A),K=Object.assign(Object.assign({},A),{token:F,createTime:Date.now()});return yield on(S.firebaseDependencies,K),F}catch(F){throw yield Bn(S),F}})).apply(this,arguments)}function Ro(S,A){return la.apply(this,arguments)}function la(){return(la=(0,N.Z)(function*(S,A){const K={token:yield Nt(S,A),createTime:Date.now(),subscriptionOptions:A};return yield on(S,K),K.token})).apply(this,arguments)}function ca(S,A){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,N.Z)(function*(S,A){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cr(A)})})).apply(this,arguments)}function Wl(S,A){return A.vapidKey===S.vapidKey&&A.endpoint===S.endpoint&&A.auth===S.auth&&A.p256dh===S.p256dh}function to(S){const A={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Wn(S,A){if(!A.notification)return;S.notification={};const F=A.notification.title;F&&(S.notification.title=F);const K=A.notification.body;K&&(S.notification.body=K);const ge=A.notification.image;ge&&(S.notification.image=ge)}(A,S),function qr(S,A){!A.data||(S.data=A.data)}(A,S),function Kl(S,A){var F,K,ge,De,Fe;if(!(A.fcmOptions||null!==(F=A.notification)&&void 0!==F&&F.click_action))return;S.fcmOptions={};const We=null!==(ge=null===(K=A.fcmOptions)||void 0===K?void 0:K.link)&&void 0!==ge?ge:null===(De=A.notification)||void 0===De?void 0:De.click_action;We&&(S.fcmOptions.link=We);const mt=null===(Fe=A.fcmOptions)||void 0===Fe?void 0:Fe.analytics_label;mt&&(S.fcmOptions.analyticsLabel=mt)}(A,S),A}function zr(S){return"object"==typeof S&&!!S&&sa in S}function ms(S,A){const F=[];for(let K=0;K<S.length;K++)F.push(S.charAt(K)),K<A.length&&F.push(A.charAt(K));return F.join("")}function ua(S){return kn.create("missing-app-config-values",{valueName:S})}ms("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ms("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rh{constructor(A,F,K){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ge=function ih(S){if(!S||!S.options)throw ua("App Configuration Object");if(!S.name)throw ua("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:F}=S;for(const K of A)if(!F[K])throw ua(K);return{appName:S.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ge,installations:F,analyticsProvider:K}}_delete(){return Promise.resolve()}}function Ja(S){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,N.Z)(function*(S){var A;try{S.swRegistration=yield navigator.serviceWorker.register(Gr,{scope:hs}),S.swRegistration.update().catch(()=>{})}catch(F){throw kn.create("failed-service-worker-registration",{browserErrorMessage:null===(A=F)||void 0===A?void 0:A.message})}})).apply(this,arguments)}function da(S,A){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,N.Z)(function*(S,A){if(!A&&!S.swRegistration&&(yield Ja(S)),A||!S.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw kn.create("invalid-sw-registration");S.swRegistration=A}})).apply(this,arguments)}function ha(S,A){return el.apply(this,arguments)}function el(){return(el=(0,N.Z)(function*(S,A){A?S.vapidKey=A:S.vapidKey||(S.vapidKey=lr)})).apply(this,arguments)}function tl(){return(tl=(0,N.Z)(function*(S,A){if(!navigator)throw kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kn.create("permission-blocked");return yield ha(S,A?.vapidKey),yield da(S,A?.serviceWorkerRegistration),Ka(S)})).apply(this,arguments)}function Ql(S,A,F){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,N.Z)(function*(S,A,F){const K=nl(A);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(K,{message_id:F[sa],message_name:F[ja],message_time:F[Ha],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function nl(S){switch(S){case fs.NOTIFICATION_CLICKED:return"notification_open";case fs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function no(){return(no=(0,N.Z)(function*(S,A){const F=A.data;if(!F.isFirebaseMessaging)return;S.onMessageHandler&&F.messageType===fs.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(to(F)):S.onMessageHandler.next(to(F)));const K=F.data;zr(K)&&"1"===K[Gc]&&(yield Ql(S,F.messageType,K))})).apply(this,arguments)}const io="@firebase/messaging",vi=S=>{const A=new rh(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function il(S,A){return no.apply(this,arguments)}(A,F)),A},tr=S=>{const A=S.getProvider("messaging").getImmediate();return{getToken:K=>function fa(S,A){return tl.apply(this,arguments)}(A,K)}};function $c(){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,N.Z)(function*(){try{yield(0,j.eu)()}catch{return!1}return typeof window<"u"&&(0,j.hl)()&&(0,j.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Mn(){(0,B._registerComponent)(new q.wA("messaging",vi,"PUBLIC")),(0,B._registerComponent)(new q.wA("messaging-internal",tr,"PRIVATE")),(0,B.registerVersion)(io,"0.9.16"),(0,B.registerVersion)(io,"0.9.16","esm2017")}();const Po="analytics",ic="firebase_id",ro="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pa="https://www.googletagmanager.com/gtag/js",Kn=new Z.Yd("@firebase/analytics");function ol(S){return Promise.all(S.map(A=>A.catch(F=>F)))}function al(S,A){const F=document.createElement("script");F.src=`${pa}?l=${S}&id=${A}`,F.async=!0,document.head.appendChild(F)}function Fo(S,A,F,K,ge,De){return so.apply(this,arguments)}function so(){return(so=(0,N.Z)(function*(S,A,F,K,ge,De){const Fe=K[ge];try{if(Fe)yield A[Fe];else{const mt=(yield ol(F)).find(Ot=>Ot.measurementId===ge);mt&&(yield A[mt.appId])}}catch(We){Kn.error(We)}S("config",ge,De)})).apply(this,arguments)}function Lo(S,A,F,K,ge){return oo.apply(this,arguments)}function oo(){return(oo=(0,N.Z)(function*(S,A,F,K,ge){try{let De=[];if(ge&&ge.send_to){let Fe=ge.send_to;Array.isArray(Fe)||(Fe=[Fe]);const We=yield ol(F);for(const mt of Fe){const Ot=We.find(Et=>Et.measurementId===mt),Bt=Ot&&A[Ot.appId];if(!Bt){De=[];break}De.push(Bt)}}0===De.length&&(De=Object.values(A)),yield Promise.all(De),S("event",K,ge||{})}catch(De){Kn.error(De)}})).apply(this,arguments)}function zc(){const S=window.document.getElementsByTagName("script");for(const A of Object.values(S))if(A.src&&A.src.includes(pa))return A;return null}const ii=new j.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),J=new class P{constructor(A={},F=1e3){this.throttleMetadata=A,this.intervalMillis=F}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,F){this.throttleMetadata[A]=F}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function xe(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function ct(S){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,N.Z)(function*(S){var A;const{appId:F,apiKey:K}=S,ge={method:"GET",headers:xe(K)},De=ro.replace("{app-id}",F),Fe=yield fetch(De,ge);if(200!==Fe.status&&304!==Fe.status){let We="";try{const mt=yield Fe.json();null!==(A=mt.error)&&void 0!==A&&A.message&&(We=mt.error.message)}catch{}throw ii.create("config-fetch-failed",{httpStatus:Fe.status,responseMessage:We})}return Fe.json()})).apply(this,arguments)}function gn(S){return In.apply(this,arguments)}function In(){return(In=(0,N.Z)(function*(S,A=J,F){const{appId:K,apiKey:ge,measurementId:De}=S.options;if(!K)throw ii.create("no-app-id");if(!ge){if(De)return{measurementId:De,appId:K};throw ii.create("no-api-key")}const Fe=A.getThrottleMetadata(K)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new Kc;return setTimeout((0,N.Z)(function*(){We.abort()}),void 0!==F?F:6e4),_s({appId:K,apiKey:ge,measurementId:De},Fe,We,A)})).apply(this,arguments)}function _s(S,A,F){return ys.apply(this,arguments)}function ys(){return(ys=(0,N.Z)(function*(S,{throttleEndTimeMillis:A,backoffCount:F},K,ge=J){var De,Fe;const{appId:We,measurementId:mt}=S;try{yield rc(K,A)}catch(Ot){if(mt)return Kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${null===(De=Ot)||void 0===De?void 0:De.message}]`),{appId:We,measurementId:mt};throw Ot}try{const Ot=yield ct(S);return ge.deleteThrottleMetadata(We),Ot}catch(Ot){const Bt=Ot;if(!Wc(Bt)){if(ge.deleteThrottleMetadata(We),mt)return Kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${Bt?.message}]`),{appId:We,measurementId:mt};throw Ot}const Et=503===Number(null===(Fe=Bt?.customData)||void 0===Fe?void 0:Fe.httpStatus)?(0,j.$s)(F,ge.intervalMillis,30):(0,j.$s)(F,ge.intervalMillis),Yn={throttleEndTimeMillis:Date.now()+Et,backoffCount:F+1};return ge.setThrottleMetadata(We,Yn),Kn.debug(`Calling attemptFetch again in ${Et} millis`),_s(S,Yn,K,ge)}})).apply(this,arguments)}function rc(S,A){return new Promise((F,K)=>{const ge=Math.max(A-Date.now(),0),De=setTimeout(F,ge);S.addEventListener(()=>{clearTimeout(De),K(ii.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function Wc(S){if(!(S instanceof j.ZR&&S.customData))return!1;const A=Number(S.customData.httpStatus);return 429===A||500===A||503===A||504===A}class Kc{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let Vo,oc;function Bo(){return(Bo=(0,N.Z)(function*(S,A,F,K,ge){if(ge&&ge.global)S("event",F,K);else{const De=yield A;S("event",F,Object.assign(Object.assign({},K),{send_to:De}))}})).apply(this,arguments)}function _a(S){oc=S}function Zu(S){Vo=S}function lo(){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,N.Z)(function*(){var S;if(!(0,j.hl)())return Kn.warn(ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,j.eu)()}catch(A){return Kn.warn(ii.create("indexeddb-unavailable",{errorInfo:null===(S=A)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function dl(){return(dl=(0,N.Z)(function*(S,A,F,K,ge,De,Fe){var We;const mt=gn(S);mt.then(nr=>{F[nr.measurementId]=nr.appId,S.options.measurementId&&nr.measurementId!==S.options.measurementId&&Kn.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${nr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(nr=>Kn.error(nr)),A.push(mt);const Ot=lo().then(nr=>{if(nr)return K.getId()}),[Bt,Et]=yield Promise.all([mt,Ot]);zc()||al(De,Bt.measurementId),oc&&(ge("consent","default",oc),_a(void 0)),ge("js",new Date);const Yn=null!==(We=Fe?.config)&&void 0!==We?We:{};return Yn.origin="firebase",Yn.update=!0,null!=Et&&(Yn[ic]=Et),ge("config",Bt.measurementId,Yn),Vo&&(ge("set",Vo),Zu(void 0)),Bt.measurementId})).apply(this,arguments)}class Xc{constructor(A){this.app=A}_delete(){return delete Nr[this.app.options.appId],Promise.resolve()}}let Nr={},Uo=[];const hl={};let pl,ya,fl="dataLayer",ac=!1;function _y(S,A,F){!function Hg(){const S=[];if((0,j.ru)()&&S.push("This is a browser extension environment."),(0,j.zI)()||S.push("Cookies are not available."),S.length>0){const A=S.map((K,ge)=>`(${ge+1}) ${K}`).join(" "),F=ii.create("invalid-analytics-context",{errorInfo:A});Kn.warn(F.message)}}();const K=S.options.appId;if(!K)throw ii.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw ii.create("no-api-key");Kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nr[K])throw ii.create("already-exists",{id:K});if(!ac){!function Ar(S){let A=[];Array.isArray(window[S])?A=window[S]:window[S]=A}(fl);const{wrappedGtag:De,gtagCore:Fe}=function ga(S,A,F,K,ge){let De=function(...Fe){window[K].push(arguments)};return window[ge]&&"function"==typeof window[ge]&&(De=window[ge]),window[ge]=function ll(S,A,F,K){function De(){return(De=(0,N.Z)(function*(Fe,We,mt){try{"event"===Fe?yield Lo(S,A,F,We,mt):"config"===Fe?yield Fo(S,A,F,K,We,mt):"consent"===Fe?S("consent","update",mt):S("set",We)}catch(Ot){Kn.error(Ot)}})).apply(this,arguments)}return function ge(Fe,We,mt){return De.apply(this,arguments)}}(De,S,A,F),{gtagCore:De,wrappedGtag:window[ge]}}(Nr,Uo,hl,fl,"gtag");ya=De,pl=Fe,ac=!0}return Nr[K]=function ul(S,A,F,K,ge,De,Fe){return dl.apply(this,arguments)}(S,Uo,hl,A,pl,fl,F),new Xc(S)}function vy(){return Af.apply(this,arguments)}function Af(){return(Af=(0,N.Z)(function*(){if((0,j.ru)()||!(0,j.zI)()||!(0,j.hl)())return!1;try{return yield(0,j.eu)()}catch{return!1}})).apply(this,arguments)}const gt="@firebase/analytics";!function mn(){(0,B._registerComponent)(new q.wA(Po,(A,{options:F})=>_y(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,B._registerComponent)(new q.wA("analytics-internal",function S(A){try{const F=A.getProvider(Po).getImmediate();return{logEvent:(K,ge,De)=>function Sn(S,A,F,K){S=(0,j.m9)(S),function sh(S,A,F,K,ge){return Bo.apply(this,arguments)}(ya,Nr[S.app.options.appId],A,F,K).catch(ge=>Kn.error(ge))}(F,K,ge,De)}}catch(F){throw ii.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,B.registerVersion)(gt,"0.8.0"),(0,B.registerVersion)(gt,"0.8.0","esm2017")}();var vs=k(4408),bi=k(7565);const tu=new class jo extends bi.v{}(class lc extends vs.o{constructor(A,F){super(A,F),this.scheduler=A,this.work=F}schedule(A,F=0){return F>0?super.schedule(A,F):(this.delay=F,this.state=A,this.scheduler.flush(this),this)}execute(A,F){return F>0||this.closed?super.execute(A,F):this._execute(A,F)}requestAsyncId(A,F,K=0){return null!=K&&K>0||null==K&&this.delay>0?super.requestAsyncId(A,F,K):A.flush(this)}});var Wu=k(4986),cc=k(8505),ml=k(9468),co=k(5363);const ht=new l.GfV("7.4.1"),uc="__angularfire_symbol__analyticsIsSupportedValue",Ho="__angularfire_symbol__analyticsIsSupported",_l="__angularfire_symbol__remoteConfigIsSupportedValue",yl="__angularfire_symbol__remoteConfigIsSupported",Un="__angularfire_symbol__messagingIsSupportedValue",Ku="__angularfire_symbol__messagingIsSupported";function dc(S,A,F){if(A){if(1===A.length)return A[0];const De=A.filter(Fe=>Fe.app===F);if(1===De.length)return De[0]}return F.container.getProvider(S).getImmediate({optional:!0})}globalThis[Ho]||(globalThis[Ho]=vy().then(S=>globalThis[uc]=S).catch(()=>globalThis[uc]=!1)),globalThis[Ku]||(globalThis[Ku]=$c().then(S=>globalThis[Un]=S).catch(()=>globalThis[Un]=!1)),globalThis[yl]||(globalThis[yl]=Xs().then(S=>globalThis[_l]=S).catch(()=>globalThis[_l]=!1));const Fs=(S,A)=>{const F=A?[A]:(0,R.C6)(),K=[];return F.forEach(ge=>{ge.container.getProvider(S).instances.forEach(Fe=>{K.includes(Fe)||K.push(Fe)})}),K};function yr(){}class bs{constructor(A,F=tu){this.zone=A,this.delegate=F}now(){return this.delegate.now()}schedule(A,F,K){const ge=this.zone;return this.delegate.schedule(function(Fe){ge.runGuarded(()=>{A.apply(this,[Fe])})},F,K)}}class Qu{constructor(A){this.zone=A,this.task=null}call(A,F){const K=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yr,{},yr,yr)),F.pipe((0,cc.b)({next:K,complete:K,error:K})).subscribe(A).add(K)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Or=(()=>{class S{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new bs(Zone.current)),this.insideAngular=F.run(()=>new bs(Zone.current,Wu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(F){return new(F||S)(l.LFG(l.R0b))},S.\u0275prov=l.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function xr(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function uo(S){return xr(),function ci(S){return function(F){return(F=F.lift(new Qu(S.ngZone))).pipe((0,ml.R)(S.outsideAngular),(0,co.Q)(S.insideAngular))}}(xr())(S)}},5876:(qe,H,k)=>{const R=k(532),N=k(7554),B=k(179),j=k(1036);function q(Z,Q,le,W,Y){const X=[].slice.call(arguments,1),Te=X.length,Ee="function"==typeof X[Te-1];if(!Ee&&!R())throw new Error("Callback required as last argument");if(!Ee){if(Te<1)throw new Error("Too few arguments provided");return 1===Te?(le=Q,Q=W=void 0):2===Te&&!Q.getContext&&(W=le,le=Q,Q=void 0),new Promise(function(be,Ze){try{const me=N.create(le,W);be(Z(me,Q,W))}catch(me){Ze(me)}})}if(Te<2)throw new Error("Too few arguments provided");2===Te?(Y=le,le=Q,Q=W=void 0):3===Te&&(Q.getContext&&typeof Y>"u"?(Y=W,W=void 0):(Y=W,W=le,le=Q,Q=void 0));try{const be=N.create(le,W);Y(null,Z(be,Q,W))}catch(be){Y(be)}}H.rT=q.bind(null,B.render),H.hz=q.bind(null,B.renderToDataURL),H.toString=q.bind(null,function(Z,Q,le){return j.render(Z,le)})},532:qe=>{qe.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},3012:(qe,H,k)=>{const l=k(4860).getSymbolSize;H.getRowColCoords=function(N){if(1===N)return[];const B=Math.floor(N/7)+2,j=l(N),q=145===j?26:2*Math.ceil((j-13)/(2*B-2)),Z=[j-7];for(let Q=1;Q<B-1;Q++)Z[Q]=Z[Q-1]-q;return Z.push(6),Z.reverse()},H.getPositions=function(N){const B=[],j=H.getRowColCoords(N),q=j.length;for(let Z=0;Z<q;Z++)for(let Q=0;Q<q;Q++)0===Z&&0===Q||0===Z&&Q===q-1||Z===q-1&&0===Q||B.push([j[Z],j[Q]]);return B}},812:(qe,H,k)=>{const l=k(6906),R=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function N(B){this.mode=l.ALPHANUMERIC,this.data=B}N.getBitsLength=function(j){return 11*Math.floor(j/2)+j%2*6},N.prototype.getLength=function(){return this.data.length},N.prototype.getBitsLength=function(){return N.getBitsLength(this.data.length)},N.prototype.write=function(j){let q;for(q=0;q+2<=this.data.length;q+=2){let Z=45*R.indexOf(this.data[q]);Z+=R.indexOf(this.data[q+1]),j.put(Z,11)}this.data.length%2&&j.put(R.indexOf(this.data[q]),6)},qe.exports=N},3044:qe=>{function H(){this.buffer=[],this.length=0}H.prototype={get:function(k){const l=Math.floor(k/8);return 1==(this.buffer[l]>>>7-k%8&1)},put:function(k,l){for(let R=0;R<l;R++)this.putBit(1==(k>>>l-R-1&1))},getLengthInBits:function(){return this.length},putBit:function(k){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),k&&(this.buffer[l]|=128>>>this.length%8),this.length++}},qe.exports=H},1973:qe=>{function H(k){if(!k||k<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=k,this.data=new Uint8Array(k*k),this.reservedBit=new Uint8Array(k*k)}H.prototype.set=function(k,l,R,N){const B=k*this.size+l;this.data[B]=R,N&&(this.reservedBit[B]=!0)},H.prototype.get=function(k,l){return this.data[k*this.size+l]},H.prototype.xor=function(k,l,R){this.data[k*this.size+l]^=R},H.prototype.isReserved=function(k,l){return this.reservedBit[k*this.size+l]},qe.exports=H},1824:(qe,H,k)=>{const l=k(8419),R=k(6906);function N(B){this.mode=R.BYTE,this.data=new Uint8Array(l(B))}N.getBitsLength=function(j){return 8*j},N.prototype.getLength=function(){return this.data.length},N.prototype.getBitsLength=function(){return N.getBitsLength(this.data.length)},N.prototype.write=function(B){for(let j=0,q=this.data.length;j<q;j++)B.put(this.data[j],8)},qe.exports=N},6194:(qe,H,k)=>{const l=k(9020),R=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],N=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];H.getBlocksCount=function(j,q){switch(q){case l.L:return R[4*(j-1)+0];case l.M:return R[4*(j-1)+1];case l.Q:return R[4*(j-1)+2];case l.H:return R[4*(j-1)+3];default:return}},H.getTotalCodewordsCount=function(j,q){switch(q){case l.L:return N[4*(j-1)+0];case l.M:return N[4*(j-1)+1];case l.Q:return N[4*(j-1)+2];case l.H:return N[4*(j-1)+3];default:return}}},9020:(qe,H)=>{H.L={bit:1},H.M={bit:0},H.Q={bit:3},H.H={bit:2},H.isValid=function(R){return R&&typeof R.bit<"u"&&R.bit>=0&&R.bit<4},H.from=function(R,N){if(H.isValid(R))return R;try{return function k(l){if("string"!=typeof l)throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return H.L;case"m":case"medium":return H.M;case"q":case"quartile":return H.Q;case"h":case"high":return H.H;default:throw new Error("Unknown EC Level: "+l)}}(R)}catch{return N}}},9172:(qe,H,k)=>{const l=k(4860).getSymbolSize;H.getPositions=function(B){const j=l(B);return[[0,0],[j-7,0],[0,j-7]]}},611:(qe,H,k)=>{const l=k(4860),B=l.getBCHDigit(1335);H.getEncodedBits=function(q,Z){const Q=q.bit<<3|Z;let le=Q<<10;for(;l.getBCHDigit(le)-B>=0;)le^=1335<<l.getBCHDigit(le)-B;return 21522^(Q<<10|le)}},7794:(qe,H)=>{const k=new Uint8Array(512),l=new Uint8Array(256);(function(){let N=1;for(let B=0;B<255;B++)k[B]=N,l[N]=B,N<<=1,256&N&&(N^=285);for(let B=255;B<512;B++)k[B]=k[B-255]})(),H.log=function(N){if(N<1)throw new Error("log("+N+")");return l[N]},H.exp=function(N){return k[N]},H.mul=function(N,B){return 0===N||0===B?0:k[l[N]+l[B]]}},8043:(qe,H,k)=>{const l=k(6906),R=k(4860);function N(B){this.mode=l.KANJI,this.data=B}N.getBitsLength=function(j){return 13*j},N.prototype.getLength=function(){return this.data.length},N.prototype.getBitsLength=function(){return N.getBitsLength(this.data.length)},N.prototype.write=function(B){let j;for(j=0;j<this.data.length;j++){let q=R.toSJIS(this.data[j]);if(q>=33088&&q<=40956)q-=33088;else{if(!(q>=57408&&q<=60351))throw new Error("Invalid SJIS character: "+this.data[j]+"\nMake sure your charset is UTF-8");q-=49472}q=192*(q>>>8&255)+(255&q),B.put(q,13)}},qe.exports=N},7135:(qe,H)=>{H.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function l(R,N,B){switch(R){case H.Patterns.PATTERN000:return(N+B)%2==0;case H.Patterns.PATTERN001:return N%2==0;case H.Patterns.PATTERN010:return B%3==0;case H.Patterns.PATTERN011:return(N+B)%3==0;case H.Patterns.PATTERN100:return(Math.floor(N/2)+Math.floor(B/3))%2==0;case H.Patterns.PATTERN101:return N*B%2+N*B%3==0;case H.Patterns.PATTERN110:return(N*B%2+N*B%3)%2==0;case H.Patterns.PATTERN111:return(N*B%3+(N+B)%2)%2==0;default:throw new Error("bad maskPattern:"+R)}}H.isValid=function(N){return null!=N&&""!==N&&!isNaN(N)&&N>=0&&N<=7},H.from=function(N){return H.isValid(N)?parseInt(N,10):void 0},H.getPenaltyN1=function(N){const B=N.size;let j=0,q=0,Z=0,Q=null,le=null;for(let W=0;W<B;W++){q=Z=0,Q=le=null;for(let Y=0;Y<B;Y++){let X=N.get(W,Y);X===Q?q++:(q>=5&&(j+=q-5+3),Q=X,q=1),X=N.get(Y,W),X===le?Z++:(Z>=5&&(j+=Z-5+3),le=X,Z=1)}q>=5&&(j+=q-5+3),Z>=5&&(j+=Z-5+3)}return j},H.getPenaltyN2=function(N){const B=N.size;let j=0;for(let q=0;q<B-1;q++)for(let Z=0;Z<B-1;Z++){const Q=N.get(q,Z)+N.get(q,Z+1)+N.get(q+1,Z)+N.get(q+1,Z+1);(4===Q||0===Q)&&j++}return 3*j},H.getPenaltyN3=function(N){const B=N.size;let j=0,q=0,Z=0;for(let Q=0;Q<B;Q++){q=Z=0;for(let le=0;le<B;le++)q=q<<1&2047|N.get(Q,le),le>=10&&(1488===q||93===q)&&j++,Z=Z<<1&2047|N.get(le,Q),le>=10&&(1488===Z||93===Z)&&j++}return 40*j},H.getPenaltyN4=function(N){let B=0;const j=N.data.length;for(let Z=0;Z<j;Z++)B+=N.data[Z];return 10*Math.abs(Math.ceil(100*B/j/5)-10)},H.applyMask=function(N,B){const j=B.size;for(let q=0;q<j;q++)for(let Z=0;Z<j;Z++)B.isReserved(Z,q)||B.xor(Z,q,l(N,Z,q))},H.getBestMask=function(N,B){const j=Object.keys(H.Patterns).length;let q=0,Z=1/0;for(let Q=0;Q<j;Q++){B(Q),H.applyMask(Q,N);const le=H.getPenaltyN1(N)+H.getPenaltyN2(N)+H.getPenaltyN3(N)+H.getPenaltyN4(N);H.applyMask(Q,N),le<Z&&(Z=le,q=Q)}return q}},6906:(qe,H,k)=>{const l=k(2316),R=k(4677);H.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},H.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},H.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},H.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},H.MIXED={bit:-1},H.getCharCountIndicator=function(j,q){if(!j.ccBits)throw new Error("Invalid mode: "+j);if(!l.isValid(q))throw new Error("Invalid version: "+q);return q>=1&&q<10?j.ccBits[0]:q<27?j.ccBits[1]:j.ccBits[2]},H.getBestModeForData=function(j){return R.testNumeric(j)?H.NUMERIC:R.testAlphanumeric(j)?H.ALPHANUMERIC:R.testKanji(j)?H.KANJI:H.BYTE},H.toString=function(j){if(j&&j.id)return j.id;throw new Error("Invalid mode")},H.isValid=function(j){return j&&j.bit&&j.ccBits},H.from=function(j,q){if(H.isValid(j))return j;try{return function N(B){if("string"!=typeof B)throw new Error("Param is not a string");switch(B.toLowerCase()){case"numeric":return H.NUMERIC;case"alphanumeric":return H.ALPHANUMERIC;case"kanji":return H.KANJI;case"byte":return H.BYTE;default:throw new Error("Unknown mode: "+B)}}(j)}catch{return q}}},6002:(qe,H,k)=>{const l=k(6906);function R(N){this.mode=l.NUMERIC,this.data=N.toString()}R.getBitsLength=function(B){return 10*Math.floor(B/3)+(B%3?B%3*3+1:0)},R.prototype.getLength=function(){return this.data.length},R.prototype.getBitsLength=function(){return R.getBitsLength(this.data.length)},R.prototype.write=function(B){let j,q,Z;for(j=0;j+3<=this.data.length;j+=3)q=this.data.substr(j,3),Z=parseInt(q,10),B.put(Z,10);const Q=this.data.length-j;Q>0&&(q=this.data.substr(j),Z=parseInt(q,10),B.put(Z,3*Q+1))},qe.exports=R},7793:(qe,H,k)=>{const l=k(7794);H.mul=function(N,B){const j=new Uint8Array(N.length+B.length-1);for(let q=0;q<N.length;q++)for(let Z=0;Z<B.length;Z++)j[q+Z]^=l.mul(N[q],B[Z]);return j},H.mod=function(N,B){let j=new Uint8Array(N);for(;j.length-B.length>=0;){const q=j[0];for(let Q=0;Q<B.length;Q++)j[Q]^=l.mul(B[Q],q);let Z=0;for(;Z<j.length&&0===j[Z];)Z++;j=j.slice(Z)}return j},H.generateECPolynomial=function(N){let B=new Uint8Array([1]);for(let j=0;j<N;j++)B=H.mul(B,new Uint8Array([1,l.exp(j)]));return B}},7554:(qe,H,k)=>{const l=k(4860),R=k(9020),N=k(3044),B=k(1973),j=k(3012),q=k(9172),Z=k(7135),Q=k(6194),le=k(8098),W=k(6602),Y=k(611),X=k(6906),Te=k(9465);function pe(ye,Re,Me){const G=ye.size,_e=Y.getEncodedBits(Re,Me);let ee,ie;for(ee=0;ee<15;ee++)ie=1==(_e>>ee&1),ye.set(ee<6?ee:ee<8?ee+1:G-15+ee,8,ie,!0),ye.set(8,ee<8?G-ee-1:ee<9?15-ee-1+1:15-ee-1,ie,!0);ye.set(G-8,8,1,!0)}function Se(ye,Re,Me,G){let _e;if(Array.isArray(ye))_e=Te.fromArray(ye);else{if("string"!=typeof ye)throw new Error("Invalid data");{let Ge=Re;if(!Ge){const He=Te.rawSplit(ye);Ge=W.getBestVersionForData(He,Me)}_e=Te.fromString(ye,Ge||40)}}const ee=W.getBestVersionForData(_e,Me);if(!ee)throw new Error("The amount of data is too big to be stored in a QR Code");if(Re){if(Re<ee)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+ee+".\n")}else Re=ee;const ie=function Be(ye,Re,Me){const G=new N;Me.forEach(function(ue){G.put(ue.mode.bit,4),G.put(ue.getLength(),X.getCharCountIndicator(ue.mode,ye)),ue.write(G)});const ie=8*(l.getSymbolTotalCodewords(ye)-Q.getTotalCodewordsCount(ye,Re));for(G.getLengthInBits()+4<=ie&&G.put(0,4);G.getLengthInBits()%8!=0;)G.putBit(0);const fe=(ie-G.getLengthInBits())/8;for(let ue=0;ue<fe;ue++)G.put(ue%2?17:236,8);return function ke(ye,Re,Me){const G=l.getSymbolTotalCodewords(Re),ee=G-Q.getTotalCodewordsCount(Re,Me),ie=Q.getBlocksCount(Re,Me),ue=ie-G%ie,Ge=Math.floor(G/ie),He=Math.floor(ee/ie),yt=He+1,en=Ge-He,qt=new le(en);let tt=0;const tn=new Array(ie),xn=new Array(ie);let zt=0;const Ft=new Uint8Array(ye.buffer);for(let Gn=0;Gn<ie;Gn++){const ei=Gn<ue?He:yt;tn[Gn]=Ft.slice(tt,tt+ei),xn[Gn]=qt.encode(tn[Gn]),tt+=ei,zt=Math.max(zt,ei)}const En=new Uint8Array(G);let St,wi,jt=0;for(St=0;St<zt;St++)for(wi=0;wi<ie;wi++)St<tn[wi].length&&(En[jt++]=tn[wi][St]);for(St=0;St<en;St++)for(wi=0;wi<ie;wi++)En[jt++]=xn[wi][St];return En}(G,ye,Re)}(Re,Me,_e),fe=l.getSymbolSize(Re),ue=new B(fe);return function Ee(ye,Re){const Me=ye.size,G=q.getPositions(Re);for(let _e=0;_e<G.length;_e++){const ee=G[_e][0],ie=G[_e][1];for(let fe=-1;fe<=7;fe++)if(!(ee+fe<=-1||Me<=ee+fe))for(let ue=-1;ue<=7;ue++)ie+ue<=-1||Me<=ie+ue||ye.set(ee+fe,ie+ue,fe>=0&&fe<=6&&(0===ue||6===ue)||ue>=0&&ue<=6&&(0===fe||6===fe)||fe>=2&&fe<=4&&ue>=2&&ue<=4,!0)}}(ue,Re),function be(ye){const Re=ye.size;for(let Me=8;Me<Re-8;Me++){const G=Me%2==0;ye.set(Me,6,G,!0),ye.set(6,Me,G,!0)}}(ue),function Ze(ye,Re){const Me=j.getPositions(Re);for(let G=0;G<Me.length;G++){const _e=Me[G][0],ee=Me[G][1];for(let ie=-2;ie<=2;ie++)for(let fe=-2;fe<=2;fe++)ye.set(_e+ie,ee+fe,-2===ie||2===ie||-2===fe||2===fe||0===ie&&0===fe,!0)}}(ue,Re),pe(ue,Me,0),Re>=7&&function me(ye,Re){const Me=ye.size,G=W.getEncodedBits(Re);let _e,ee,ie;for(let fe=0;fe<18;fe++)_e=Math.floor(fe/3),ee=fe%3+Me-8-3,ie=1==(G>>fe&1),ye.set(_e,ee,ie,!0),ye.set(ee,_e,ie,!0)}(ue,Re),function Ae(ye,Re){const Me=ye.size;let G=-1,_e=Me-1,ee=7,ie=0;for(let fe=Me-1;fe>0;fe-=2)for(6===fe&&fe--;;){for(let ue=0;ue<2;ue++)if(!ye.isReserved(_e,fe-ue)){let Ge=!1;ie<Re.length&&(Ge=1==(Re[ie]>>>ee&1)),ye.set(_e,fe-ue,Ge),ee--,-1===ee&&(ie++,ee=7)}if(_e+=G,_e<0||Me<=_e){_e-=G,G=-G;break}}}(ue,ie),isNaN(G)&&(G=Z.getBestMask(ue,pe.bind(null,ue,Me))),Z.applyMask(G,ue),pe(ue,Me,G),{modules:ue,version:Re,errorCorrectionLevel:Me,maskPattern:G,segments:_e}}H.create=function(Re,Me){if(typeof Re>"u"||""===Re)throw new Error("No input text");let _e,ee,G=R.M;return typeof Me<"u"&&(G=R.from(Me.errorCorrectionLevel,R.M),_e=W.from(Me.version),ee=Z.from(Me.maskPattern),Me.toSJISFunc&&l.setToSJISFunction(Me.toSJISFunc)),Se(Re,_e,G,ee)}},8098:(qe,H,k)=>{const l=k(7793);function R(N){this.genPoly=void 0,this.degree=N,this.degree&&this.initialize(this.degree)}R.prototype.initialize=function(B){this.degree=B,this.genPoly=l.generateECPolynomial(this.degree)},R.prototype.encode=function(B){if(!this.genPoly)throw new Error("Encoder not initialized");const j=new Uint8Array(B.length+this.degree);j.set(B);const q=l.mod(j,this.genPoly),Z=this.degree-q.length;if(Z>0){const Q=new Uint8Array(this.degree);return Q.set(q,Z),Q}return q},qe.exports=R},4677:(qe,H)=>{const k="[0-9]+";let R="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";R=R.replace(/u/g,"\\u");const N="(?:(?![A-Z0-9 $%*+\\-./:]|"+R+")(?:.|[\r\n]))+";H.KANJI=new RegExp(R,"g"),H.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),H.BYTE=new RegExp(N,"g"),H.NUMERIC=new RegExp(k,"g"),H.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const B=new RegExp("^"+R+"$"),j=new RegExp("^"+k+"$"),q=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");H.testKanji=function(Q){return B.test(Q)},H.testNumeric=function(Q){return j.test(Q)},H.testAlphanumeric=function(Q){return q.test(Q)}},9465:(qe,H,k)=>{const l=k(6906),R=k(6002),N=k(812),B=k(1824),j=k(8043),q=k(4677),Z=k(4860),Q=k(4901);function le(me){return unescape(encodeURIComponent(me)).length}function W(me,pe,Ae){const Be=[];let ke;for(;null!==(ke=me.exec(Ae));)Be.push({data:ke[0],index:ke.index,mode:pe,length:ke[0].length});return Be}function Y(me){const pe=W(q.NUMERIC,l.NUMERIC,me),Ae=W(q.ALPHANUMERIC,l.ALPHANUMERIC,me);let Be,ke;return Z.isKanjiModeEnabled()?(Be=W(q.BYTE,l.BYTE,me),ke=W(q.KANJI,l.KANJI,me)):(Be=W(q.BYTE_KANJI,l.BYTE,me),ke=[]),pe.concat(Ae,Be,ke).sort(function(ye,Re){return ye.index-Re.index}).map(function(ye){return{data:ye.data,mode:ye.mode,length:ye.length}})}function X(me,pe){switch(pe){case l.NUMERIC:return R.getBitsLength(me);case l.ALPHANUMERIC:return N.getBitsLength(me);case l.KANJI:return j.getBitsLength(me);case l.BYTE:return B.getBitsLength(me)}}function Ze(me,pe){let Ae;const Be=l.getBestModeForData(me);if(Ae=l.from(pe,Be),Ae!==l.BYTE&&Ae.bit<Be.bit)throw new Error('"'+me+'" cannot be encoded with mode '+l.toString(Ae)+".\n Suggested mode is: "+l.toString(Be));switch(Ae===l.KANJI&&!Z.isKanjiModeEnabled()&&(Ae=l.BYTE),Ae){case l.NUMERIC:return new R(me);case l.ALPHANUMERIC:return new N(me);case l.KANJI:return new j(me);case l.BYTE:return new B(me)}}H.fromArray=function(pe){return pe.reduce(function(Ae,Be){return"string"==typeof Be?Ae.push(Ze(Be,null)):Be.data&&Ae.push(Ze(Be.data,Be.mode)),Ae},[])},H.fromString=function(pe,Ae){const ke=function Ee(me){const pe=[];for(let Ae=0;Ae<me.length;Ae++){const Be=me[Ae];switch(Be.mode){case l.NUMERIC:pe.push([Be,{data:Be.data,mode:l.ALPHANUMERIC,length:Be.length},{data:Be.data,mode:l.BYTE,length:Be.length}]);break;case l.ALPHANUMERIC:pe.push([Be,{data:Be.data,mode:l.BYTE,length:Be.length}]);break;case l.KANJI:pe.push([Be,{data:Be.data,mode:l.BYTE,length:le(Be.data)}]);break;case l.BYTE:pe.push([{data:Be.data,mode:l.BYTE,length:le(Be.data)}])}}return pe}(Y(pe,Z.isKanjiModeEnabled())),Se=function be(me,pe){const Ae={},Be={start:{}};let ke=["start"];for(let Se=0;Se<me.length;Se++){const ye=me[Se],Re=[];for(let Me=0;Me<ye.length;Me++){const G=ye[Me],_e=""+Se+Me;Re.push(_e),Ae[_e]={node:G,lastCount:0},Be[_e]={};for(let ee=0;ee<ke.length;ee++){const ie=ke[ee];Ae[ie]&&Ae[ie].node.mode===G.mode?(Be[ie][_e]=X(Ae[ie].lastCount+G.length,G.mode)-X(Ae[ie].lastCount,G.mode),Ae[ie].lastCount+=G.length):(Ae[ie]&&(Ae[ie].lastCount=G.length),Be[ie][_e]=X(G.length,G.mode)+4+l.getCharCountIndicator(G.mode,pe))}}ke=Re}for(let Se=0;Se<ke.length;Se++)Be[ke[Se]].end=0;return{map:Be,table:Ae}}(ke,Ae),ye=Q.find_path(Se.map,"start","end"),Re=[];for(let Me=1;Me<ye.length-1;Me++)Re.push(Se.table[ye[Me]].node);return H.fromArray(function Te(me){return me.reduce(function(pe,Ae){const Be=pe.length-1>=0?pe[pe.length-1]:null;return Be&&Be.mode===Ae.mode?(pe[pe.length-1].data+=Ae.data,pe):(pe.push(Ae),pe)},[])}(Re))},H.rawSplit=function(pe){return H.fromArray(Y(pe,Z.isKanjiModeEnabled()))}},4860:(qe,H)=>{let k;const l=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];H.getSymbolSize=function(N){if(!N)throw new Error('"version" cannot be null or undefined');if(N<1||N>40)throw new Error('"version" should be in range from 1 to 40');return 4*N+17},H.getSymbolTotalCodewords=function(N){return l[N]},H.getBCHDigit=function(R){let N=0;for(;0!==R;)N++,R>>>=1;return N},H.setToSJISFunction=function(N){if("function"!=typeof N)throw new Error('"toSJISFunc" is not a valid function.');k=N},H.isKanjiModeEnabled=function(){return typeof k<"u"},H.toSJIS=function(N){return k(N)}},2316:(qe,H)=>{H.isValid=function(l){return!isNaN(l)&&l>=1&&l<=40}},6602:(qe,H,k)=>{const l=k(4860),R=k(6194),N=k(9020),B=k(6906),j=k(2316),Z=l.getBCHDigit(7973);function le(X,Te){return B.getCharCountIndicator(X,Te)+4}function W(X,Te){let Ee=0;return X.forEach(function(be){Ee+=le(be.mode,Te)+be.getBitsLength()}),Ee}H.from=function(Te,Ee){return j.isValid(Te)?parseInt(Te,10):Ee},H.getCapacity=function(Te,Ee,be){if(!j.isValid(Te))throw new Error("Invalid QR Code version");typeof be>"u"&&(be=B.BYTE);const pe=8*(l.getSymbolTotalCodewords(Te)-R.getTotalCodewordsCount(Te,Ee));if(be===B.MIXED)return pe;const Ae=pe-le(be,Te);switch(be){case B.NUMERIC:return Math.floor(Ae/10*3);case B.ALPHANUMERIC:return Math.floor(Ae/11*2);case B.KANJI:return Math.floor(Ae/13);default:return Math.floor(Ae/8)}},H.getBestVersionForData=function(Te,Ee){let be;const Ze=N.from(Ee,N.M);if(Array.isArray(Te)){if(Te.length>1)return function Y(X,Te){for(let Ee=1;Ee<=40;Ee++)if(W(X,Ee)<=H.getCapacity(Ee,Te,B.MIXED))return Ee}(Te,Ze);if(0===Te.length)return 1;be=Te[0]}else be=Te;return function Q(X,Te,Ee){for(let be=1;be<=40;be++)if(Te<=H.getCapacity(be,Ee,X))return be}(be.mode,be.getLength(),Ze)},H.getEncodedBits=function(Te){if(!j.isValid(Te)||Te<7)throw new Error("Invalid QR Code version");let Ee=Te<<12;for(;l.getBCHDigit(Ee)-Z>=0;)Ee^=7973<<l.getBCHDigit(Ee)-Z;return Te<<12|Ee}},179:(qe,H,k)=>{const l=k(714);H.render=function(j,q,Z){let Q=Z,le=q;typeof Q>"u"&&(!q||!q.getContext)&&(Q=q,q=void 0),q||(le=function N(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),Q=l.getOptions(Q);const W=l.getImageWidth(j.modules.size,Q),Y=le.getContext("2d"),X=Y.createImageData(W,W);return l.qrToImageData(X.data,j,Q),function R(B,j,q){B.clearRect(0,0,j.width,j.height),j.style||(j.style={}),j.height=q,j.width=q,j.style.height=q+"px",j.style.width=q+"px"}(Y,le,W),Y.putImageData(X,0,0),le},H.renderToDataURL=function(j,q,Z){let Q=Z;return typeof Q>"u"&&(!q||!q.getContext)&&(Q=q,q=void 0),Q||(Q={}),H.render(j,q,Q).toDataURL(Q.type||"image/png",(Q.rendererOpts||{}).quality)}},1036:(qe,H,k)=>{const l=k(714);function R(j,q){const Z=j.a/255,Q=q+'="'+j.hex+'"';return Z<1?Q+" "+q+'-opacity="'+Z.toFixed(2).slice(1)+'"':Q}function N(j,q,Z){let Q=j+q;return typeof Z<"u"&&(Q+=" "+Z),Q}H.render=function(q,Z,Q){const le=l.getOptions(Z),W=q.modules.size,Y=q.modules.data,X=W+2*le.margin,Te=le.color.light.a?"<path "+R(le.color.light,"fill")+' d="M0 0h'+X+"v"+X+'H0z"/>':"",Ee="<path "+R(le.color.dark,"stroke")+' d="'+function B(j,q,Z){let Q="",le=0,W=!1,Y=0;for(let X=0;X<j.length;X++){const Te=Math.floor(X%q),Ee=Math.floor(X/q);!Te&&!W&&(W=!0),j[X]?(Y++,X>0&&Te>0&&j[X-1]||(Q+=W?N("M",Te+Z,.5+Ee+Z):N("m",le,0),le=0,W=!1),Te+1<q&&j[X+1]||(Q+=N("h",Y),Y=0)):le++}return Q}(Y,W,le.margin)+'"/>',me='<svg xmlns="http://www.w3.org/2000/svg" '+(le.width?'width="'+le.width+'" height="'+le.width+'" ':"")+'viewBox="0 0 '+X+" "+X+'" shape-rendering="crispEdges">'+Te+Ee+"</svg>\n";return"function"==typeof Q&&Q(null,me),me}},714:(qe,H)=>{function k(l){if("number"==typeof l&&(l=l.toString()),"string"!=typeof l)throw new Error("Color should be defined as hex string");let R=l.slice().replace("#","").split("");if(R.length<3||5===R.length||R.length>8)throw new Error("Invalid hex color: "+l);(3===R.length||4===R.length)&&(R=Array.prototype.concat.apply([],R.map(function(B){return[B,B]}))),6===R.length&&R.push("F","F");const N=parseInt(R.join(""),16);return{r:N>>24&255,g:N>>16&255,b:N>>8&255,a:255&N,hex:"#"+R.slice(0,6).join("")}}H.getOptions=function(R){R||(R={}),R.color||(R.color={});const B=R.width&&R.width>=21?R.width:void 0;return{width:B,scale:B?4:R.scale||4,margin:typeof R.margin>"u"||null===R.margin||R.margin<0?4:R.margin,color:{dark:k(R.color.dark||"#000000ff"),light:k(R.color.light||"#ffffffff")},type:R.type,rendererOpts:R.rendererOpts||{}}},H.getScale=function(R,N){return N.width&&N.width>=R+2*N.margin?N.width/(R+2*N.margin):N.scale},H.getImageWidth=function(R,N){const B=H.getScale(R,N);return Math.floor((R+2*N.margin)*B)},H.qrToImageData=function(R,N,B){const j=N.modules.size,q=N.modules.data,Z=H.getScale(j,B),Q=Math.floor((j+2*B.margin)*Z),le=B.margin*Z,W=[B.color.light,B.color.dark];for(let Y=0;Y<Q;Y++)for(let X=0;X<Q;X++){let Te=4*(Y*Q+X),Ee=B.color.light;Y>=le&&X>=le&&Y<Q-le&&X<Q-le&&(Ee=W[q[Math.floor((Y-le)/Z)*j+Math.floor((X-le)/Z)]?1:0]),R[Te++]=Ee.r,R[Te++]=Ee.g,R[Te++]=Ee.b,R[Te]=Ee.a}}},2090:(qe,H,k)=>{"use strict";k.d(H,{$s:()=>ls,BH:()=>Te,G6:()=>Me,L:()=>Q,LL:()=>Ge,Sg:()=>Ee,UG:()=>me,US:()=>q,ZB:()=>Y,ZR:()=>ue,b$:()=>Be,eu:()=>_e,hl:()=>G,jU:()=>pe,m9:()=>cn,ne:()=>$n,pd:()=>pi,r3:()=>En,ru:()=>Ae,tV:()=>le,uI:()=>Ze,vZ:()=>Gn,w1:()=>Se,xO:()=>Di,xb:()=>St,z$:()=>be,zI:()=>ee,zd:()=>Ei});const B=function(ce){const re=[];let te=0;for(let se=0;se<ce.length;se++){let oe=ce.charCodeAt(se);oe<128?re[te++]=oe:oe<2048?(re[te++]=oe>>6|192,re[te++]=63&oe|128):55296==(64512&oe)&&se+1<ce.length&&56320==(64512&ce.charCodeAt(se+1))?(oe=65536+((1023&oe)<<10)+(1023&ce.charCodeAt(++se)),re[te++]=oe>>18|240,re[te++]=oe>>12&63|128,re[te++]=oe>>6&63|128,re[te++]=63&oe|128):(re[te++]=oe>>12|224,re[te++]=oe>>6&63|128,re[te++]=63&oe|128)}return re},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ce,re){if(!Array.isArray(ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const te=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[];for(let oe=0;oe<ce.length;oe+=3){const Le=ce[oe],et=oe+1<ce.length,vt=et?ce[oe+1]:0,Tn=oe+2<ce.length,ln=Tn?ce[oe+2]:0;let Gt=(15&vt)<<2|ln>>6,Rn=63&ln;Tn||(Rn=64,et||(Gt=64)),se.push(te[Le>>2],te[(3&Le)<<4|vt>>4],te[Gt],te[Rn])}return se.join("")},encodeString(ce,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(ce):this.encodeByteArray(B(ce),re)},decodeString(ce,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(ce):function(ce){const re=[];let te=0,se=0;for(;te<ce.length;){const oe=ce[te++];if(oe<128)re[se++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const Le=ce[te++];re[se++]=String.fromCharCode((31&oe)<<6|63&Le)}else if(oe>239&&oe<365){const Tn=((7&oe)<<18|(63&ce[te++])<<12|(63&ce[te++])<<6|63&ce[te++])-65536;re[se++]=String.fromCharCode(55296+(Tn>>10)),re[se++]=String.fromCharCode(56320+(1023&Tn))}else{const Le=ce[te++],et=ce[te++];re[se++]=String.fromCharCode((15&oe)<<12|(63&Le)<<6|63&et)}}return re.join("")}(this.decodeStringToByteArray(ce,re))},decodeStringToByteArray(ce,re){this.init_();const te=re?this.charToByteMapWebSafe_:this.charToByteMap_,se=[];for(let oe=0;oe<ce.length;){const Le=te[ce.charAt(oe++)],vt=oe<ce.length?te[ce.charAt(oe)]:0;++oe;const ln=oe<ce.length?te[ce.charAt(oe)]:64;++oe;const Qt=oe<ce.length?te[ce.charAt(oe)]:64;if(++oe,null==Le||null==vt||null==ln||null==Qt)throw Error();se.push(Le<<2|vt>>4),64!==ln&&(se.push(vt<<4&240|ln>>2),64!==Qt&&se.push(ln<<6&192|Qt))}return se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ce=0;ce<this.ENCODED_VALS.length;ce++)this.byteToCharMap_[ce]=this.ENCODED_VALS.charAt(ce),this.charToByteMap_[this.byteToCharMap_[ce]]=ce,this.byteToCharMapWebSafe_[ce]=this.ENCODED_VALS_WEBSAFE.charAt(ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ce]]=ce,ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ce)]=ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ce)]=ce)}}},Q=function(ce){return function(ce){const re=B(ce);return q.encodeByteArray(re,!0)}(ce).replace(/\./g,"")},le=function(ce){try{return q.decodeString(ce,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function Y(ce,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===ce&&(ce={});break;case Array:ce=[];break;default:return re}for(const te in re)!re.hasOwnProperty(te)||!X(te)||(ce[te]=Y(ce[te],re[te]));return ce}function X(ce){return"__proto__"!==ce}class Te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,te)=>{this.resolve=re,this.reject=te})}wrapCallback(re){return(te,se)=>{te?this.reject(te):this.resolve(se),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(te):re(te,se))}}}function Ee(ce,re){if(ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const se=re||"demo-project",oe=ce.iat||0,Le=ce.sub||ce.user_id;if(!Le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const et=Object.assign({iss:`https://securetoken.google.com/${se}`,aud:se,iat:oe,exp:oe+3600,auth_time:oe,sub:Le,user_id:Le,firebase:{sign_in_provider:"custom",identities:{}}},ce);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(et)),""].join(".")}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function Ae(){const ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ce&&void 0!==ce.id}function Be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){const ce=be();return ce.indexOf("MSIE ")>=0||ce.indexOf("Trident/")>=0}function Me(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G(){return"object"==typeof indexedDB}function _e(){return new Promise((ce,re)=>{try{let te=!0;const se="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(se);oe.onsuccess=()=>{oe.result.close(),te||self.indexedDB.deleteDatabase(se),ce(!0)},oe.onupgradeneeded=()=>{te=!1},oe.onerror=()=>{var Le;re((null===(Le=oe.error)||void 0===Le?void 0:Le.message)||"")}}catch(te){re(te)}})}function ee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ue extends Error{constructor(re,te,se){super(te),this.code=re,this.customData=se,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ge.prototype.create)}}class Ge{constructor(re,te,se){this.service=re,this.serviceName=te,this.errors=se}create(re,...te){const se=te[0]||{},oe=`${this.service}/${re}`,Le=this.errors[re],et=Le?function He(ce,re){return ce.replace(yt,(te,se)=>{const oe=re[se];return null!=oe?String(oe):`<${se}?>`})}(Le,se):"Error";return new ue(oe,`${this.serviceName}: ${et} (${oe}).`,se)}}const yt=/\{\$([^}]+)}/g;function En(ce,re){return Object.prototype.hasOwnProperty.call(ce,re)}function St(ce){for(const re in ce)if(Object.prototype.hasOwnProperty.call(ce,re))return!1;return!0}function Gn(ce,re){if(ce===re)return!0;const te=Object.keys(ce),se=Object.keys(re);for(const oe of te){if(!se.includes(oe))return!1;const Le=ce[oe],et=re[oe];if(ei(Le)&&ei(et)){if(!Gn(Le,et))return!1}else if(Le!==et)return!1}for(const oe of se)if(!te.includes(oe))return!1;return!0}function ei(ce){return null!==ce&&"object"==typeof ce}function Di(ce){const re=[];for(const[te,se]of Object.entries(ce))Array.isArray(se)?se.forEach(oe=>{re.push(encodeURIComponent(te)+"="+encodeURIComponent(oe))}):re.push(encodeURIComponent(te)+"="+encodeURIComponent(se));return re.length?"&"+re.join("&"):""}function Ei(ce){const re={};return ce.replace(/^\?/,"").split("&").forEach(se=>{if(se){const[oe,Le]=se.split("=");re[decodeURIComponent(oe)]=decodeURIComponent(Le)}}),re}function pi(ce){const re=ce.indexOf("?");if(!re)return"";const te=ce.indexOf("#",re);return ce.substring(re,te>0?te:void 0)}function $n(ce,re){const te=new lt(ce,re);return te.subscribe.bind(te)}class lt{constructor(re,te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=te,this.task.then(()=>{re(this)}).catch(se=>{this.error(se)})}next(re){this.forEachObserver(te=>{te.next(re)})}error(re){this.forEachObserver(te=>{te.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,te,se){let oe;if(void 0===re&&void 0===te&&void 0===se)throw new Error("Missing Observer.");oe=function qn(ce,re){if("object"!=typeof ce||null===ce)return!1;for(const te of re)if(te in ce&&"function"==typeof ce[te])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:te,complete:se},void 0===oe.next&&(oe.next=ti),void 0===oe.error&&(oe.error=ti),void 0===oe.complete&&(oe.complete=ti);const Le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),Le}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let te=0;te<this.observers.length;te++)this.sendOne(te,re)}sendOne(re,te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{te(this.observers[re])}catch(se){typeof console<"u"&&console.error&&console.error(se)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ti(){}function ls(ce,re=1e3,te=2){const se=re*Math.pow(te,ce),oe=Math.round(.5*se*(Math.random()-.5)*2);return Math.min(144e5,se+oe)}function cn(ce){return ce&&ce._delegate?ce._delegate:ce}},864:(qe,H,k)=>{"use strict";var l=k(4650);let R=null;function N(){return R}const Z=new l.OlP("DocumentToken");let Q=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function le(){return(0,l.LFG)(Y)}()},providedIn:"platform"}),n})();const W=new l.OlP("Location Initialized");let Y=(()=>{class n extends Q{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){X()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){X()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Z))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Te(){return new Y((0,l.LFG)(Z))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Ee(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Ae)},providedIn:"root"}),n})();const pe=new l.OlP("appBaseHref");let Ae=(()=>{class n extends me{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(Z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ee(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ze(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+Ze(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+Ze(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Q),l.LFG(pe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Be=(()=>{class n extends me{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ee(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+Ze(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+Ze(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Q),l.LFG(pe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=be(Re(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ze(i))}normalize(t){return n.stripTrailingSlash(function ye(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Re(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=Ee,n.stripTrailingSlash=be,n.\u0275fac=function(t){return new(t||n)(l.LFG(me))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Se(){return new ke((0,l.LFG)(me))}()},providedIn:"root"}),n})();function Re(n){return n.replace(/\/index.html$/,"")}const Me={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var G=(()=>((G=G||{})[G.Decimal=0]="Decimal",G[G.Percent=1]="Percent",G[G.Currency=2]="Currency",G[G.Scientific=3]="Scientific",G))(),ue=(()=>((ue=ue||{})[ue.Decimal=0]="Decimal",ue[ue.Group=1]="Group",ue[ue.List=2]="List",ue[ue.PercentSign=3]="PercentSign",ue[ue.PlusSign=4]="PlusSign",ue[ue.MinusSign=5]="MinusSign",ue[ue.Exponential=6]="Exponential",ue[ue.SuperscriptingExponent=7]="SuperscriptingExponent",ue[ue.PerMille=8]="PerMille",ue[ue.Infinity=9]="Infinity",ue[ue.NaN=10]="NaN",ue[ue.TimeSeparator=11]="TimeSeparator",ue[ue.CurrencyDecimal=12]="CurrencyDecimal",ue[ue.CurrencyGroup=13]="CurrencyGroup",ue))();function jt(n,e){const t=(0,l.cg1)(n),i=t[l.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===ue.CurrencyDecimal)return t[l.wAp.NumberSymbols][ue.Decimal];if(e===ue.CurrencyGroup)return t[l.wAp.NumberSymbols][ue.Group]}return i}const Qi=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Ns(n,e,t,i,r){const u=function Nn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],a=i[1],u=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],f=u[0],_=u[1]||"";t.posPre=f.substring(0,f.indexOf("#"));for(let I=0;I<_.length;I++){const M=_.charAt(I);"0"===M?t.minFrac=t.maxFrac=I+1:"#"===M?t.maxFrac=I+1:t.posSuf+=M}const b=f.split(",");if(t.gSize=b[1]?b[1].length:0,t.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,a){const I=r.length-t.posPre.length-t.posSuf.length,M=a.indexOf("#");t.negPre=a.substring(0,M).replace(/'/g,""),t.negSuf=a.slice(M+I).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function St(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,G.Currency),jt(e,ue.MinusSign));return u.minFrac=function pr(n){let e;const t=Me[n];return t&&(e=t[2]),"number"==typeof e?e:2}(i),u.maxFrac=u.minFrac,function Yt(n,e,t,i,r,a,u=!1){let f="",_=!1;if(isFinite(n)){let b=function Vl(n){let i,r,a,u,f,e=Math.abs(n)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(r<0&&(r=a),r+=+e.slice(a+1),e=e.substring(0,a)):r<0&&(r=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))i=[0],r=1;else{for(f--;"0"===e.charAt(f);)f--;for(r-=a,i=[],u=0;a<=f;a++,u++)i[u]=Number(e.charAt(a))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);u&&(b=function Ys(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(b));let I=e.minInt,M=e.minFrac,U=e.maxFrac;if(a){const ze=a.match(Qi);if(null===ze)throw new Error(`${a} is not a valid digit info`);const st=ze[1],Ye=ze[3],nt=ze[5];null!=st&&(I=ni(st)),null!=Ye&&(M=ni(Ye)),null!=nt?U=ni(nt):null!=Ye&&M>U&&(U=M)}!function Hr(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const a=Math.min(Math.max(e,r),t);let u=a+n.integerLen,f=i[u];if(u>0){i.splice(Math.max(n.integerLen,u));for(let M=u;M<i.length;M++)i[M]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,u=a+1),i[0]=0;for(let M=1;M<u;M++)i[M]=0}if(f>=5)if(u-1<0){for(let M=0;M>u;M--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[u-1]++;for(;r<Math.max(0,a);r++)i.push(0);let _=0!==a;const b=e+n.integerLen,I=i.reduceRight(function(M,U,z,ne){return ne[z]=(U+=M)<10?U:U-10,_&&(0===ne[z]&&z>=b?ne.pop():_=!1),U>=10?1:0},0);I&&(i.unshift(I),n.integerLen++)}(b,M,U);let z=b.digits,ne=b.integerLen;const he=b.exponent;let we=[];for(_=z.every(ze=>!ze);ne<I;ne++)z.unshift(0);for(;ne<0;ne++)z.unshift(0);ne>0?we=z.splice(ne,z.length):(we=z,z=[0]);const je=[];for(z.length>=e.lgSize&&je.unshift(z.splice(-e.lgSize,z.length).join(""));z.length>e.gSize;)je.unshift(z.splice(-e.gSize,z.length).join(""));z.length&&je.unshift(z.join("")),f=je.join(jt(t,i)),we.length&&(f+=jt(t,r)+we.join("")),he&&(f+=jt(t,ue.Exponential)+"+"+he)}else f=jt(t,ue.Infinity);return f=n<0&&!_?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,u,e,ue.CurrencyGroup,ue.CurrencyDecimal,r).replace("\xa4",t).replace("\xa4","").trim()}function ni(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class Co{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xi=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Co(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),Os(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Os(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Os(n,e){n.context.$implicit=e.item}let wn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Ba,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ti("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ti("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ba{constructor(){this.$implicit=null,this.ngIf=null}}function Ti(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}function yi(n,e){return new l.vHH(2100,!1)}class Bc{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class Ua{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const ds=new Ua,ju=new Bc;let ra=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,l.QGY)(t))return ds;if((0,l.F4k)(t))return ju;throw yi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),$r=(()=>{class n{constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",a,u){if(!function sa(n){return!(null==n||""===n||n!=n)}(t))return null;u=u||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let f=i||this._defaultCurrencyCode;"code"!==r&&(f="symbol"===r||"symbol-narrow"===r?function qn(n,e,t="en"){const i=function xt(n){return(0,l.cg1)(n)[l.wAp.Currencies]}(t)[n]||Me[n]||[],r=i[1];return"narrow"===e&&"string"==typeof r?r:i[0]||n}(f,"symbol"===r?"wide":"narrow",u):r);try{return Ns(function ja(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),u,f,i,a)}catch(_){throw yi()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},n.\u0275pipe=l.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let zn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function xi(n){return"server"===n}let Ga=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new $u((0,l.LFG)(Z),window)}),n})();class $u{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Hi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ur(this.window.history)||ur(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ur(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class no extends class il extends class q{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function j(n){R||(R=n)}(new no)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function rl(){return io=io||document.querySelector("base"),io?io.getAttribute("href"):null}();return null==t?null:function tr(n){vi=vi||document.createElement("a"),vi.setAttribute("href",n);const e=vi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){io=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Va(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let vi,io=null;const Mn=new l.OlP("TRANSITION_ID"),Xl=[{provide:l.ip1,useFactory:function $c(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=N(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Mn,Z,l.zs3],multi:!0}];let ec=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const sl=new l.OlP("EventManagerPlugins");let qc=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sl),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class tc{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=N().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let ko=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),_r=(()=>{class n extends ko{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(nc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(nc))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Z))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function nc(n){N().remove(n)}const Po={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ic=/%COMP%/g;function al(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?al(n,r,t):(r=r.replace(ic,n),t.push(r))}return t}function Ar(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let so=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Lo(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new zc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new Zc(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=al(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qc),l.LFG(_r),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Lo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Po[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ga(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(ga(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Po[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Po[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ar(i)):this.eventManager.addEventListener(e,t,Ar(i))}}function ga(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class zc extends Lo{constructor(e,t,i,r){super(e),this.component=i;const a=al(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Kn(n){return"_ngcontent-%COMP%".replace(ic,n)}(r+"-"+i.id),this.hostAttr=function ol(n){return"_nghost-%COMP%".replace(ic,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Zc extends Lo{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=al(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ii=(()=>{class n extends tc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Z))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const E=["alt","control","meta","shift"],C={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let J=(()=>{class n extends tc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),u="code."),E.forEach(b=>{const I=i.indexOf(b);I>-1&&(i.splice(I,1),u+=b+".")}),u+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(t,i){let r=C[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),E.forEach(u=>{u!==r&&(0,P[u])(t)&&(a+=u+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Z))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Kc=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function _s(){no.makeCurrent()},multi:!0},{provide:Z,useFactory:function rc(){return(0,l.RDi)(document),document},deps:[]}]),Vo=new l.OlP(""),sh=[{provide:l.rWj,useClass:class qu{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Bo=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function ys(){return new l.qLn},deps:[]},{provide:sl,useClass:ii,multi:!0,deps:[Z,l.R0b,l.Lbi]},{provide:sl,useClass:J,multi:!0,deps:[Z]},{provide:so,useClass:so,deps:[qc,_r,l.AFp]},{provide:l.FYo,useExisting:so},{provide:ko,useExisting:_r},{provide:_r,useClass:_r,deps:[Z]},{provide:qc,useClass:qc,deps:[sl,l.R0b]},{provide:class No{},useClass:ec,deps:[]},[]];let Yc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Mn,useExisting:l.AFp},Xl]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Vo,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Bo,...sh],imports:[zn,l.hGG]}),n})(),ao=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Z))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function cl(){return new ao((0,l.LFG)(Z))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let gl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(qg),i},providedIn:"root"}),n})(),qg=(()=>{class n extends gl{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Z))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function $g(n){return new qg(n.get(Z))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var Sn=k(8996),Mr=k(3269);function gt(...n){const e=(0,Mr.yG)(n);return(0,Sn.D)(n,e)}var hn=k(7579);class mn extends hn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const lc=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var bi=k(9751);const{isArray:jo}=Array,{getPrototypeOf:tu,prototype:zg,keys:Wu}=Object;function cc(n){if(1===n.length){const e=n[0];if(jo(e))return{args:e,keys:null};if(function ml(n){return n&&"object"==typeof n&&tu(n)===zg}(e)){const t=Wu(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var co=k(4671),ht=k(4004);const{isArray:uc}=Array;function _l(n){return(0,ht.U)(e=>function Ho(n,e){return uc(e)?n(...e):n(e)}(n,e))}function yl(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Un=k(5403),Ku=k(9672);function Go(...n){const e=(0,Mr.yG)(n),t=(0,Mr.jO)(n),{args:i,keys:r}=cc(n);if(0===i.length)return(0,Sn.D)([],e);const a=new bi.y(function Zg(n,e,t=co.y){return i=>{Yu(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)Yu(e,()=>{const b=(0,Sn.D)(n[_],e);let I=!1;b.subscribe((0,Un.x)(i,M=>{a[_]=M,I||(I=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>yl(r,u):co.y));return t?a.pipe(_l(t)):a}function Yu(n,e,t){n?(0,Ku.f)(t,n,e):e()}var nu=k(8189);function Fs(...n){return function dc(){return(0,nu.J)(1)}()((0,Sn.D)(n,(0,Mr.yG)(n)))}var yr=k(8421);function bs(n){return new bi.y(e=>{(0,yr.Xf)(n()).subscribe(e)})}var Qu=k(9635),Or=k(576);function xr(n,e){const t=(0,Or.m)(n)?n:()=>n,i=r=>r.error(t());return new bi.y(e?r=>e.schedule(i,0,r):i)}var Rr=k(515),Ls=k(727),Ri=k(4482);function $o(){return(0,Ri.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Un.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class uo extends bi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ri.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ls.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Un.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ls.w0.EMPTY)}return e}refCount(){return $o()(this)}}function ci(n,e){return(0,Ri.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,Un.x)(i,_=>{r?.unsubscribe();let b=0;const I=a++;(0,yr.Xf)(n(_,I)).subscribe(r=(0,Un.x)(i,M=>i.next(e?e(_,M,I,b++):M),()=>{r=null,f()}))},()=>{u=!0,f()}))})}function nn(n){return n<=0?()=>Rr.E:(0,Ri.e)((e,t)=>{let i=0;e.subscribe((0,Un.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function va(...n){const e=(0,Mr.yG)(n);return(0,Ri.e)((t,i)=>{(e?Fs(n,t,e):Fs(n,t)).subscribe(i)})}function S(n,e){return(0,Ri.e)((t,i)=>{let r=0;t.subscribe((0,Un.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var A=k(5577);function F(n){return(0,Ri.e)((e,t)=>{let i=!1;e.subscribe((0,Un.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function K(n=ge){return(0,Ri.e)((e,t)=>{let i=!1;e.subscribe((0,Un.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function ge(){return new lc}function De(n,e){const t=arguments.length>=2;return i=>i.pipe(n?S((r,a)=>n(r,a,i)):co.y,nn(1),t?F(e):K(()=>new lc))}function Fe(n,e){return(0,Or.m)(e)?(0,A.z)(n,e,1):(0,A.z)(n,1)}var We=k(8505);function mt(n){return(0,Ri.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,Un.x)(t,void 0,void 0,u=>{a=(0,yr.Xf)(n(u,mt(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function Ot(n,e,t,i,r){return(a,u)=>{let f=t,_=e,b=0;a.subscribe((0,Un.x)(u,I=>{const M=b++;_=f?n(_,I,M):(f=!0,I),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function Bt(n,e){return(0,Ri.e)(Ot(n,e,arguments.length>=2,!0))}function Et(n){return n<=0?()=>Rr.E:(0,Ri.e)((e,t)=>{let i=[];e.subscribe((0,Un.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Yn(n,e){const t=arguments.length>=2;return i=>i.pipe(n?S((r,a)=>n(r,a,i)):co.y,Et(1),t?F(e):K(()=>new lc))}function qo(n){return(0,Ri.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ut="primary",Vs=Symbol("RouteTitle");class zo{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Zr(n){return new zo(n)}function vl(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ws(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!Nf(n[r],e[r]))return!1;return!0}function Nf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function Wg(n){return Array.prototype.concat.apply([],n)}function Kg(n){return n.length>0?n[n.length-1]:null}function ki(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Bs(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Sn.D)(Promise.resolve(n)):gt(n)}const sw={exact:function Qg(n,e,t){if(!Ea(n.segments,e.segments)||!Da(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Qg(n.children[i],e.children[i],t))return!1;return!0},subset:hc},Of={exact:function xf(n,e){return ws(n,e)},subset:function Jg(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Nf(n[t],e[t]))},ignored:()=>!0};function wy(n,e,t){return sw[t.paths](n.root,e.root,t.matrixParams)&&Of[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function hc(n,e,t){return ah(n,e,e.segments,t)}function ah(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ea(r,t)||e.hasChildren()||!Da(r,t,i))}if(n.segments.length===t.length){if(!Ea(n.segments,t)||!Da(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!hc(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Ea(n.segments,r)&&Da(n.segments,r,i)&&n.children[Ut])&&ah(n.children[Ut],e,a,i)}}function Da(n,e,t){return e.every((i,r)=>Of[t](n[r].parameters,i.parameters))}class fc{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zr(this.queryParams)),this._queryParamMap}toString(){return Ca.serialize(this)}}class rn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ki(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uh(this)}}class lh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Zr(this.parameters)),this._parameterMap}toString(){return Pf(this)}}function Ea(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Rf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new ch},providedIn:"root"}),n})();class ch{parse(e){const t=new Ay(e);return new fc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${pc(e.root,!0)}`,i=function Cy(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Xu(t)}=${Xu(r)}`).join("&"):`${Xu(t)}=${Xu(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Dy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ca=new ch;function uh(n){return n.segments.map(e=>Pf(e)).join("/")}function pc(n,e){if(!n.hasChildren())return uh(n);if(e){const t=n.children[Ut]?pc(n.children[Ut],!1):"",i=[];return ki(n.children,(r,a)=>{a!==Ut&&i.push(`${a}:${pc(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Xg(n,e){let t=[];return ki(n.children,(i,r)=>{r===Ut&&(t=t.concat(e(i,r)))}),ki(n.children,(i,r)=>{r!==Ut&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Ut?[pc(n.children[Ut],!1)]:[`${r}:${pc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ut]?`${uh(n)}/${t[0]}`:`${uh(n)}/(${t.join("//")})`}}function em(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xu(n){return em(n).replace(/%3B/gi,";")}function Ds(n){return em(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ta(n){return decodeURIComponent(n)}function kf(n){return Ta(n.replace(/\+/g,"%20"))}function Pf(n){return`${Ds(n.path)}${function Ey(n){return Object.keys(n).map(e=>`;${Ds(e)}=${Ds(n[e])}`).join("")}(n.parameters)}`}const Ty=/^[^\/()?;=#]+/;function Ff(n){const e=n.match(Ty);return e?e[0]:""}const bl=/^[^=?&#]+/,Sy=/^[^&#]+/;class Ay{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ut]=new rn(e,t)),i}parseSegment(){const e=Ff(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new lh(Ta(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ff(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Ff(this.remaining);r&&(i=r,this.capture(i))}e[Ta(t)]=Ta(i)}parseQueryParam(e){const t=function Iy(n){const e=n.match(bl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function Lf(n){const e=n.match(Sy);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=kf(t),a=kf(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ff(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Ut);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Ut]:new rn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function wl(n){return n.segments.length>0?new rn([],{[Ut]:n}):n}function Us(n){const e={};for(const i of Object.keys(n.children)){const a=Us(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function ed(n){if(1===n.numberOfChildren&&n.children[Ut]){const e=n.children[Ut];return new rn(n.segments.concat(e.segments),e.children)}return n}(new rn(n.segments,e))}function Zo(n){return n instanceof fc}function aw(n,e,t,i,r){if(0===t.length)return td(e.root,e.root,e.root,i,r);const a=function im(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new nd(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return ki(a.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new nd(t,e,i)}(t);return a.toRoot()?td(e.root,e.root,new rn([],{}),i,r):function u(_){const b=function Bf(n,e,t,i){if(n.isAbsolute)return new iu(e.root,!0,0);if(-1===i)return new iu(t,t===e.root,0);return function Uf(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new iu(i,!1,r-a)}(t,i+(gc(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),I=b.processChildren?yc(b.segmentGroup,b.index,a.commands):_c(b.segmentGroup,b.index,a.commands);return td(e.root,b.segmentGroup,I,i,r)}(n.snapshot?._lastPathIndex)}function gc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function mc(n){return"object"==typeof n&&null!=n&&n.outlets}function td(n,e,t,i,r){let u,a={};i&&ki(i,(_,b)=>{a[b]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),u=n===e?t:nm(n,e,t);const f=wl(Us(u));return new fc(f,a,r)}function nm(n,e,t){const i={};return ki(n.children,(r,a)=>{i[a]=r===e?t:nm(r,e,t)}),new rn(n.segments,i)}class nd{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&gc(i[0]))throw new l.vHH(4003,!1);const r=i.find(mc);if(r&&r!==Kg(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class iu{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function _c(n,e,t){if(n||(n=new rn([],{})),0===n.segments.length&&n.hasChildren())return yc(n,e,t);const i=function My(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(mc(f))break;const _=`${f}`,b=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!fh(_,b,u))return a;i+=2}else{if(!fh(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new rn(n.segments.slice(0,i.pathIndex),{});return a.children[Ut]=new rn(n.segments.slice(i.pathIndex),n.children),yc(a,0,r)}return i.match&&0===r.length?new rn(n.segments,{}):i.match&&!n.hasChildren()?ui(n,e,t):i.match?yc(n,0,r):ui(n,e,t)}function yc(n,e,t){if(0===t.length)return new rn(n.segments,{});{const i=function hh(n){return mc(n[0])?n[0].outlets:{[Ut]:n}}(t),r={};return ki(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=_c(n.children[u],e,a))}),ki(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new rn(n.segments,r)}}function ui(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(mc(a)){const _=jf(a.outlets);return new rn(i,_)}if(0===r&&gc(t[0])){i.push(new lh(n.segments[e].path,rm(t[0]))),r++;continue}const u=mc(a)?a.outlets[Ut]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&gc(f)?(i.push(new lh(u,rm(f))),r+=2):(i.push(new lh(u,{})),r++)}return new rn(i,{})}function jf(n){const e={};return ki(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=ui(new rn([],{}),0,t))}),e}function rm(n){const e={};return ki(n,(t,i)=>e[i]=`${t}`),e}function fh(n,e,t){return n==t.path&&ws(e,t.parameters)}class Wo{constructor(e,t){this.id=e,this.url=t}}class Hf extends Wo{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ho extends Wo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ph extends Wo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gf extends Wo{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oy extends Wo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lw extends Wo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cw extends Wo{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class id extends Wo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gh extends Wo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mh{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _h{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $f{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xy{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yh{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sm{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vr{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=rd(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=rd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ru(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ru(e,this._root).map(t=>t.value)}}function rd(n,e){if(n===e.value)return e;for(const t of e.children){const i=rd(n,t);if(i)return i}return null}function ru(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ru(n,t);if(i.length)return i.unshift(e),i}return[]}class js{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Hs(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class zf extends qf{constructor(e,t){super(e),this.snapshot=t,ir(this,e)}toString(){return this.snapshot.toString()}}function bh(n,e){const t=function fo(n,e){const u=new Ko([],{},{},"",{},Ut,e,null,n.root,-1,{});return new Eh("",new js(u,[]))}(n,e),i=new mn([new lh("",{})]),r=new mn({}),a=new mn({}),u=new mn({}),f=new mn(""),_=new Dl(i,r,u,f,a,Ut,e,t.root);return _.snapshot=t.root,new zf(new js(_,[]),t)}class Dl{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,ht.U)(b=>b[Vs]))??gt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(e=>Zr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(e=>Zr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wh(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function Dh(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Ko{constructor(e,t,i,r,a,u,f,_,b,I,M,U){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.[Vs],this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=I,this._correctedLastPathIndex=U??I,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Eh extends qf{constructor(e,t){super(t),this.url=e,ir(this,t)}toString(){return Ch(this._root)}}function ir(n,e){e.value._routerState=n,e.children.forEach(t=>ir(n,t))}function Ch(n){const e=n.children.length>0?` { ${n.children.map(Ch).join(", ")} } `:"";return`${n.value}${e}`}function sd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ws(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ws(e.params,t.params)||n.params.next(t.params),function wa(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ws(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ws(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Th(n,e){const t=ws(n.params,e.params)&&function Ju(n,e){return Ea(n,e)&&n.every((t,i)=>ws(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Th(n.parent,e.parent))}function Ia(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function om(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ia(n,i,r);return Ia(n,i)})}(n,e,t);return new js(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Ia(n,f)),u}}const i=function am(n){return new Dl(new mn(n.url),new mn(n.params),new mn(n.queryParams),new mn(n.fragment),new mn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>Ia(n,a));return new js(i,r)}}const Zf="ngNavigationCancelingError";function su(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Zo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=lm(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function lm(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Zf]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Wf(n){return cm(n)&&Zo(n.url)}function cm(n){return n&&n[Zf]}class um{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new y,this.attachRef=null}}let y=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new um,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const p=!1;let m=(()=>{class n{constructor(t,i,r,a,u){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=r||Ut,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,p);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,p);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,p);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,p);this._activatedRoute=t;const r=this.location,u=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new w(t,f,r.injector);if(i&&function x(n){return!!n.resolveComponentFactory}(i)){const b=i.resolveComponentFactory(u);this.activated=r.createComponent(b,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(y),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class w{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Dl?this.route:e===y?this.childContexts:this.parent.get(e,t)}}let V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[m],encapsulation:2}),n})();function de(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ih(n){const e=n.children&&n.children.map(Ih),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ut&&(t.component=V),t}function Kr(n){return n.outlet||Ut}function od(n,e){const t=n.filter(i=>Kr(i)===e);return t.push(...n.filter(i=>Kr(i)!==e)),t}function ad(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Sh{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),sd(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Hs(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),ki(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Hs(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Hs(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Hs(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new sm(a.value.snapshot))}),e.children.length&&this.forwardEvent(new xy(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(sd(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),sd(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=ad(r.snapshot),_=f?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class hm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ld{constructor(e,t){this.component=e,this.route=t}}function Ry(n,e,t){const i=n._root;return cd(i,e?e._root:null,t,[i.value])}function vc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function cd(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Hs(e);return n.children.forEach(u=>{(function dw(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function ky(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ea(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ea(n.url,e.url)||!ws(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Th(n,e)||!ws(n.queryParams,e.queryParams);default:return!Th(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new hm(i)):(a.data=u.data,a._resolvedData=u._resolvedData),cd(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new ld(f.outlet.component,u))}else u&&Ah(e,f,r),r.canActivateChecks.push(new hm(i)),cd(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),ki(a,(u,f)=>Ah(u,t.getContext(f),r)),r}function Ah(n,e,t){const i=Hs(n),r=n.value;ki(i,(a,u)=>{Ah(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new ld(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Nh(n){return"function"==typeof n}function fm(n){return n instanceof lc||"EmptyError"===n?.name}const pm=Symbol("INITIAL_VALUE");function Mh(){return ci(n=>Go(n.map(e=>e.pipe(nn(1),va(pm)))).pipe((0,ht.U)(e=>{for(const t of e)if(!0!==t){if(t===pm)return pm;if(!1===t||t instanceof fc)return t}return!0}),S(e=>e!==pm),nn(1)))}function Yr(n){return(0,Qu.z)((0,We.b)(e=>{if(Zo(e))throw su(0,e)}),(0,ht.U)(e=>!0===e))}const gm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mm(n,e,t,i,r){const a=br(n,e,t);return a.matched?function Vy(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?gt(r.map(u=>{const f=vc(u,n);return Bs(function tT(n){return n&&Nh(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Mh(),Yr()):gt(!0)}(i=de(e,i),e,t).pipe((0,ht.U)(u=>!0===u?a:{...gm})):gt(a)}function br(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...gm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||vl)(t,n,e);if(!r)return{...gm};const a={};ki(r.posParams,(f,_)=>{a[_]=f.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function au(n,e,t,i,r="corrected"){if(t.length>0&&function dT(n,e,t){return t.some(i=>_m(n,e,i)&&Kr(i)!==Ut)}(n,t,i)){const u=new rn(e,function uT(n,e,t,i){const r={};r[Ut]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Kr(a)!==Ut){const u=new rn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[Kr(a)]=u}return r}(n,e,i,new rn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function gw(n,e,t){return t.some(i=>_m(n,e,i))}(n,t,i)){const u=new rn(n.segments,function pw(n,e,t,i,r,a){const u={};for(const f of i)if(_m(n,t,f)&&!r[Kr(f)]){const _=new rn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[Kr(f)]=_}return{...r,...u}}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new rn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function _m(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function By(n,e,t,i){return!!(Kr(n)===i||i!==Ut&&_m(e,t,n))&&("**"===n.path||br(e,n,t).matched)}function mw(n,e,t){return 0===e.length&&!n.children[t]}const Yf=!1;class ym{constructor(e){this.segmentGroup=e||null}}class _w{constructor(e){this.urlTree=e}}function Qf(n){return xr(new ym(n))}function yw(n){return xr(new _w(n))}class fT{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=au(this.urlTree.root,[],[],this.config).segmentGroup,t=new rn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ut).pipe((0,ht.U)(a=>this.createUrlTree(Us(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(mt(a=>{if(a instanceof _w)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof ym?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ut).pipe((0,ht.U)(r=>this.createUrlTree(Us(r),e.queryParams,e.fragment))).pipe(mt(r=>{throw r instanceof ym?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,Yf)}createUrlTree(e,t,i){const r=wl(e);return new fc(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,ht.U)(a=>new rn([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,Sn.D)(r).pipe(Fe(a=>{const u=i.children[a],f=od(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,ht.U)(_=>({segment:_,outlet:a})))}),Bt((a,u)=>(a[u.outlet]=u.segment,a),{}),Yn())}expandSegment(e,t,i,r,a,u){return(0,Sn.D)(i).pipe(Fe(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(mt(b=>{if(b instanceof ym)return gt(null);throw b}))),De(f=>!!f),mt((f,_)=>{if(fm(f))return mw(t,r,a)?gt(new rn([],{})):Qf(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return By(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):Qf(t):Qf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?yw(a):this.lineralizeSegments(i,a).pipe((0,A.z)(u=>{const f=new rn(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:I}=br(t,r,a);if(!f)return Qf(t);const M=this.applyRedirectCommands(_,r.redirectTo,I);return r.redirectTo.startsWith("/")?yw(M):this.lineralizeSegments(r,M).pipe((0,A.z)(U=>this.expandSegment(e,t,i,U.concat(b),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=de(i,e),i.loadChildren?(i._loadedRoutes?gt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,ht.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new rn(r,{})))):gt(new rn(r,{}))):mm(t,i,r,e).pipe(ci(({matched:u,consumedSegments:f,remainingSegments:_})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,A.z)(I=>{const M=I.injector??e,U=I.routes,{segmentGroup:z,slicedSegments:ne}=au(t,f,_,U),he=new rn(z.segments,z.children);if(0===ne.length&&he.hasChildren())return this.expandChildren(M,U,he).pipe((0,ht.U)(st=>new rn(f,st)));if(0===U.length&&0===ne.length)return gt(new rn(f,{}));const we=Kr(i)===a;return this.expandSegment(M,he,U,ne,we?Ut:a,!0).pipe((0,ht.U)(ze=>new rn(f.concat(ze.segments),ze.children)))})):Qf(t)))}getChildConfig(e,t,i){return t.children?gt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?gt({routes:t._loadedRoutes,injector:t._loadedInjector}):function cT(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?gt(!0):gt(r.map(u=>{const f=vc(u,n);return Bs(function Py(n){return n&&Nh(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Mh(),Yr())}(e,t,i).pipe((0,A.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,We.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Oh(n){return xr(lm(Yf,3))}())):gt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return gt(i);if(r.numberOfChildren>1||!r.children[Ut])return xr(new l.vHH(4e3,Yf));r=r.children[Ut]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new fc(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return ki(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return ki(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new rn(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,Yf);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class LM{}class El{constructor(e,t,i,r,a,u,f,_){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f,this.urlSerializer=_}recognize(){const e=au(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ut).pipe((0,ht.U)(t=>{if(null===t)return null;const i=new Ko([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ut,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new js(i,t),a=new Eh(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=wh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,Sn.D)(Object.keys(i.children)).pipe(Fe(r=>{const a=i.children[r],u=od(t,r);return this.processSegmentGroup(e,u,a,r)}),Bt((r,a)=>r&&a?(r.push(...a),r):null),function nr(n,e=!1){return(0,Ri.e)((t,i)=>{let r=0;t.subscribe((0,Un.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}(r=>null!==r),F(null),Yn(),(0,ht.U)(r=>{if(null===r)return null;const a=Gy(r);return function jy(n){n.sort((e,t)=>e.value.outlet===Ut?-1:t.value.outlet===Ut?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,Sn.D)(t).pipe(Fe(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,a)),De(u=>!!u),mt(u=>{if(fm(u))return mw(i,r,a)?gt([]):gt(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!By(t,i,r,a))return gt(null);let u;if("**"===t.path){const f=r.length>0?Kg(r).parameters:{},_=bw(i)+r.length;u=gt({snapshot:new Ko(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vm(t),Kr(t),t.component??t._loadedComponent??null,t,xh(i),_,bm(t),_),consumedSegments:[],remainingSegments:[]})}else u=mm(i,t,r,e).pipe((0,ht.U)(({matched:f,consumedSegments:_,remainingSegments:b,parameters:I})=>{if(!f)return null;const M=bw(i)+_.length;return{snapshot:new Ko(_,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vm(t),Kr(t),t.component??t._loadedComponent??null,t,xh(i),M,bm(t),M),consumedSegments:_,remainingSegments:b}}));return u.pipe(ci(f=>{if(null===f)return gt(null);const{snapshot:_,consumedSegments:b,remainingSegments:I}=f;e=t._injector??e;const M=t._loadedInjector??e,U=function Hy(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:z,slicedSegments:ne}=au(i,b,I,U.filter(we=>void 0===we.redirectTo),this.relativeLinkResolution);if(0===ne.length&&z.hasChildren())return this.processChildren(M,U,z).pipe((0,ht.U)(we=>null===we?null:[new js(_,we)]));if(0===U.length&&0===ne.length)return gt([new js(_,[])]);const he=Kr(t)===a;return this.processSegment(M,U,z,ne,he?Ut:a).pipe((0,ht.U)(we=>null===we?null:[new js(_,we)]))}))}}function gT(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Gy(n){const e=[],t=new Set;for(const i of n){if(!gT(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Gy(i.children);e.push(new js(i.value,r))}return e.filter(i=>!t.has(i))}function xh(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function bw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function vm(n){return n.data||{}}function bm(n){return n.resolve||{}}function BM(n,e){return(0,A.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return gt(t);let a=0;return(0,Sn.D)(r).pipe(Fe(u=>function Rh(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!wm(r)&&(a[Vs]=r.title),function $y(n,e,t,i){const r=function Ew(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return gt({});const a={};return(0,Sn.D)(r).pipe((0,A.z)(u=>function _T(n,e,t,i){const r=ad(e)??i,a=vc(n,r);return Bs(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[u],e,t,i).pipe(De(),(0,We.b)(f=>{a[u]=f}))),Et(1),function ba(n){return(0,ht.U)(()=>n)}(a),mt(u=>fm(u)?Rr.E:xr(u)))}(a,n,e,i).pipe((0,ht.U)(u=>(n._resolvedData=u,n.data=wh(n,t).resolve,r&&wm(r)&&(n.data[Vs]=r.title),null)))}(u.route,i,n,e)),(0,We.b)(()=>a++),Et(1),(0,A.z)(u=>a===r.length?gt(t):Rr.E))})}function wm(n){return"string"==typeof n.title||null===n.title}function qy(n){return ci(e=>{const t=n(e);return t?(0,Sn.D)(t).pipe((0,ht.U)(()=>e)):gt(e)})}let Cw=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===Ut);return i}getResolvedTitleForRoute(t){return t.data[Vs]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Tw)},providedIn:"root"}),n})(),Tw=(()=>{class n extends Cw{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ao))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yT{}class Iw extends class vT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Jf=new l.OlP("",{providedIn:"root",factory:()=>({})}),Zy=new l.OlP("ROUTES");let Wy=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return gt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Bs(t.loadComponent()).pipe((0,We.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),qo(()=>{this.componentLoaders.delete(t)})),r=new uo(i,()=>new hn.x).pipe($o());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return gt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ht.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,b,I=!1;Array.isArray(f)?b=f:(_=f.create(t).injector,b=Wg(_.get(Zy,[],l.XFs.Self|l.XFs.Optional)));return{routes:b.map(Ih),injector:_}}),qo(()=>{this.childrenLoaders.delete(i)})),u=new uo(a,()=>new hn.x).pipe($o());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return Bs(t()).pipe((0,A.z)(i=>i instanceof l.YKP||Array.isArray(i)?gt(i):(0,Sn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Sw{}class Aw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Nw(n){throw n}function Mw(n,e,t){return e.parse("/")}const bT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ow(){const n=(0,l.f3M)(Rf),e=(0,l.f3M)(y),t=(0,l.f3M)(ke),i=(0,l.f3M)(l.zs3),r=(0,l.f3M)(l.Sil),a=(0,l.f3M)(Zy,{optional:!0})??[],u=(0,l.f3M)(Jf,{optional:!0})??{},f=(0,l.f3M)(Tw),_=(0,l.f3M)(Cw,{optional:!0}),b=(0,l.f3M)(Sw,{optional:!0}),I=(0,l.f3M)(yT,{optional:!0}),M=new $i(null,n,e,t,i,r,Wg(a));return b&&(M.urlHandlingStrategy=b),I&&(M.routeReuseStrategy=I),M.titleStrategy=_??f,function Em(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,M),M}let $i=(()=>{class n{constructor(t,i,r,a,u,f,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new hn.x,this.errorHandler=Nw,this.malformedUriErrorHandler=Mw,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>gt(void 0),this.urlHandlingStrategy=new Aw,this.routeReuseStrategy=new Iw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Wy),this.configLoader.onLoadEndListener=U=>this.triggerEvent(new _h(U)),this.configLoader.onLoadStartListener=U=>this.triggerEvent(new mh(U)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const M=u.get(l.R0b);this.isNgZoneEnabled=M instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Yg(){return new fc(new rn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bh(this.currentUrlTree,this.rootComponentType),this.transitions=new mn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(S(r=>0!==r.id),(0,ht.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ci(r=>{let a=!1,u=!1;return gt(r).pipe((0,We.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ci(f=>{const _=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Ky(f.source)&&(this.browserUrlTree=f.extractedUrl),gt(f).pipe(ci(M=>{const U=this.transitions.getValue();return i.next(new Hf(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),U!==this.transitions.getValue()?Rr.E:Promise.resolve(M)}),function pT(n,e,t,i){return ci(r=>function bc(n,e,t,i,r){return new fT(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,ht.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,We.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},r.urlAfterRedirects=M.urlAfterRedirects}),function Dw(n,e,t,i,r,a){return(0,A.z)(u=>function VM(n,e,t,i,r,a,u="emptyOnly",f="legacy"){return new El(n,e,t,i,r,u,f,a).recognize().pipe(ci(_=>null===_?function vw(n){return new bi.y(e=>e.error(n))}(new LM):gt(_)))}(n,e,t,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,a).pipe((0,ht.U)(f=>({...u,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,We.b)(M=>{if(r.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(z,M)}this.browserUrlTree=M.urlAfterRedirects}const U=new Oy(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);i.next(U)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:U,extractedUrl:z,source:ne,restoredState:he,extras:we}=f,je=new Hf(U,this.serializeUrl(z),ne,he);i.next(je);const ze=bh(z,this.rootComponentType).snapshot;return gt(r={...f,targetSnapshot:ze,urlAfterRedirects:z,extras:{...we,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),Rr.E}),(0,We.b)(f=>{const _=new lw(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,ht.U)(f=>r={...f,guards:Ry(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function iT(n,e){return(0,A.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?gt({...t,guardsResult:!0}):function rT(n,e,t,i){return(0,Sn.D)(n).pipe((0,A.z)(r=>function lT(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?gt(a.map(f=>{const _=ad(e)??r,b=vc(f,_);return Bs(function Kf(n){return n&&Nh(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,i):_.runInContext(()=>b(n,e,t,i))).pipe(De())})).pipe(Mh()):gt(!0)}(r.component,r.route,t,e,i)),De(r=>!0!==r,!0))}(u,i,r,n).pipe((0,A.z)(f=>f&&function hw(n){return"boolean"==typeof n}(f)?function Ly(n,e,t,i){return(0,Sn.D)(e).pipe(Fe(r=>Fs(function oT(n,e){return null!==n&&e&&e(new $f(n)),gt(!0)}(r.route.parent,i),function sT(n,e){return null!==n&&e&&e(new yh(n)),gt(!0)}(r.route,i),function fw(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function uw(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>bs(()=>gt(u.guards.map(_=>{const b=ad(u.node)??t,I=vc(_,b);return Bs(function Fy(n){return n&&Nh(n.canActivateChild)}(I)?I.canActivateChild(i,n):b.runInContext(()=>I(i,n))).pipe(De())})).pipe(Mh())));return gt(a).pipe(Mh())}(n,r.path,t),function aT(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return gt(!0);const r=i.map(a=>bs(()=>{const u=ad(e)??t,f=vc(a,u);return Bs(function eT(n){return n&&Nh(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(De())}));return gt(r).pipe(Mh())}(n,r.route,t))),De(r=>!0!==r,!0))}(i,a,n,e):gt(f)),(0,ht.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,We.b)(f=>{if(r.guardsResult=f.guardsResult,Zo(f.guardsResult))throw su(0,f.guardsResult);const _=new cw(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),S(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),qy(f=>{if(f.guards.canActivateChecks.length)return gt(f).pipe((0,We.b)(_=>{const b=new id(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),ci(_=>{let b=!1;return gt(_).pipe(BM(this.paramsInheritanceStrategy,this.ngModule.injector),(0,We.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,We.b)(_=>{const b=new gh(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),qy(f=>{const _=b=>{const I=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,We.b)(M=>{b.component=M}),(0,ht.U)(()=>{})));for(const M of b.children)I.push(..._(M));return I};return Go(_(f.targetSnapshot.root)).pipe(F(),nn(1))}),qy(()=>this.afterPreactivation()),(0,ht.U)(f=>{const _=function Wr(n,e,t){const i=Ia(n,e._root,t?t._root:void 0);return new zf(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:_}}),(0,We.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,ht.U)(i=>(new Sh(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,We.b)({next(){a=!0},complete(){a=!0}}),qo(()=>{a||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),mt(f=>{if(u=!0,cm(f)){Wf(f)||(this.navigated=!0,this.restoreHistory(r,!0));const _=new ph(r.id,this.serializeUrl(r.extractedUrl),f.message,f.cancellationCode);if(i.next(_),Wf(f)){const b=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ky(r.source)};this.scheduleNavigation(b,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Gf(r.id,this.serializeUrl(r.extractedUrl),f,r.targetSnapshot??void 0);i.next(_);try{r.resolve(this.errorHandler(f))}catch(b){r.reject(b)}}return Rr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Ih),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,b=r||this.routerState.root,I=_?this.currentUrlTree.fragment:u;let M=null;switch(f){case"merge":M={...this.currentUrlTree.queryParams,...a};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=a||null}return null!==M&&(M=this.removeEmptyProps(M)),aw(b,this.currentUrlTree,t,M,I??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Zo(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function xw(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...bT}:!1===i?{...jM}:i,Zo(t))return wy(this.currentUrlTree,t,r);const a=this.parseUrl(t);return wy(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ho(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let f,_,b;u?(f=u.resolve,_=u.reject,b=u.promise):b=new Promise((U,z)=>{f=U,_=z});const I=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),M=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:I,targetPageId:M,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(U=>Promise.reject(U))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new ph(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return Ow()},providedIn:"root"}),n})();function Ky(n){return"imperative"!==n}let Xf=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new hn.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($i),l.Y36(Dl),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),ep=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new hn.x,this.subscription=t.events.subscribe(a=>{a instanceof ho&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,u){return!!(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($i),l.Y36(Dl),l.Y36(me))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),tp=(()=>{class n{constructor(t,i,r,a,u,f){this.router=t,this.element=i,this.renderer=r,this.cdr=a,this.link=u,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof ho&&this.update()})}ngAfterContentInit(){gt(this.links.changes,this.linksWithHrefs.changes,gt(null)).pipe((0,nu.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Sn.D)(t).pipe((0,nu.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function Cm(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($i),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(Xf,8),l.Y36(ep,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,Xf,5),l.Suo(r,ep,5)),2&t){let a;l.iGM(a=l.CRH())&&(i.links=a),l.iGM(a=l.CRH())&&(i.linksWithHrefs=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),n})();class Yy{}let Qy=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(S(t=>t instanceof ho),Fe(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,f=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,Sn.D)(r).pipe((0,nu.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):gt(null);const a=r.pipe((0,A.z)(u=>null===u?gt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Sn.D)([a,u]).pipe((0,nu.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($i),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Yy),l.LFG(Wy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ud=new l.OlP("");let kw=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Hf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ho&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new vr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function dd(n,e){return{\u0275kind:n,\u0275providers:e}}function ip(n){return[{provide:Zy,multi:!0,useValue:n}]}function ET(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get($i),r=n.get(Jy);1===n.get(Xy)&&i.initialNavigation(),n.get(Yo,null,l.XFs.Optional)?.setUpPreloading(),n.get(ud,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const Jy=new l.OlP("",{factory:()=>new hn.x}),Xy=new l.OlP("",{providedIn:"root",factory:()=>1});const Yo=new l.OlP("");function IT(n){return dd(0,[{provide:Yo,useExisting:Qy},{provide:Yy,useExisting:n}])}const Lw=new l.OlP("ROUTER_FORROOT_GUARD"),AT=[ke,{provide:Rf,useClass:ch},{provide:$i,useFactory:Ow},y,{provide:Dl,useFactory:function Pw(n){return n.routerState.root},deps:[$i]},Wy];function Vw(){return new l.PXZ("Router",$i)}let Bw=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[AT,[],ip(t),{provide:Lw,useFactory:Uw,deps:[[$i,new l.FiY,new l.tp0]]},{provide:Jf,useValue:i||{}},i?.useHash?{provide:me,useClass:Be}:{provide:me,useClass:Ae},{provide:ud,useFactory:()=>{const n=(0,l.f3M)($i),e=(0,l.f3M)(Ga),t=(0,l.f3M)(Jf);return t.scrollOffset&&e.setOffset(t.scrollOffset),new kw(n,e,t)}},i?.preloadingStrategy?IT(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Vw},i?.initialNavigation?jw(i):[],[{provide:ev,useFactory:ET},{provide:l.tb,multi:!0,useExisting:ev}]]}}static forChild(t){return{ngModule:n,providers:[ip(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Lw,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[V]}),n})();function Uw(n){return"guarded"}function jw(n){return["disabled"===n.initialNavigation?dd(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)($i);return()=>{e.setUpLocationChangeListener()}}},{provide:Xy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?dd(2,[{provide:Xy,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(W,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(a=>{const u=e.get($i),f=e.get(Jy);(function r(a){e.get($i).events.pipe(S(f=>f instanceof ho||f instanceof ph||f instanceof Gf),(0,ht.U)(f=>f instanceof ho||f instanceof ph&&(0===f.code||1===f.code)&&null),S(f=>null!==f),nn(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),u.afterPreactivation=()=>(a(!0),i||f.closed?gt(void 0):f),u.initialNavigation()}))}}]).\u0275providers:[]]}const ev=new l.OlP("");let Gw=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),lu=(()=>{class n extends Gw{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Tl=new l.OlP("NgValueAccessor"),$w={provide:Tl,useExisting:(0,l.Gpc)(()=>fd),multi:!0},hd=new l.OlP("CompositionEventMode");let fd=(()=>{class n extends Gw{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qw(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(hd,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[l._Bn([$w]),l.qOj]}),n})();function Il(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function zw(n){return null!=n&&"number"==typeof n.length}const Es=new l.OlP("NgValidators"),pd=new l.OlP("NgAsyncValidators"),qM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Cs{static min(e){return function nv(n){return e=>{if(Il(e.value)||Il(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function kT(n){return e=>{if(Il(e.value)||Il(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Zw(n){return Il(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function gd(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Ww(n){return Il(n.value)||qM.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function iv(n){return e=>Il(e.value)||!zw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function rp(n){return e=>zw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Kw(n){if(!n)return sp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Il(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return e1(e)}static composeAsync(e){return sv(e)}}function sp(n){return null}function Yw(n){return null!=n}function Qw(n){return(0,l.QGY)(n)?(0,Sn.D)(n):n}function Jw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Xw(n,e){return e.map(t=>t(n))}function rv(n){return n.map(e=>function PT(n){return!n.validate}(e)?e:t=>e.validate(t))}function e1(n){if(!n)return null;const e=n.filter(Yw);return 0==e.length?null:function(t){return Jw(Xw(t,e))}}function Im(n){return null!=n?e1(rv(n)):null}function sv(n){if(!n)return null;const e=n.filter(Yw);return 0==e.length?null:function(t){return function Hw(...n){const e=(0,Mr.jO)(n),{args:t,keys:i}=cc(n),r=new bi.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,b=u;for(let I=0;I<u;I++){let M=!1;(0,yr.Xf)(t[I]).subscribe((0,Un.x)(a,U=>{M||(M=!0,b--),f[I]=U},()=>_--,void 0,()=>{(!_||!M)&&(b||a.next(i?yl(i,f):f),a.complete())}))}});return e?r.pipe(_l(e)):r}(Xw(t,e).map(Qw)).pipe((0,ht.U)(Jw))}}function op(n){return null!=n?sv(rv(n)):null}function FT(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Sm(n){return n._rawValidators}function t1(n){return n._rawAsyncValidators}function n1(n){return n?Array.isArray(n)?n:[n]:[]}function wc(n,e){return Array.isArray(n)?n.includes(e):n===e}function ov(n,e){const t=n1(e);return n1(n).forEach(r=>{wc(t,r)||t.push(r)}),t}function av(n,e){return n1(e).filter(t=>!wc(n,t))}class ap{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Im(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=op(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class di extends ap{get formDirective(){return null}get path(){return null}}class Dc extends ap{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class r1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let md=(()=>{class n extends r1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Dc,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),_d=(()=>{class n extends r1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(di,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();const kh="VALID",cp="INVALID",Ph="PENDING",yd="DISABLED";function p1(n){return(uv(n)?n.validators:n)||null}function BT(n){return Array.isArray(n)?Im(n):n||null}function g1(n,e){return(uv(e)?e.asyncValidators:n)||null}function UT(n){return Array.isArray(n)?op(n):n||null}function uv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function jT(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")}function HT(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})}class dv{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=BT(this._rawValidators),this._composedAsyncValidatorFn=UT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===kh}get invalid(){return this.status===cp}get pending(){return this.status==Ph}get disabled(){return this.status===yd}get enabled(){return this.status!==yd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=BT(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=UT(e)}addValidators(e){this.setValidators(ov(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ov(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(av(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(av(e,this._rawAsyncValidators))}hasValidator(e){return wc(this._rawValidators,e)}hasAsyncValidator(e){return wc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ph,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yd,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kh,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kh||this.status===Ph)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yd:kh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ph,this._hasOwnPendingAsyncValidator=!0;const t=Qw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?yd:this.errors?cp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ph)?Ph:this._anyControlsHaveStatus(cp)?cp:kh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Nm extends dv{constructor(e,t,i){super(p1(t),g1(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){HT(this,0,e),Object.keys(e).forEach(i=>{jT(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Mm extends Nm{}function bd(n,e){Sl(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function $T(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hv(n,e)})}(n,e),function zT(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function qT(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hv(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function GT(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function dp(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),hp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Fh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Sl(n,e){const t=Sm(n);null!==e.validator?n.setValidators(FT(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=t1(n);null!==e.asyncValidator?n.setAsyncValidators(FT(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Fh(e._rawValidators,r),Fh(e._rawAsyncValidators,r)}function hp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Sm(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=t1(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Fh(e._rawValidators,i),Fh(e._rawAsyncValidators,i),t}function hv(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function b1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function _v(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const mp=class extends dv{constructor(e=null,t,i){super(p1(t),g1(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=_v(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){b1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){b1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){_v(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Vh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const I1={provide:Tl,useExisting:(0,l.Gpc)(()=>Rm),multi:!0};let Rm=(()=>{class n extends lu{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[l._Bn([I1]),l.qOj]}),n})(),A1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const _p=new l.OlP("NgModelWithFormControlWarning"),JM={provide:di,useExisting:(0,l.Gpc)(()=>uu)};let uu=(()=>{class n extends di{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return bd(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){dp(t.control||null,t,!1),function gv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function pv(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(dp(i||null,t),(n=>n instanceof mp)(r)&&(bd(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function m1(n,e){Sl(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Om(n,e){return hp(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Sl(this.form,this),this._oldForm&&hp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Es,10),l.Y36(pd,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([JM]),l.qOj,l.TTD]}),n})();const tI={provide:Dc,useExisting:(0,l.Gpc)(()=>Ec)};let Ec=(()=>{class n extends Dc{constructor(t,i,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function pp(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===fd?t=a:function y1(n){return Object.getPrototypeOf(n.constructor)===lu}(a)?i=a:r=a}),r||i||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Lh(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function up(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(di,13),l.Y36(Es,10),l.Y36(pd,10),l.Y36(Tl,10),l.Y36(_p,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([tI]),l.qOj,l.TTD]}),n})();const bv={provide:Tl,useExisting:(0,l.Gpc)(()=>Dd),multi:!0};function vp(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Dd=(()=>{class n extends lu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=vp(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function XM(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&l.NdJ("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([bv]),l.qOj]}),n})(),x1=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(vp(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Dd,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const R1={provide:Tl,useExisting:(0,l.Gpc)(()=>bp),multi:!0};function wv(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let bp=(()=>{class n extends lu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(a=>this._getOptionId(a));i=(a,u)=>{a._setSelected(r.indexOf(u.toString())>-1)}}else i=(r,a)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],a=i.selectedOptions;if(void 0!==a){const u=a;for(let f=0;f<u.length;f++){const b=this._getOptionValue(u[f].value);r.push(b)}}else{const u=i.options;for(let f=0;f<u.length;f++){const _=u[f];if(_.selected){const b=this._getOptionValue(_.value);r.push(b)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function k1(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&l.NdJ("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([R1]),l.qOj]}),n})(),Aa=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(wv(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(wv(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(bp,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),U1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[A1]}),n})(),uI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[U1]}),n})(),j1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_p,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[U1]}),n})();class H1 extends dv{constructor(e,t,i){super(p1(t),g1(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){HT(this,0,e),e.forEach((i,r)=>{jT(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function dI(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let du=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let a={};return dI(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new Nm(r,a)}record(t,i=null){const r=this._reduceControls(t);return new Mm(r,i)}control(t,i,r){let a={};return this.useNonNullable?(dI(i)?a=i:(a.validators=i,a.asyncValidators=r),new mp(t,{...a,nonNullable:!0})):new mp(t,i,r)}array(t,i,r){const a=t.map(u=>this._createControl(u));return new H1(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof mp||t instanceof dv?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:j1}),n})();var hI=k(6451),po=k(5363),Cp=k(6063);class Qr extends hn.x{constructor(e=1/0,t=1/0,i=Cp.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var Ed=k(3099);function Tp(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,Ed.B)({connector:()=>new Qr(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function go(n,e){return(0,Or.m)(e)?ci(()=>n,e):ci(()=>n)}var Ip=k(9468),Fi=k(5813),Jr=k(2011);k(5867);var Pe=k(5861),Td=k(9681),Np=k(4859),_n=k(2090),Al=k(1877);const z1=new Map,Pm={activated:!1,tokenObservers:[]},Fm={initialized:!1,enabled:!1};function rr(n){return z1.get(n)||Pm}function Ma(n,e){z1.set(n,e)}function Id(){return Fm}class Av{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Pe.Z)(function*(){t.stop();try{t.pending=new _n.BH,yield function Y1(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _n.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Xr=new _n.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Nv(n){if(!rr(n).activated)throw Xr.create("use-before-activation",{appName:n.name})}function Bm(n,e){return Um.apply(this,arguments)}function Um(){return(Um=(0,Pe.Z)(function*({url:n,body:e},t){var i,r;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const z=yield u.getHeartbeatsHeader();z&&(a["X-Firebase-Client"]=z)}const f={method:"POST",body:JSON.stringify(e),headers:a};let _,b;try{_=yield fetch(n,f)}catch(z){throw Xr.create("fetch-network-error",{originalErrorMessage:null===(i=z)||void 0===i?void 0:i.message})}if(200!==_.status)throw Xr.create("fetch-status-error",{httpStatus:_.status});try{b=yield _.json()}catch(z){throw Xr.create("fetch-parse-error",{originalErrorMessage:null===(r=z)||void 0===r?void 0:r.message})}const I=b.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Xr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const M=1e3*Number(I[1]),U=Date.now();return{token:b.token,expireTimeMillis:U+M,issuedAtTimeMillis:U}})).apply(this,arguments)}function Q1(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Gh="firebase-app-check-store";let Op=null;function xv(){return Op||(Op=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;e(Xr.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Gh,{keyPath:"compositeKey"})}}catch(i){e(Xr.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),Op)}function kv(){return(kv=(0,Pe.Z)(function*(n,e){const i=(yield xv()).transaction(Gh,"readwrite"),a=i.objectStore(Gh).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var b;f(Xr.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const xp=new Al.Yd("@firebase/app-check");function Fv(n,e){return(0,_n.hl)()?function oO(n,e){return function Rv(n,e){return kv.apply(this,arguments)}(function tD(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{xp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function rD(){return Id().enabled}function sD(){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,Pe.Z)(function*(){const n=Id();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const oD={error:"UNKNOWN_ERROR"};function aO(n){return _n.US.encodeString(JSON.stringify(n),!1)}function $h(n){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,Pe.Z)(function*(n,e=!1){const t=n.app;Nv(t);const i=rr(t);let a,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&$s(_)&&(r=_)}if(!e&&r&&$s(r))return{token:r.token};let f,u=!1;if(rD()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Bm(Q1(t,yield sD()),n.heartbeatServiceProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),u=!0);const _=yield i.exchangeTokenPromise;return yield Fv(t,_),Ma(t,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?xp.warn(_.message):xp.error(_),a=_}return r?(f={token:r.token},Ma(t,Object.assign(Object.assign({},i),{token:r})),yield Fv(t,r)):f=aD(a),u&&Xo(t,f),f})).apply(this,arguments)}function Lv(n,e){const t=rr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ma(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function Vv(n){const{app:e}=n,t=rr(e);let i=t.tokenRefresher;i||(i=function Nl(n){const{app:e}=n;return new Av((0,Pe.Z)(function*(){let i;if(i=rr(e).token?yield $h(n,!0):yield $h(n),i.error)throw i.error}),()=>!0,()=>{const t=rr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ma(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Xo(n,e){const t=rr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function $s(n){return n.expireTimeMillis-Date.now()>0}function aD(n){return{token:aO(oD),error:n}}class lD{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=rr(this.app);for(const t of e)Lv(this.app,t.next);return Promise.resolve()}}const fD="app-check-internal";!function kI(){(0,Td._registerComponent)(new Np.wA("app-check",n=>function CI(n,e){return new lD(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(fD).initialize()})),(0,Td._registerComponent)(new Np.wA(fD,n=>function TI(n){return{getToken:e=>$h(n,e),addTokenListener:e=>function Jo(n,e,t,i){const{app:r}=n,a=rr(r),u={next:t,error:i,type:e};if(Ma(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&$s(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),Vv(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Vv(n))}(n,"INTERNAL",e),removeTokenListener:e=>Lv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Td.registerVersion)("@firebase/app-check","0.5.12")}();class qv{constructor(){return(0,Fi.vb)("app-check")}}typeof window<"u"&&window;var gD=k(127);const Zv=new l.OlP("angularfire2.auth.use-emulator"),Wv=new l.OlP("angularfire2.auth.settings"),Kv=new l.OlP("angularfire2.auth.tenant-id"),Wm=new l.OlP("angularfire2.auth.langugage-code"),Km=new l.OlP("angularfire2.auth.use-device-language"),pu=new l.OlP("angularfire.auth.persistence"),_D=(n,e,t,i,r,a,u,f)=>(0,Jr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[b,I]of Object.entries(u))_.settings[b]=I;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let Ym=(()=>{class n{constructor(t,i,r,a,u,f,_,b,I,M,U,z){const ne=new hn.x,he=gt(void 0).pipe((0,po.Q)(u.outsideAngular),ci(()=>a.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2476)))),(0,ht.U)(()=>(0,Jr.on)(t,a,i)),(0,ht.U)(we=>_D(we,a,f,b,I,M,_,U)),Tp({bufferSize:1,refCount:!1}));if(xi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{he.pipe(De()).subscribe();const je=he.pipe(ci(Ye=>Ye.getRedirectResult().then(nt=>nt,()=>null)),Fi.iC,Tp({bufferSize:1,refCount:!1})),ze=he.pipe(ci(Ye=>new bi.y(nt=>({unsubscribe:a.runOutsideAngular(()=>Ye.onAuthStateChanged(ot=>nt.next(ot),ot=>nt.error(ot),()=>nt.complete()))})))),st=he.pipe(ci(Ye=>new bi.y(nt=>({unsubscribe:a.runOutsideAngular(()=>Ye.onIdTokenChanged(ot=>nt.next(ot),ot=>nt.error(ot),()=>nt.complete()))}))));this.authState=je.pipe(go(ze),(0,Ip.R)(u.outsideAngular),(0,po.Q)(u.insideAngular)),this.user=je.pipe(go(st),(0,Ip.R)(u.outsideAngular),(0,po.Q)(u.insideAngular)),this.idToken=this.user.pipe(ci(Ye=>Ye?(0,Sn.D)(Ye.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(ci(Ye=>Ye?(0,Sn.D)(Ye.getIdTokenResult()):gt(null))),this.credential=(0,hI.T)(je,ne,this.authState.pipe(S(Ye=>!Ye))).pipe((0,ht.U)(Ye=>Ye?.user?Ye:null),(0,Ip.R)(u.outsideAngular),(0,po.Q)(u.insideAngular))}return(0,Jr.pX)(this,he,a,{spy:{apply:(we,je,ze)=>{(we.startsWith("signIn")||we.startsWith("createUser"))&&ze.then(st=>ne.next(st))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Jr.Dh),l.LFG(Jr.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Fi.HU),l.LFG(Zv,8),l.LFG(Wv,8),l.LFG(Kv,8),l.LFG(Wm,8),l.LFG(Km,8),l.LFG(pu,8),l.LFG(qv,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),zh=(()=>{class n{constructor(){gD.Z.registerVersion("angularfire",Fi.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ym]}),n})(),GI=(()=>{class n{constructor(t){this.afa=t}signInWithEmail(t,i){return this.afa.signInWithEmailAndPassword(t,i)}saveLocalData(t,i){localStorage.setItem(t,i)}getLocalData(t){return localStorage.getItem(t)}clearLocalStorage(){localStorage.clear()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ym))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Fp=k(4986);function yD(){return(0,Ri.e)((n,e)=>{let t,i=!1;n.subscribe((0,Un.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function vD(n,e){return n===e}k(2476);var Tt,kt=k(3942),$I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tc={},gu=gu||{},Zt=$I||self;function Sd(){}function Ad(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ri(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Qm="closure_uid_"+(1e9*Math.random()>>>0),bD=0;function qI(n,e,t){return n.call.apply(n.bind,arguments)}function wD(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function kr(n,e,t){return(kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qI:wD).apply(null,arguments)}function Vp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function wr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function mu(){this.s=this.s,this.o=this.o}var ZI={};mu.prototype.s=!1,mu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function gO(n){return Object.prototype.hasOwnProperty.call(n,Qm)&&n[Qm]||(n[Qm]=++bD)}(this);delete ZI[n]}},mu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zh=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Yv(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function DD(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Ad(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let u=0;u<a;u++)n[r+u]=i[u]}else n.push(i)}}function es(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}es.prototype.h=function(){this.defaultPrevented=!0};var Jm=function(){if(!Zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Zt.addEventListener("test",Sd,e),Zt.removeEventListener("test",Sd,e)}catch{}return n}();function Bp(n){return/^[\s\xa0]*$/.test(n)}var Qv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Xm(n,e){return n<e?-1:n>e?1:0}function e_(){var n=Zt.navigator;return n&&(n=n.userAgent)?n:""}function qs(n){return-1!=e_().indexOf(n)}function Nd(n){return Nd[" "](n),n}Nd[" "]=Sd;var n_,n,KI=qs("Opera"),Wh=qs("Trident")||qs("MSIE"),Jv=qs("Edge"),t_=Jv||Wh,Xv=qs("Gecko")&&!(-1!=e_().toLowerCase().indexOf("webkit")&&!qs("Edge"))&&!(qs("Trident")||qs("MSIE"))&&!qs("Edge"),YI=-1!=e_().toLowerCase().indexOf("webkit")&&!qs("Edge");function e0(){var n=Zt.document;return n?n.documentMode:void 0}e:{var t0="",ED=(n=e_(),Xv?/rv:([^\);]+)(\)|;)/.exec(n):Jv?/Edge\/([\d\.]+)/.exec(n):Wh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):YI?/WebKit\/(\S+)/.exec(n):KI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ED&&(t0=ED?ED[1]:""),Wh){var CD=e0();if(null!=CD&&CD>parseFloat(t0)){n_=String(CD);break e}}n_=t0}var mO={};var QI=Zt.document&&Wh&&(e0()||parseInt(n_,10))||void 0;function jp(n,e){if(es.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Xv){e:{try{Nd(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:TD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jp.X.h.call(this)}}wr(jp,es);var TD={2:"touch",3:"pen",4:"mouse"};jp.prototype.h=function(){jp.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ic="closure_listenable_"+(1e6*Math.random()|0),JI=0;function XI(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++JI,this.ba=this.ea=!1}function r_(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function n0(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function ID(n){const e={};for(const t in n)e[t]=n[t];return e}const r0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SD(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<r0.length;a++)t=r0[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function s_(n){this.src=n,this.g={},this.h=0}function Md(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=Zh(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(r_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function s0(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}s_.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=s0(n,e,i,r);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new XI(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var o_="closure_lm_"+(1e6*Math.random()|0),o0={};function a0(n,e,t,i,r){if(i&&i.once)return MD(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)a0(n,e[a],t,i,r);return null}return t=h0(t),n&&n[Ic]?n.N(e,t,ri(i)?!!i.capture:!!i,r):AD(n,e,t,!1,i,r)}function AD(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=ri(r)?!!r.capture:!!r,f=u0(n);if(f||(n[o_]=f=new s_(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function ND(){const e=OD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Jm||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(c0(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function MD(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)MD(n,e[a],t,i,r);return null}return t=h0(t),n&&n[Ic]?n.O(e,t,ri(i)?!!i.capture:!!i,r):AD(n,e,t,!0,i,r)}function a_(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)a_(n,e[a],t,i,r);else i=ri(i)?!!i.capture:!!i,t=h0(t),n&&n[Ic]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=s0(a=n.g[e],t,i,r))&&(r_(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=u0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=s0(e,t,i,r)),(t=-1<n?e[n]:null)&&l0(t))}function l0(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ic])Md(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(c0(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=u0(e))?(Md(t,n),0==t.h&&(t.src=null,e[o_]=null)):r_(n)}}}function c0(n){return n in o0?o0[n]:o0[n]="on"+n}function OD(n,e){if(n.ba)n=!0;else{e=new jp(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&l0(n),n=t.call(i,e)}return n}function u0(n){return(n=n[o_])instanceof s_?n:null}var d0="__closure_events_fn_"+(1e9*Math.random()>>>0);function h0(n){return"function"==typeof n?n:(n[d0]||(n[d0]=function(e){return n.handleEvent(e)}),n[d0])}function or(){mu.call(this),this.i=new s_(this),this.P=this,this.I=null}function Pr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new es(e,n);else if(e instanceof es)e.target=e.target||n;else{var r=e;SD(e=new es(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=Hp(u,i,!0,e)&&r}if(r=Hp(u=e.g=n,i,!0,e)&&r,r=Hp(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=Hp(u=e.g=t[a],i,!1,e)&&r}function Hp(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var f=u.listener,_=u.ha||u.src;u.ea&&Md(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}wr(or,mu),or.prototype[Ic]=!0,or.prototype.removeEventListener=function(n,e,t,i){a_(this,n,e,t,i)},or.prototype.M=function(){if(or.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)r_(t[i]);delete n.g[e],n.h--}}this.I=null},or.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},or.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var f0=Zt.JSON.stringify;function eS(){var n=g0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var p0,xD=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new nS,n=>n.reset());class nS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function iS(n){Zt.setTimeout(()=>{throw n},0)}function RD(n,e){p0||function kD(){var n=Zt.Promise.resolve(void 0);p0=function(){n.then(rS)}}(),l_||(p0(),l_=!0),g0.add(n,e)}var l_=!1,g0=new class tS{constructor(){this.h=this.g=null}add(e,t){const i=xD.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function rS(){for(var n;n=eS();){try{n.h.call(n.g)}catch(t){iS(t)}var e=xD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}l_=!1}function Kh(n,e){or.call(this),this.h=n||1,this.g=e||Zt,this.j=kr(this.kb,this),this.l=Date.now()}function c_(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function m0(n,e,t){if("function"==typeof n)t&&(n=kr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=kr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Zt.setTimeout(n,e||0)}function PD(n){n.g=m0(()=>{n.g=null,n.i&&(n.i=!1,PD(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}wr(Kh,or),(Tt=Kh.prototype).ca=!1,Tt.R=null,Tt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Pr(this,"tick"),this.ca&&(c_(this),this.start()))}},Tt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Tt.M=function(){Kh.X.M.call(this),c_(this),delete this.g};class _0 extends mu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PD(this)}M(){super.M(),this.g&&(Zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Od(n){mu.call(this),this.h=n,this.g={}}wr(Od,mu);var y0=[];function u_(n,e,t,i){Array.isArray(t)||(t&&(y0[0]=t.toString()),t=y0);for(var r=0;r<t.length;r++){var a=a0(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function FD(n){n0(n.g,function(e,t){this.g.hasOwnProperty(t)&&l0(e)},n),n.g={}}function d_(){this.g=!0}function xd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function LD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return f0(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Od.prototype.M=function(){Od.X.M.call(this),FD(this)},Od.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},d_.prototype.Aa=function(){this.g=!1},d_.prototype.info=function(){};var Rd={},oS=null;function Gp(){return oS=oS||new or}function h_(n){es.call(this,Rd.Oa,n)}function $p(n){const e=Gp();Pr(e,new h_(e,n))}function f_(n,e){es.call(this,Rd.STAT_EVENT,n),this.stat=e}function Ts(n){const e=Gp();Pr(e,new f_(e,n))}function b0(n,e){es.call(this,Rd.Pa,n),this.size=e}function kd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Zt.setTimeout(function(){n()},e)}Rd.Oa="serverreachability",wr(h_,es),Rd.STAT_EVENT="statevent",wr(f_,es),Rd.Pa="timingevent",wr(b0,es);var qp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},w0={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function p_(){}function VD(){}p_.prototype.h=null;var g_,zp={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function E0(){es.call(this,"d")}function C0(){es.call(this,"c")}function T0(){}function Qh(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Od(this),this.O=aS,this.T=new Kh(n=t_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new BD}function BD(){this.i=null,this.g="",this.h=!1}wr(E0,es),wr(C0,es),wr(T0,p_),T0.prototype.g=function(){return new XMLHttpRequest},T0.prototype.i=function(){return{}},g_=new T0;var aS=45e3,UD={},I0={};function S0(n,e,t){n.K=1,n.v=y_(Ml(e)),n.s=t,n.P=!0,jD(n,null)}function jD(n,e){n.F=Date.now(),Jh(n),n.A=Ml(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),WD(t.i,"t",i),n.C=0,t=n.l.H,n.h=new BD,n.g=Bd(n.l,t?e:null,!n.s),0<n.N&&(n.L=new _0(kr(n.Ka,n,n.g),n.N)),u_(n.S,n.g,"readystatechange",n.hb),e=n.H?ID(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),$p(1),function v0(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var I=b[0];b=b[1];var M=I.split("_");u=2<=M.length&&"type"==M[1]?u+(I+"=")+b+"&":u+(I+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function HD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function A0(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=GD(n,t),r==I0){4==e&&(n.o=4,Ts(14),i=!1),xd(n.j,n.m,null,"[Incomplete Response]");break}if(r==UD){n.o=4,Ts(15),xd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}xd(n.j,n.m,r,null),N0(n,r)}HD(n)&&r!=I0&&r!=UD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ts(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),T_(e),e.K=!0,Ts(11))):(xd(n.j,n.m,t,"[Invalid Chunked Response]"),Pd(n),Zp(n))}function GD(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?I0:(t=Number(e.substring(t,i)),isNaN(t)?UD:(i+=1)+t>e.length?I0:(e=e.substr(i,t),n.C=i+t,e))}function Jh(n){n.V=Date.now()+n.O,$D(n,n.O)}function $D(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=kd(kr(n.fb,n),e)}function m_(n){n.B&&(Zt.clearTimeout(n.B),n.B=null)}function Zp(n){0==n.l.G||n.I||I_(n.l,n)}function Pd(n){m_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,c_(n.T),FD(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function N0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||w_(t.h,n)))if(!n.J&&w_(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Vd(t),yu(t)}ng(t),Ts(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=kd(kr(t.bb,t),6e3));if(1>=b_(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else vu(t,11)}else if((n.J||t.g==n)&&Vd(t),!Bp(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let b=r[e];if(t.T=b[0],b=b[1],2==t.G)if("c"==b[0]){t.I=b[1],t.ka=b[2];const I=b[3];null!=I&&(t.ma=I,t.j.info("VER="+t.ma));const M=b[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const U=b[5];null!=U&&"number"==typeof U&&0<U&&(t.J=i=1.5*U,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const z=n.g;if(z){const ne=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ne){var a=i.h;a.g||-1==ne.indexOf("spdy")&&-1==ne.indexOf("quic")&&-1==ne.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(k0(a,a.h),a.h=null))}if(i.D){const he=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;he&&(i.za=he,hi(i.F,i.D,he))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((i=t).sa=$0(i,i.H?i.ka:null,i.V),u.J){QD(i.h,u);var f=u,_=i.J;_&&f.setTimeout(_),f.B&&(m_(f),Jh(f)),i.g=u}else cE(i);0<t.i.length&&nf(t)}else"stop"!=b[0]&&"close"!=b[0]||vu(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?vu(t,7):C_(t):"noop"!=b[0]&&t.l&&t.l.wa(b),t.A=0)}$p(4)}catch{}}function M0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ad(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Wp(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ad(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function lS(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ad(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(Tt=Qh.prototype).setTimeout=function(n){this.O=n},Tt.hb=function(n){n=n.target;const e=this.L;e&&3==zs(n)?e.l():this.Ka(n)},Tt.Ka=function(n){try{if(n==this.g)e:{const I=zs(this.g);var e=this.g.Ea();const M=this.g.aa();if(!(3>I)&&(3!=I||t_||this.g&&(this.h.h||this.g.fa()||rE(this.g)))){this.I||4!=I||7==e||$p(8==e||0>=M?3:2),m_(this);var t=this.g.aa();this.Y=t;t:if(HD(this)){var i=rE(this.g);n="";var r=i.length,a=4==zs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Pd(this),Zp(this);var u="";break t}this.h.i=new Zt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function sS(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,I,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bp(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Ts(12),Pd(this),Zp(this);break e}xd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,N0(this,t)}this.P?(A0(this,I,u),t_&&this.i&&3==I&&(u_(this.S,this.T,"tick",this.gb),this.T.start())):(xd(this.j,this.m,u,null),N0(this,u)),4==I&&Pd(this),this.i&&!this.I&&(4==I?I_(this.l,this):(this.i=!1,Jh(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Ts(12)):(this.o=0,Ts(13)),Pd(this),Zp(this)}}}catch{}},Tt.gb=function(){if(this.g){var n=zs(this.g),e=this.g.fa();this.C<e.length&&(m_(this),A0(this,n,e),this.i&&4!=n&&Jh(this))}},Tt.cancel=function(){this.I=!0,Pd(this)},Tt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Yh(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&($p(3),Ts(17)),Pd(this),this.o=2,Zp(this)):$D(this,this.V-n)};var O0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _u(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof _u){this.h=void 0!==e?e:n.h,Kp(this,n.j),this.s=n.s,this.g=n.g,__(this,n.m),this.l=n.l,e=n.i;var t=new Fd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),cS(this,t),this.o=n.o}else n&&(t=String(n).match(O0))?(this.h=!!e,Kp(this,t[1]||"",!0),this.s=Yp(t[2]||""),this.g=Yp(t[3]||"",!0),__(this,t[4]),this.l=Yp(t[5]||"",!0),cS(this,t[6]||"",!0),this.o=Yp(t[7]||"")):(this.h=!!e,this.i=new Fd(null,this.h))}function Ml(n){return new _u(n)}function Kp(n,e,t){n.j=t?Yp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function __(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function cS(n,e,t){e instanceof Fd?(n.i=e,function v_(n,e){e&&!n.j&&(ea(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(zD(this,i),WD(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Qp(e,Ol)),n.i=new Fd(e,n.h))}function hi(n,e,t){n.i.set(e,t)}function y_(n){return hi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Yp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Qp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,uS),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function uS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}_u.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Qp(e,Xh,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Qp(e,Xh,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Qp(t,"/"==t.charAt(0)?x0:dS,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Qp(t,hS)),n.join("")};var Xh=/[#\/\?@]/g,dS=/[#\?:]/g,x0=/[#\?]/g,Ol=/[#\?@]/g,hS=/#/g;function Fd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ea(n){n.g||(n.g=new Map,n.h=0,n.i&&function qD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function zD(n,e){ea(n),e=Sc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function ZD(n,e){return ea(n),e=Sc(n,e),n.g.has(e)}function WD(n,e,t){zD(n,e),0<t.length&&(n.i=null,n.g.set(Sc(n,e),Yv(t)),n.h+=t.length)}function Sc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function KD(n){this.l=n||YD,n=Zt.PerformanceNavigationTiming?0<(n=Zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Zt.g&&Zt.g.Ga&&Zt.g.Ga()&&Zt.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Tt=Fd.prototype).add=function(n,e){ea(this),this.i=null,n=Sc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Tt.forEach=function(n,e){ea(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Tt.oa=function(){ea(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},Tt.W=function(n){ea(this);let e=[];if("string"==typeof n)ZD(this,n)&&(e=e.concat(this.g.get(Sc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Tt.set=function(n,e){return ea(this),this.i=null,ZD(this,n=Sc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Tt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=a;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var YD=10;function R0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function b_(n){return n.h?1:n.g?n.g.size:0}function w_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function k0(n,e){n.g?n.g.add(e):n.h=e}function QD(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function pS(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Yv(n.i)}function Jp(){}function P0(){this.g=new Jp}function JD(n,e,t){const i=t||"";try{M0(n,function(r,a){let u=r;ri(r)&&(u=f0(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function ef(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Xp(n){this.l=n.$b||null,this.j=n.ib||!1}function D_(n,e){or.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=L0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}KD.prototype.cancel=function(){if(this.i=pS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Jp.prototype.stringify=function(n){return Zt.JSON.stringify(n,void 0)},Jp.prototype.parse=function(n){return Zt.JSON.parse(n,void 0)},wr(Xp,p_),Xp.prototype.g=function(){return new D_(this.l,this.j)},Xp.prototype.i=function(n){return function(){return n}}({}),wr(D_,or);var L0=0;function XD(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function tf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ld(n)}function Ld(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Tt=D_.prototype).open=function(n,e){if(this.readyState!=L0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ld(this)},Tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Zt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},Tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tf(this)),this.readyState=L0},Tt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ld(this)),this.g&&(this.readyState=3,Ld(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XD(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},Tt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?tf(this):Ld(this),3==this.readyState&&XD(this)}},Tt.Ua=function(n){this.g&&(this.response=this.responseText=n,tf(this))},Tt.Ta=function(n){this.g&&(this.response=n,tf(this))},Tt.ga=function(){this.g&&tf(this)},Tt.setRequestHeader=function(n,e){this.v.append(n,e)},Tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(D_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var eE=Zt.JSON.parse;function qi(n){or.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=V0,this.K=this.L=!1}wr(qi,or);var V0="",tE=/^https?$/i,gS=["POST","PUT"];function B0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,iE(n),eg(n)}function iE(n){n.D||(n.D=!0,Pr(n,"complete"),Pr(n,"error"))}function U0(n){if(n.h&&typeof gu<"u"&&(!n.C[1]||4!=zs(n)||2!=n.aa()))if(n.v&&4==zs(n))m0(n.Ha,0,n);else if(Pr(n,"readystatechange"),4==zs(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(O0)[1]||null;if(!r&&Zt.self&&Zt.self.location){var a=Zt.self.location.protocol;r=a.substr(0,a.length-1)}i=!tE.test(r?r.toLowerCase():"")}t=i}if(t)Pr(n,"complete"),Pr(n,"success");else{n.m=6;try{var u=2<zs(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",iE(n)}}finally{eg(n)}}}function eg(n,e){if(n.g){ts(n);const t=n.g,i=n.C[0]?Sd:null;n.g=null,n.C=null,e||Pr(n,"ready");try{t.onreadystatechange=i}catch{}}}function ts(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Zt.clearTimeout(n.A),n.A=null)}function zs(n){return n.g?n.g.readyState:0}function rE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case V0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function sE(n){let e="";return n0(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function oE(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=sE(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):hi(n,e,t))}function E_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function j0(n){this.Ca=0,this.i=[],this.j=new d_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=E_("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=E_("baseRetryDelayMs",5e3,n),this.ab=E_("retryDelaySeedMs",1e4,n),this.Za=E_("forwardChannelMaxRetries",2,n),this.ta=E_("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new KD(n&&n.concurrentRequestLimit),this.Fa=new P0,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function C_(n){if(aE(n),3==n.G){var e=n.U++,t=Ml(n.F);hi(t,"SID",n.I),hi(t,"RID",e),hi(t,"TYPE","terminate"),tg(n,t),(e=new Qh(n,n.j,e,void 0)).K=2,e.v=y_(Ml(t)),t=!1,Zt.navigator&&Zt.navigator.sendBeacon&&(t=Zt.navigator.sendBeacon(e.v.toString(),"")),!t&&Zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Bd(e.l,null),e.g.da(e.v)),e.F=Date.now(),Jh(e)}uE(n)}function yu(n){n.g&&(T_(n),n.g.cancel(),n.g=null)}function aE(n){yu(n),n.u&&(Zt.clearTimeout(n.u),n.u=null),Vd(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Zt.clearTimeout(n.m),n.m=null)}function nf(n){R0(n.h)||n.m||(n.m=!0,RD(n.Ja,n),n.C=0)}function H0(n,e){var t;t=e?e.m:n.U++;const i=Ml(n.F);hi(i,"SID",n.I),hi(i,"RID",t),hi(i,"AID",n.T),tg(n,i),n.o&&n.s&&oE(i,n.o,n.s),t=new Qh(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=lE(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),k0(n.h,t),S0(t,i,e)}function tg(n,e){n.ia&&n0(n.ia,function(t,i){hi(e,i,t)}),n.l&&M0({},function(t,i){hi(e,i,t)})}function lE(n,e,t){t=Math.min(n.i.length,t);var i=n.l?kr(n.l.Qa,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let b=r[_].h;const I=r[_].g;if(b-=a,0>b)a=Math.max(0,r[_].h-100),f=!1;else try{JD(I,u,"req"+b+"_")}catch{i&&i(I)}}if(f){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function cE(n){n.g||n.u||(n.Z=1,RD(n.Ia,n),n.A=0)}function ng(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=kd(kr(n.Ia,n),_S(n,n.A)),n.A++,0))}function T_(n){null!=n.B&&(Zt.clearTimeout(n.B),n.B=null)}function G0(n){n.g=new Qh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ml(n.sa);hi(e,"RID","rpc"),hi(e,"SID",n.I),hi(e,"CI",n.L?"0":"1"),hi(e,"AID",n.T),hi(e,"TYPE","xmlhttp"),tg(n,e),n.o&&n.s&&oE(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=y_(Ml(e)),t.s=null,t.P=!0,jD(t,n)}function Vd(n){null!=n.v&&(Zt.clearTimeout(n.v),n.v=null)}function I_(n,e){var t=null;if(n.g==e){Vd(n),T_(n),n.g=null;var i=2}else{if(!w_(n.h,e))return;t=e.D,QD(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Pr(i=Gp(),new b0(i,t,e,r)),nf(n)}else cE(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function mS(n,e){return!(b_(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=kd(kr(n.Ja,n,e),_S(n,n.C)),n.C++,0)))}(n,e)||2==i&&ng(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:vu(n,5);break;case 4:vu(n,10);break;case 3:vu(n,6);break;default:vu(n,2)}}function _S(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function vu(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=kr(n.jb,n);t||(t=new _u("//www.google.com/images/cleardot.gif"),Zt.location&&"http"==Zt.location.protocol||Kp(t,"https"),y_(t)),function F0(n,e){const t=new d_;if(Zt.Image){const i=new Image;i.onload=Vp(ef,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Vp(ef,t,i,"TestLoadImage: error",!1,e),i.onabort=Vp(ef,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Vp(ef,t,i,"TestLoadImage: timeout",!1,e),Zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Ts(2);n.G=0,n.l&&n.l.va(e),uE(n),aE(n)}function uE(n){if(n.G=0,n.la=[],n.l){const e=pS(n.h);(0!=e.length||0!=n.i.length)&&(DD(n.la,e),DD(n.la,n.i),n.h.i.length=0,Yv(n.i),n.i.length=0),n.l.ua()}}function $0(n,e,t){var i=t instanceof _u?Ml(t):new _u(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),__(i,i.m);else{var r=Zt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new _u(null,void 0);i&&Kp(a,i),e&&(a.g=e),r&&__(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&hi(i,t,e),hi(i,"VER",n.ma),tg(n,i),i}function Bd(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qi(t&&n.Da&&!n.ra?new Xp({ib:!0}):n.ra)).L=n.H,e}function dE(){}function ig(){if(Wh&&!(10<=Number(QI)))throw Error("Environmental error: no available transport.")}function Is(n,e){or.call(this),this.g=new j0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!Bp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rg(this)}function yS(n){E0.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function hE(){C0.call(this),this.status=1}function rg(n){this.g=n}(Tt=qi.prototype).da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():g_.g(),this.C=function D0(n){return n.h||(n.h=n.i())}(this.u?this.u:g_),this.g.onreadystatechange=kr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void B0(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=Zt.FormData&&n instanceof Zt.FormData,!(0<=Zh(gS,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ts(this),0<this.B&&((this.K=function nE(n){return Wh&&function _O(){return function WI(n){var e=mO;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Qv(String(n_)).split("."),t=Qv("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=Xm(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||Xm(0==r[2].length,0==a[2].length)||Xm(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kr(this.qa,this)):this.A=m0(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){B0(this,a)}},Tt.qa=function(){typeof gu<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pr(this,"timeout"),this.abort(8))},Tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pr(this,"complete"),Pr(this,"abort"),eg(this))},Tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eg(this,!0)),qi.X.M.call(this)},Tt.Ha=function(){this.s||(this.F||this.v||this.l?U0(this):this.eb())},Tt.eb=function(){U0(this)},Tt.aa=function(){try{return 2<zs(this)?this.g.status:-1}catch{return-1}},Tt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Tt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),eE(e)}},Tt.Ea=function(){return this.m},Tt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(Tt=j0.prototype).ma=8,Tt.G=1,Tt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Qh(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=ID(a),SD(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=lE(this,r,e),hi(t=Ml(this.F),"RID",n),hi(t,"CVER",22),this.D&&hi(t,"X-HTTP-Session-Id",this.D),tg(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(sE(a)))+"&"+e:this.o&&oE(t,this.o,a)),k0(this.h,r),this.Xa&&hi(t,"TYPE","init"),this.O?(hi(t,"$req",e),hi(t,"SID","null"),r.Z=!0,S0(r,t,null)):S0(r,t,e),this.G=2}}else 3==this.G&&(n?H0(this,n):0==this.i.length||R0(this.h)||H0(this))},Tt.Ia=function(){if(this.u=null,G0(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=kd(kr(this.cb,this),n)}},Tt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ts(10),yu(this),G0(this))},Tt.bb=function(){null!=this.v&&(this.v=null,yu(this),ng(this),Ts(19))},Tt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),Ts(2)):(this.j.info("Failed to ping google.com"),Ts(1))},(Tt=dE.prototype).xa=function(){},Tt.wa=function(){},Tt.va=function(){},Tt.ua=function(){},Tt.Qa=function(){},ig.prototype.g=function(n,e){return new Is(n,e)},wr(Is,or),Is.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ts(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=$0(n,null,n.V),nf(n)},Is.prototype.close=function(){C_(this.g)},Is.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=f0(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&nf(e)},Is.prototype.M=function(){this.g.l=null,delete this.j,C_(this.g),delete this.g,Is.X.M.call(this)},wr(yS,E0),wr(hE,C0),wr(rg,dE),rg.prototype.xa=function(){Pr(this.g,"a")},rg.prototype.wa=function(n){Pr(this.g,new yS(n))},rg.prototype.va=function(n){Pr(this.g,new hE(n))},rg.prototype.ua=function(){Pr(this.g,"b")},ig.prototype.createWebChannel=ig.prototype.g,Is.prototype.send=Is.prototype.u,Is.prototype.open=Is.prototype.m,Is.prototype.close=Is.prototype.close,qp.NO_ERROR=0,qp.TIMEOUT=8,qp.HTTP_ERROR=6,w0.COMPLETE="complete",VD.EventType=zp,zp.OPEN="a",zp.CLOSE="b",zp.ERROR="c",zp.MESSAGE="d",or.prototype.listen=or.prototype.N,qi.prototype.listenOnce=qi.prototype.O,qi.prototype.getLastError=qi.prototype.Na,qi.prototype.getLastErrorCode=qi.prototype.Ea,qi.prototype.getStatus=qi.prototype.aa,qi.prototype.getResponseJson=qi.prototype.Ra,qi.prototype.getResponseText=qi.prototype.fa,qi.prototype.send=qi.prototype.da;var vS=Tc.createWebChannelTransport=function(){return new ig},bS=Tc.getStatEventTarget=function(){return Gp()},q0=Tc.ErrorCode=qp,fE=Tc.EventType=w0,pE=Tc.Event=Rd,gE=Tc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mE=Tc.FetchXmlHttpFactory=Xp,sg=Tc.WebChannel=VD,wS=Tc.XhrIo=qi;const _E="@firebase/firestore";class dr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");let rf="9.10.0";const Ac=new Al.Yd("@firebase/firestore");function S_(){return Ac.logLevel}function Ke(n,...e){if(Ac.logLevel<=Al.in.DEBUG){const t=e.map(vE);Ac.debug(`Firestore (${rf}): ${n}`,...t)}}function zi(n,...e){if(Ac.logLevel<=Al.in.ERROR){const t=e.map(vE);Ac.error(`Firestore (${rf}): ${n}`,...t)}}function Ud(n,...e){if(Ac.logLevel<=Al.in.WARN){const t=e.map(vE);Ac.warn(`Firestore (${rf}): ${n}`,...t)}}function vE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function pt(n="Unexpected state"){const e=`FIRESTORE (${rf}) INTERNAL ASSERTION FAILED: `+n;throw zi(e),new Error(e)}function Ht(n,e){n||pt()}function ut(n,e){return n}const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends _n.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class DS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dr.UNAUTHENTICATED))}shutdown(){}}class A_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bO{constructor(e){this.t=e,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,t(b)):Promise.resolve();let u=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=u;e.enqueueRetryable((0,Pe.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ht("string"==typeof i.accessToken),new DS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ht(null===e||"string"==typeof e),new dr(e)}}class bE{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=dr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ht(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class N_{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new bE(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wE{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=a=>{null!=a.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,Ke("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ht("string"==typeof t.token),this.A=t.token,new z0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Z0(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class W0{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Z0(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Wt(n,e){return n<e?-1:n>e?1:0}function jd(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function ES(n){return n+"\0"}class fi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $e(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $e(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $e(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fi.fromMillis(Date.now())}static fromDate(e){return fi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new fi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new fi(0,0))}static max(){return new Lt(new fi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class og{constructor(e,t,i){void 0===t?t=0:t>e.length&&pt(),void 0===i?i=e.length-t:i>e.length-t&&pt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===og.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof og?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class un extends og{construct(e,t,i){return new un(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new $e(Oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new un(t)}static emptyPath(){return new un([])}}const CS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zi extends og{construct(e,t,i){return new Zi(e,t,i)}static isValidIdentifier(e){return CS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new $e(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new $e(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new $e(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new $e(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zi(t)}static emptyPath(){return new Zi([])}}class at{constructor(e){this.path=e}static fromPath(e){return new at(un.fromString(e))}static fromName(e){return new at(un.fromString(e).popFirst(5))}static empty(){return new at(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new un(e.slice()))}}class K0{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Y0(n){return n.fields.find(e=>2===e.kind)}function Hd(n){return n.fields.filter(e=>2!==e.kind)}K0.UNKNOWN_ID=-1;class Q0{constructor(e,t){this.fieldPath=e,this.kind=t}}class sf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new sf(0,Si.min())}}function J0(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Lt.fromTimestamp(1e9===i?new fi(t+1,0):new fi(t,i));return new Si(r,at.empty(),e)}function SS(n){return new Si(n.readTime,n.key,-1)}class Si{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Si(Lt.min(),at.empty(),-1)}static max(){return new Si(Lt.max(),at.empty(),-1)}}function X0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=at.comparator(n.documentKey,e.documentKey),0!==t?t:Wt(n.largestBatchId,e.largestBatchId))}const M_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hr(n){return eb.apply(this,arguments)}function eb(){return eb=(0,Pe.Z)(function*(n){if(n.code!==Oe.FAILED_PRECONDITION||n.message!==M_)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}),eb.apply(this,arguments)}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,i)=>{t(e)})}static reject(e){return new Ce((t,i)=>{i(e)})}static waitFor(e){return new Ce((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=Ce.resolve(!1);for(const i of e)t=t.next(r=>r?Ce.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new Ce((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const b=_;t(e[b]).next(I=>{u[b]=I,++f,f===a&&i(u)},I=>r(I))}})}static doWhile(e,t){return new Ce((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class O_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Fr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new af(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=ib(i.target.error);this.P.reject(new af(e,r))}}static open(e,t,i,r){try{return new O_(t,e.transaction(r,i))}catch(a){throw new af(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new AS(t)}}class Oa{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Oa.D((0,_n.z$)())&&zi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ke("SimpleDb","Removing database:",e),bu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,_n.hl)())return!1;if(Oa.N())return!0;const e=(0,_n.z$)(),t=Oa.D(e),i=0<t&&t<10,r=Oa.k(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,Pe.Z)(function*(){return t.db||(Ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new af(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new $e(Oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new $e(Oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new af(e,f))},a.onupgradeneeded=u=>{Ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,Pe.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const _=O_.open(a.db,e,u?"readonly":"readwrite",i),b=r(_).next(I=>(_.V(),I)).catch(I=>(_.abort(I),Ce.reject(I))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,I="FirebaseError"!==b.name&&f<3;if(Ke("SimpleDb","Transaction failed with error:",b.message,"Retrying:",I),a.close(),!I)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class tb{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return bu(this.U.delete())}}class af extends $e{constructor(e,t){super(Oe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Nc(n){return"IndexedDbTransactionError"===n.name}class AS{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ke("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),bu(i)}add(e){return Ke("SimpleDb","ADD",this.store.name,e,e),bu(this.store.add(e))}get(e){return bu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ke("SimpleDb","DELETE",this.store.name,e),bu(this.store.delete(e))}count(){return Ke("SimpleDb","COUNT",this.store.name),bu(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new Ce((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Ce((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(e,t){Ke("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(a,u,f)=>f.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new Ce((i,r)=>{t.onerror=a=>{const u=ib(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}H(e,t){const i=[];return new Ce((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new tb(f),b=t(f.primaryKey,f.value,_);if(b instanceof Ce){const I=b.catch(M=>(_.done(),Ce.reject(M)));i.push(I)}_.isDone?r():null===_.G?f.continue():f.continue(_.G)}}).next(()=>Ce.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function bu(n){return new Ce((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=ib(i.target.error);t(r)}})}let nb=!1;function ib(n){const e=Oa.D((0,_n.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new $e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nb||(nb=!0,setTimeout(()=>{throw i},0)),i}}return n}class EE{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Pe.Z)(function*(){t.task=null;try{Ke("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Nc(i)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield hr(i)}yield t.nt(6e4)}))}}class NS{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Pe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,a=!0;return Ce.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Ke("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,r).next(f=>{r-=f,i.add(u)});a=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(r,a)).next(f=>(Ke("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=SS(a);X0(u,i)>0&&(i=u)}),new Si(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ns{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Mc(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function x_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ns.at=-1;class On{constructor(e,t){this.comparator=e,this.root=t||is.EMPTY}insert(e,t){return new On(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,is.BLACK,null,null))}remove(e){return new On(this.comparator,this.root.remove(e,this.comparator).copy(null,null,is.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new R_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new R_(this.root,e,this.comparator,!1)}getReverseIterator(){return new R_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new R_(this.root,e,this.comparator,!0)}}class R_{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class is{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??is.RED,this.left=r??is.EMPTY,this.right=a??is.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new is(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return is.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return is.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,is.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}is.EMPTY=null,is.RED=!0,is.BLACK=!1,is.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new is(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CE(this.data.getIterator())}getIteratorFrom(e){return new CE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jn(this.comparator);return t.data=e,t}}class CE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function lf(n){return n.hasNext()?n.getNext():void 0}class mo{constructor(e){this.fields=e,e.sort(Zi.comparator)}static empty(){return new mo([])}unionWith(e){let t=new jn(Zi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new mo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Dr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Dr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Dr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dr.EMPTY_BYTE_STRING=new Dr("");const IE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Du(n){if(Ht(!!n),"string"==typeof n){let e=0;const t=IE.exec(n);if(Ht(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ai(n.seconds),nanos:Ai(n.nanos)}}function Ai(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function cf(n){return"string"==typeof n?Dr.fromBase64String(n):Dr.fromUint8Array(n)}function ag(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function rb(n){const e=n.mapValue.fields.__previous_value__;return ag(e)?rb(e):e}function uf(n){const e=Du(n.mapValue.fields.__local_write_time__.timestampValue);return new fi(e.seconds,e.nanos)}class SE{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Oc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Oc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oc&&e.projectId===this.projectId&&e.database===this.database}}function df(n){return null==n}function Eu(n){return 0===n&&1/n==-1/0}function lg(n){return"number"==typeof n&&Number.isInteger(n)&&!Eu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const xc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},k_={nullValue:"NULL_VALUE"};function Cu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ag(n)?4:RS(n)?9007199254740991:10:pt()}function xa(n,e){if(n===e)return!0;const t=Cu(n);if(t!==Cu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return uf(n).isEqual(uf(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Du(i.timestampValue),u=Du(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,cf(n.bytesValue).isEqual(cf(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ai(i.geoPointValue.latitude)===Ai(r.geoPointValue.latitude)&&Ai(i.geoPointValue.longitude)===Ai(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ai(i.integerValue)===Ai(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Ai(i.doubleValue),u=Ai(r.doubleValue);return a===u?Eu(a)===Eu(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return jd(n.arrayValue.values||[],e.arrayValue.values||[],xa);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(Mc(a)!==Mc(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!xa(a[f],u[f])))return!1;return!0}(n,e);default:return pt()}var r}function cg(n,e){return void 0!==(n.values||[]).find(t=>xa(t,e))}function Tu(n,e){if(n===e)return 0;const t=Cu(n),i=Cu(e);if(t!==i)return Wt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=Ai(r.integerValue||r.doubleValue),f=Ai(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return MS(n.timestampValue,e.timestampValue);case 4:return MS(uf(n),uf(e));case 5:return Wt(n.stringValue,e.stringValue);case 6:return function(r,a){const u=cf(r),f=cf(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const b=Wt(u[_],f[_]);if(0!==b)return b}return Wt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=Wt(Ai(r.latitude),Ai(a.latitude));return 0!==u?u:Wt(Ai(r.longitude),Ai(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const b=Tu(u[_],f[_]);if(b)return b}return Wt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===xc.mapValue&&a===xc.mapValue)return 0;if(r===xc.mapValue)return 1;if(a===xc.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let I=0;I<f.length&&I<b.length;++I){const M=Wt(f[I],b[I]);if(0!==M)return M;const U=Tu(u[f[I]],_[b[I]]);if(0!==U)return U}return Wt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw pt()}}function MS(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Wt(n,e);const t=Du(n),i=Du(e),r=Wt(t.seconds,i.seconds);return 0!==r?r:Wt(t.nanos,i.nanos)}function ug(n){return P_(n)}function P_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Du(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?cf(n.bytesValue).toBase64():"referenceValue"in n?at.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=P_(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${P_(i.fields[f])}`;return a+"}"}(n.mapValue):pt();var e}function Gd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sb(n){return!!n&&"integerValue"in n}function dg(n){return!!n&&"arrayValue"in n}function OS(n){return!!n&&"nullValue"in n}function xS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ob(n){return!!n&&"mapValue"in n}function F_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return wu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=F_(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=F_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function RS(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function kS(n){return"nullValue"in n?k_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Gd(Oc.empty(),at.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pt()}function L_(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Gd(Oc.empty(),at.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?xc:pt()}function AE(n,e){const t=Tu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function NE(n,e){const t=Tu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ob(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=F_(t)}setAll(e){let t=Zi.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=F_(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());ob(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];ob(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){wu(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Er(F_(this.value))}}function Iu(n){const e=[];return wu(n.fields,(t,i)=>{const r=new Zi([t]);if(ob(i)){const a=Iu(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new mo(e)}class Qn{constructor(e,t,i,r,a,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Qn(e,0,Lt.min(),Lt.min(),Er.empty(),0)}static newFoundDocument(e,t,i){return new Qn(e,1,t,Lt.min(),i,0)}static newNoDocument(e,t){return new Qn(e,2,t,Lt.min(),Er.empty(),0)}static newUnknownDocument(e,t){return new Qn(e,3,t,Lt.min(),Er.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ab{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.ht=null}}function V_(n,e=null,t=[],i=[],r=null,a=null,u=null){return new ab(n,e,t,i,r,a,u)}function $d(n){const e=ut(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+ug(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),df(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ug(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ug(i)).join(",")),e.ht=t}return e.ht}function qd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!PE(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!xa(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!US(n.startAt,e.startAt)&&US(n.endAt,e.endAt)}function zd(n){return at.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function cb(n,e){return n.filters.filter(t=>t instanceof rs&&t.field.isEqual(e))}function PS(n,e,t){let i=k_,r=!0;for(const a of cb(n,e)){let u=k_,f=!0;switch(a.op){case"<":case"<=":u=kS(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=k_}AE({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];AE({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function FS(n,e,t){let i=xc,r=!0;for(const a of cb(n,e)){let u=xc,f=!0;switch(a.op){case">=":case">":u=L_(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=xc}NE({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];NE({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class rs extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new ME(e,t,i):"array-contains"===t?new BS(e,i):"in"===t?new xE(e,i):"not-in"===t?new RE(e,i):"array-contains-any"===t?new kE(e,i):new rs(e,t,i)}static lt(e,t,i){return"in"===t?new LS(e,i):new VS(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Tu(t,this.value)):null!==t&&Cu(this.value)===Cu(t)&&this.ft(Tu(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ME extends rs{constructor(e,t,i){super(e,t,i),this.key=at.fromName(i.referenceValue)}matches(e){const t=at.comparator(e.key,this.key);return this.ft(t)}}class LS extends rs{constructor(e,t){super(e,"in",t),this.keys=OE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class VS extends rs{constructor(e,t){super(e,"not-in",t),this.keys=OE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function OE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>at.fromName(i.referenceValue))}class BS extends rs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dg(t)&&cg(t.arrayValue,this.value)}}class xE extends rs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cg(this.value.arrayValue,t)}}class RE extends rs{constructor(e,t){super(e,"not-in",t)}matches(e){if(cg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cg(this.value.arrayValue,t)}}class kE extends rs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>cg(this.value.arrayValue,i))}}class Su{constructor(e,t){this.position=e,this.inclusive=t}}class hf{constructor(e,t="asc"){this.field=e,this.dir=t}}function PE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function B_(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?at.comparator(at.fromName(u.referenceValue),t.key):Tu(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function US(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xa(n.position[t],e.position[t]))return!1;return!0}class xl{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this._t=null,this.wt=null}}function U_(n,e,t,i,r,a,u,f){return new xl(n,e,t,i,r,a,u,f)}function ff(n){return new xl(n)}function FE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function LE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function VE(n){for(const e of n.filters)if(e.dt())return e.field;return null}function ub(n){return null!==n.collectionGroup}function pf(n){const e=ut(n);if(null===e._t){e._t=[];const t=VE(e),i=LE(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new hf(t)),e._t.push(new hf(Zi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new hf(Zi.keyField(),a))}}}return e._t}function Zs(n){const e=ut(n);if(!e.wt)if("F"===e.limitType)e.wt=V_(e.path,e.collectionGroup,pf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of pf(e))t.push(new hf(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Su(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Su(e.startAt.position,e.startAt.inclusive):null;e.wt=V_(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function db(n,e,t){return new xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function j_(n,e){return qd(Zs(n),Zs(e))&&n.limitType===e.limitType}function jS(n){return`${$d(Zs(n))}|lt:${n.limitType}`}function BE(n){return`Query(target=${function lb(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${ug(i.value)}`;var i}).join(", ")}]`),df(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ug(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ug(t)).join(",")),`Target(${e})`}(Zs(n))}; limitType=${n.limitType})`}function UE(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):at.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=B_(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,pf(t),i)||t.endAt&&!function(r,a,u){const f=B_(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,pf(t),i)));var t,i}function jE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HS(n){return(e,t)=>{let i=!1;for(const r of pf(n)){const a=wO(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function wO(n,e,t){const i=n.field.isKeyField()?at.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?Tu(f,_):pt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return pt()}}function GS(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eu(e)?"-0":e}}function $S(n){return{integerValue:""+n}}function HE(n,e){return lg(e)?$S(e):GS(n,e)}class hb{constructor(){this._=void 0}}function s(n,e,t){return n instanceof d?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof h?g(n,e):n instanceof v?D(n,e):function(i,r){const a=c(i,r),u=O(a)+O(i.yt);return sb(a)&&sb(i.yt)?$S(u):GS(i.It,u)}(n,e)}function o(n,e,t){return n instanceof h?g(n,e):n instanceof v?D(n,e):t}function c(n,e){return n instanceof T?sb(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class d extends hb{}class h extends hb{constructor(e){super(),this.elements=e}}function g(n,e){const t=L(e);for(const i of n.elements)t.some(r=>xa(r,i))||t.push(i);return{arrayValue:{values:t}}}class v extends hb{constructor(e){super(),this.elements=e}}function D(n,e){let t=L(e);for(const i of n.elements)t=t.filter(r=>!xa(r,i));return{arrayValue:{values:t}}}class T extends hb{constructor(e,t){super(),this.It=e,this.yt=t}}function O(n){return Ai(n.integerValue||n.doubleValue)}function L(n){return dg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ${constructor(e,t){this.field=e,this.transform=t}}class ve{constructor(e,t){this.version=e,this.transformResults=t}}class Ie{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ie}static exists(e){return new Ie(void 0,e)}static updateTime(e){return new Ie(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qe(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class rt{}function _t(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Au(n.key,Ie.none()):new Ln(n.key,n.data,Ie.none());{const t=n.data,i=Er.empty();let r=new jn(Zi.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new Ss(n.key,i,new mo(r.toArray()),Ie.none())}}function Mt(n,e,t){n instanceof Ln?function(i,r,a){const u=i.value.clone(),f=G_(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Ss?function(i,r,a){if(!Qe(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=G_(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(H_(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ue(n,e,t,i){return n instanceof Ln?function(r,a,u,f){if(!Qe(r.precondition,a))return u;const _=r.value.clone(),b=$_(r.fieldTransforms,f,a);return _.setAll(b),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ss?function(r,a,u,f){if(!Qe(r.precondition,a))return u;const _=$_(r.fieldTransforms,f,a),b=a.data;return b.setAll(H_(r)),b.setAll(_),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(u=t,Qe(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function Vt(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=c(i.transform,r||null);null!=a&&(null===t&&(t=Er.empty()),t.set(i.field,a))}return t||null}function Cn(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&jd(t,i,(r,a)=>function ae(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof h&&i instanceof h||t instanceof v&&i instanceof v?jd(t.elements,i.elements,xa):t instanceof T&&i instanceof T?xa(t.yt,i.yt):t instanceof d&&i instanceof d);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Ln extends rt{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ss extends rt{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function H_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function G_(n,e,t){const i=new Map;Ht(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,o(u,f,t[r]))}return i}function $_(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,s(a,u,e))}return i}class Au extends rt{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hg extends rt{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fb{constructor(e){this.count=e}}var Li,fn;function q_(n){switch(n){default:return pt();case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0}}function DO(n){if(void 0===n)return zi("GRPC error has no .code"),Oe.UNKNOWN;switch(n){case Li.OK:return Oe.OK;case Li.CANCELLED:return Oe.CANCELLED;case Li.UNKNOWN:return Oe.UNKNOWN;case Li.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case Li.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case Li.INTERNAL:return Oe.INTERNAL;case Li.UNAVAILABLE:return Oe.UNAVAILABLE;case Li.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case Li.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case Li.NOT_FOUND:return Oe.NOT_FOUND;case Li.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case Li.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case Li.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case Li.ABORTED:return Oe.ABORTED;case Li.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case Li.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case Li.DATA_LOSS:return Oe.DATA_LOSS;default:return pt()}}(fn=Li||(Li={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";class gf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){wu(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return x_(this.inner)}size(){return this.innerSize}}const CF=new On(at.comparator);function ta(){return CF}const EO=new On(at.comparator);function pb(...n){let e=EO;for(const t of n)e=e.insert(t.key,t);return e}function CO(n){let e=EO;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Nu(){return gb()}function TO(){return gb()}function gb(){return new gf(n=>n.toString(),(n,e)=>n.isEqual(e))}const TF=new On(at.comparator),IF=new jn(at.comparator);function sn(...n){let e=IF;for(const t of n)e=e.add(t);return e}const SF=new jn(Wt);function GE(){return SF}class mb{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,_b.createSynthesizedTargetChangeForCurrentChange(e,t)),new mb(Lt.min(),i,GE(),ta(),sn())}}class _b{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new _b(Dr.EMPTY_BYTE_STRING,t,sn(),sn(),sn())}}class $E{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class IO{constructor(e,t){this.targetId=e,this.At=t}}class SO{constructor(e,t,i=Dr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class AO{constructor(){this.Rt=0,this.bt=MO(),this.Pt=Dr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=sn(),t=sn(),i=sn();return this.bt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:pt()}}),new _b(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=MO()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class AF{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ta(),this.qt=NO(),this.Kt=new jn(Wt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const a=r.target;if(zd(a))if(0===i){const u=new at(a.path);this.jt(t,u,Qn.newNoDocument(u,Lt.min()))}else Ht(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,u)=>{const f=this.Xt(u);if(f){if(a.current&&zd(f.target)){const _=new at(f.target.path);null!==this.Ut.get(_)||this.ee(u,_)||this.jt(u,_,Qn.newNoDocument(_,e))}a.Dt&&(t.set(u,a.xt()),a.Nt())}});let i=sn();this.qt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const b=this.Xt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(e));const r=new mb(e,t,this.Kt,this.Ut,i);return this.Ut=ta(),this.qt=NO(),this.Kt=new jn(Wt),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new AO,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new jn(Wt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new AO),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function NO(){return new On(at.comparator)}function MO(){return new On(at.comparator)}const NF={asc:"ASCENDING",desc:"DESCENDING"},MF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class OF{constructor(e,t){this.databaseId=e,this.gt=t}}function yb(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OO(n,e){return n.gt?e.toBase64():e.toUint8Array()}function xF(n,e){return yb(n,e.toTimestamp())}function ss(n){return Ht(!!n),Lt.fromTimestamp(function(e){const t=Du(e);return new fi(t.seconds,t.nanos)}(n))}function qS(n,e){return(t=n,new un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function xO(n){const e=un.fromString(n);return Ht(jO(e)),e}function vb(n,e){return qS(n.databaseId,e.path)}function Mu(n,e){const t=xO(e);if(t.get(1)!==n.databaseId.projectId)throw new $e(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $e(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new at(kO(t))}function zS(n,e){return qS(n.databaseId,e)}function RO(n){const e=xO(n);return 4===e.length?un.emptyPath():kO(e)}function bb(n){return new un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kO(n){return Ht(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function PO(n,e,t){return{name:vb(n,e),fields:t.value.mapValue.fields}}function FO(n,e,t){const i=Mu(n,e.name),r=ss(e.updateTime),a=new Er({mapValue:{fields:e.fields}}),u=Qn.newFoundDocument(i,r,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function wb(n,e){let t;if(e instanceof Ln)t={update:PO(n,e.key,e.value)};else if(e instanceof Au)t={delete:vb(n,e.key)};else if(e instanceof Ss)t={update:PO(n,e.key,e.data),updateMask:jF(e.fieldMask)};else{if(!(e instanceof hg))return pt();t={verify:vb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof d)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof h)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof v)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof T)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw pt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:xF(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:pt()),t;var r}function ZS(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Ie.updateTime(ss(r.updateTime)):void 0!==r.exists?Ie.exists(r.exists):Ie.none():Ie.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(Ht("REQUEST_TIME"===u.setToServerValue),f=new d):"appendMissingElements"in u?f=new h(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new v(u.removeAllFromArray.values||[]):"increment"in u?f=new T(a,u.increment):pt();const _=Zi.fromServerFormat(u.fieldPath);return new $(_,f)}(n,r)):[];var r;if(e.update){const r=Mu(n,e.update.name),a=new Er({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new mo((e.updateMask.fieldPaths||[]).map(b=>Zi.fromServerFormat(b)));return new Ss(r,a,u,t,i)}return new Ln(r,a,t,i)}if(e.delete){const r=Mu(n,e.delete);return new Au(r,t)}if(e.verify){const r=Mu(n,e.verify);return new hg(r,t)}return pt()}function LO(n,e){return{documents:[zS(n,e.path)]}}function VO(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=zS(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=zS(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const b=_.map(I=>function(M){if("=="===M.op){if(xS(M.value))return{unaryFilter:{field:z_(M.field),op:"IS_NAN"}};if(OS(M.value))return{unaryFilter:{field:z_(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(xS(M.value))return{unaryFilter:{field:z_(M.field),op:"IS_NOT_NAN"}};if(OS(M.value))return{unaryFilter:{field:z_(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:z_(M.field),op:VF(M.op),value:M.value}}}(I));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:z_((I=b).field),direction:LF(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(b=e.limit,n.gt||df(b)?b:{value:b});var b,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function BO(n){let e=RO(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ht(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=UO(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new hf(Z_((M=I).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(I){let M;return M="object"==typeof I?I.value:I,df(M)?null:M}(t.limit));let _=null;var I;t.startAt&&(_=new Su((I=t.startAt).values||[],!!I.before));let b=null;return t.endAt&&(b=function(I){return new Su(I.values||[],!I.before)}(t.endAt)),U_(e,r,u,a,f,"F",_,b)}function UO(n){return n?void 0!==n.unaryFilter?[UF(n)]:void 0!==n.fieldFilter?[BF(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>UO(e)).reduce((e,t)=>e.concat(t)):pt():[]}function LF(n){return NF[n]}function VF(n){return MF[n]}function z_(n){return{fieldPath:n.canonicalString()}}function Z_(n){return Zi.fromServerFormat(n.fieldPath)}function BF(n){return rs.create(Z_(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}function UF(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Z_(n.unaryFilter.field);return rs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Z_(n.unaryFilter.field);return rs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Z_(n.unaryFilter.field);return rs.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Z_(n.unaryFilter.field);return rs.create(r,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}function jF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function _o(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=HO(e)),e=HF(n.get(t),e);return HO(e)}function HF(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function HO(n){return n+"\x01\x01"}function Ou(n){const e=n.length;if(Ht(e>=2),2===e)return Ht("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),un.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&pt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:pt()}a=u+2}return new un(i)}const GO=["userId","batchId"];function qE(n,e){return[n,_o(e)]}function $O(n,e,t){return[n,_o(e),t]}const GF={},$F=["prefixPath","collectionGroup","readTime","documentId"],qF=["prefixPath","collectionGroup","documentId"],zF=["collectionGroup","readTime","prefixPath","documentId"],ZF=["canonicalId","targetId"],WF=["targetId","path"],KF=["path","targetId"],YF=["collectionId","parent"],QF=["indexId","uid"],JF=["uid","sequenceNumber"],XF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],e2=["indexId","uid","orderedDocumentKey"],t2=["userId","collectionPath","documentId"],n2=["userId","collectionPath","largestBatchId"],r2=["userId","collectionGroup","largestBatchId"],qO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],s2=[...qO,"documentOverlays"],zO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZO=zO,o2=[...ZO,"indexConfiguration","indexState","indexEntries"];class WS extends DE{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function os(n,e){const t=ut(n);return Oa.O(t.ie,e)}class KS{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&Mt(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ue(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ue(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=TO();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const _=_t(u,f);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(Lt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sn())}isEqual(e){return this.batchId===e.batchId&&jd(this.mutations,e.mutations,(t,i)=>Cn(t,i))&&jd(this.baseMutations,e.baseMutations,(t,i)=>Cn(t,i))}}class YS{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ht(e.mutations.length===i.length);let r=TF;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new YS(e,t,i,r)}}class QS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mf{constructor(e,t,i,r,a=Lt.min(),u=Lt.min(),f=Dr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new mf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new mf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new mf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class WO{constructor(e){this.re=e}}function KO(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:vb(r=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:yb(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:fg(e.version)};else{if(!e.isUnknownDocument())return pt();i.unknownDocument={path:t.path.toArray(),version:fg(e.version)}}var r,a;return i}function zE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function fg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pg(n){const e=new fi(n.seconds,n.nanoseconds);return Lt.fromTimestamp(e)}function gg(n,e){const t=(e.baseMutations||[]).map(a=>ZS(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>ZS(n.re,a)),r=fi.fromMillis(e.localWriteTimeMs);return new KS(e.batchId,r,t,i)}function Db(n){const e=pg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?pg(n.lastLimboFreeSnapshotVersion):Lt.min();let i;var r;return void 0!==n.query.documents?(Ht(1===(r=n.query).documents.length),i=Zs(ff(RO(r.documents[0])))):i=Zs(BO(n.query)),new mf(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Dr.fromBase64String(n.resumeToken))}function YO(n,e){const t=fg(e.snapshotVersion),i=fg(e.lastLimboFreeSnapshotVersion);let r;r=zd(e.target)?LO(n.re,e.target):VO(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:$d(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function JS(n){const e=BO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?db(e,e.limit,"L"):e}function XS(n,e){return new QS(e.largestBatchId,ZS(n.re,e.overlayMutation))}function QO(n,e){const t=e.path.lastSegment();return[n,_o(e.path.popLast()),t]}function JO(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:fg(i.readTime),documentKey:_o(i.documentKey.path),largestBatchId:i.largestBatchId}}class l2{getBundleMetadata(e,t){return XO(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:pg(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return XO(e).put({bundleId:(i=t).id,createTime:fg(ss(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return ex(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:JS(r.bundledQuery),readTime:pg(r.readTime)};var r})}saveNamedQuery(e,t){return ex(e).put({name:(i=t).name,readTime:fg(ss(i.readTime)),bundledQuery:i.bundledQuery});var i}}function XO(n){return os(n,"bundles")}function ex(n){return os(n,"namedQueries")}class ZE{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new ZE(e,t.uid||"")}getOverlay(e,t){return Eb(e).get(QO(this.userId,t)).next(i=>i?XS(this.It,i):null)}getOverlays(e,t){const i=Nu();return Ce.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new QS(t,u);r.push(this.ue(e,f))}),Ce.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(_o(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(Eb(e).Y("collectionPathOverlayIndex",f))}),Ce.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Nu(),a=_o(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Eb(e).W("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const b=XS(this.It,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Nu();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Eb(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,b,I)=>{const M=XS(this.It,b);a.size()<r||M.largestBatchId===u?(a.set(M.getKey(),M),u=M.largestBatchId):I.done()}).next(()=>a)}ue(e,t){return Eb(e).put(function(i,r,a){const[u,f,_]=QO(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:wb(i.re,a.mutation)}}(this.It,this.userId,t))}}function Eb(n){return os(n,"documentOverlays")}class mg{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ai(e.integerValue));else if("doubleValue"in e){const i=Ai(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),Eu(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(cf(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?RS(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):pt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),at.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function c2(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function tx(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=c2(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}mg.Te=new mg;class u2{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=tx(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=tx(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class d2{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class h2{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Cb{constructor(){this.Be=new u2,this.Le=new d2(this.Be),this.Ue=new h2(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class _g{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new _g(this.indexId,this.documentKey,this.arrayValue,i)}}function yg(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=nx(n.arrayValue,e.arrayValue),0!==t?t:(t=nx(n.directionalValue,e.directionalValue),0!==t?t:at.comparator(n.documentKey,e.documentKey)))}function nx(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class f2{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=Y0(e);if(void 0!==t&&!this.ze(t))return!1;const i=Hd(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const u=i[r];if(!this.He(this.je,u)||!this.Je(this.Ge[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Ge.length||!this.Je(this.Ge[a++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class p2{constructor(){this.Ye=new eA}addToCollectionParentIndex(e,t){return this.Ye.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(Si.min())}updateCollectionGroup(e,t,i){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class eA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new jn(un.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new jn(un.comparator)).toArray()}}const WE=new Uint8Array(0);class g2{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new eA,this.Ze=new gf(i=>$d(i),(i,r)=>qd(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:i,parent:_o(r)};return ix(e).put(a)}return Ce.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[ES(t),""],!1,!0);return ix(e).W(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(Ou(u.parent))}return i})}addFieldIndex(e,t){const i=KE(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=Ib(e);return a.next(f=>{u.put(JO(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=KE(e),r=Ib(e),a=Tb(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Tb(e);let r=!0;const a=new Map;return Ce.forEach(this.tn(t),u=>this.en(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=sn();const f=[];return Ce.forEach(a,(_,b)=>{var I;Ke("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(st=>`${st.fieldPath}:${st.kind}`).join(",")}`} to execute ${$d(t)}`);const M=function(st,Ye){const nt=Y0(Ye);if(void 0===nt)return null;for(const ot of cb(st,nt.fieldPath))switch(ot.op){case"array-contains-any":return ot.value.arrayValue.values||[];case"array-contains":return[ot.value]}return null}(b,_),U=function(st,Ye){const nt=new Map;for(const ot of Hd(Ye))for(const Dt of cb(st,ot.fieldPath))switch(Dt.op){case"==":case"in":nt.set(ot.fieldPath.canonicalString(),Dt.value);break;case"not-in":case"!=":return nt.set(ot.fieldPath.canonicalString(),Dt.value),Array.from(nt.values())}return null}(b,_),z=function(st,Ye){const nt=[];let ot=!0;for(const Dt of Hd(Ye)){const Xt=0===Dt.kind?PS(st,Dt.fieldPath,st.startAt):FS(st,Dt.fieldPath,st.startAt);nt.push(Xt.value),ot&&(ot=Xt.inclusive)}return new Su(nt,ot)}(b,_),ne=function(st,Ye){const nt=[];let ot=!0;for(const Dt of Hd(Ye)){const Xt=0===Dt.kind?FS(st,Dt.fieldPath,st.endAt):PS(st,Dt.fieldPath,st.endAt);nt.push(Xt.value),ot&&(ot=Xt.inclusive)}return new Su(nt,ot)}(b,_),he=this.nn(_,b,z),we=this.nn(_,b,ne),je=this.sn(_,b,U),ze=this.rn(_.indexId,M,he,z.inclusive,we,ne.inclusive,je);return Ce.forEach(ze,st=>i.J(st,t.limit).next(Ye=>{Ye.forEach(nt=>{const ot=at.fromSegments(nt.documentKey);u.has(ot)||(u=u.add(ot),f.push(ot))})}))}).next(()=>f)}return Ce.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),b=_/(null!=t?t.length:1),I=[];for(let M=0;M<_;++M){const U=t?this.on(t[M/b]):WE,z=this.un(e,U,i[M%b],r),ne=this.cn(e,U,a[M%b],u),he=f.map(we=>this.un(e,U,we,!0));I.push(...this.createRange(z,ne,he))}return I}un(e,t,i,r){const a=new _g(e,at.empty(),t,i);return r?a:a.Ke()}cn(e,t,i,r){const a=new _g(e,at.empty(),t,i);return r?a.Ke():a}en(e,t){const i=new f2(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const f of a)i.We(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;return Ce.forEach(this.tn(t),r=>this.en(e,r).next(a=>{a?0!==i&&a.fields.length<function(u){let f=new jn(Zi.comparator),_=!1;for(const b of u.filters){const I=b;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?_=!0:f=f.add(I.field))}for(const b of u.orderBy)b.field.isKeyField()||(f=f.add(b.field));return f.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new Cb;for(const r of Hd(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.qe(r.kind);mg.Te.ce(a,u)}return i.$e()}on(e){const t=new Cb;return mg.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new Cb;return mg.Te.ce(Gd(this.databaseId,t),i.qe(function(r){const a=Hd(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new Cb);let a=0;for(const u of Hd(e)){const f=i[a++];for(const _ of r)if(this.ln(t,u.fieldPath)&&dg(f))r=this.fn(r,u,f);else{const b=_.qe(u.kind);mg.Te.ce(f,b)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new Cb;_.seed(f.$e()),mg.Te.ce(u,_.qe(t.kind)),a.push(_)}return a}ln(e,t){return!!e.filters.find(i=>i instanceof rs&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=KE(e),r=Ib(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(a=>{const u=[];return Ce.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(b,I){const M=I?new sf(I.sequenceNumber,new Si(pg(I.readTime),new at(Ou(I.documentKey)),I.largestBatchId)):sf.empty(),U=b.fields.map(([z,ne])=>new Q0(Zi.fromServerFormat(z),ne));return new K0(b.indexId,b.collectionGroup,U,M)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Wt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=KE(e),a=Ib(e);return this._n(e).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>Ce.forEach(f,_=>a.put(JO(_.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return Ce.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?Ce.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),Ce.forEach(f,_=>this.wn(e,r,_).next(b=>{const I=this.mn(a,_);return b.isEqual(I)?Ce.resolve():this.gn(e,a,_,b,I)}))))})}yn(e,t,i,r){return Tb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return Tb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=Tb(e);let a=new jn(yg);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(u,f)=>{a=a.add(new _g(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}mn(e,t){let i=new jn(yg);const r=this.an(t,e);if(null==r)return i;const a=Y0(t);if(null!=a){const u=e.data.field(a.fieldPath);if(dg(u))for(const f of u.arrayValue.values||[])i=i.add(new _g(t.indexId,e.key,this.on(f),r))}else i=i.add(new _g(t.indexId,e.key,WE,r));return i}gn(e,t,i,r,a){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,b,I,M){const U=f.getIterator(),z=_.getIterator();let ne=lf(U),he=lf(z);for(;ne||he;){let we=!1,je=!1;if(ne&&he){const ze=b(ne,he);ze<0?je=!0:ze>0&&(we=!0)}else null!=ne?je=!0:we=!0;we?(I(he),he=lf(z)):je?(M(ne),ne=lf(U)):(ne=lf(U),he=lf(z))}}(r,a,yg,f=>{u.push(this.yn(e,t,i,f))},f=>{u.push(this.pn(e,t,i,f))}),Ce.waitFor(u)}_n(e){let t=1;return Ib(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>yg(u,f)).filter((u,f,_)=>!f||0!==yg(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=yg(u,e),_=yg(u,t);if(0===f)r[0]=e.Ke();else if(f>0&&_<0)r.push(u),r.push(u.Ke());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,WE,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,WE,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(rx)}getMinOffset(e,t){return Ce.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||pt())).next(rx)}}function ix(n){return os(n,"collectionParents")}function Tb(n){return os(n,"indexEntries")}function KE(n){return os(n,"indexConfiguration")}function Ib(n){return os(n,"indexState")}function rx(n){Ht(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;X0(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Si(e.readTime,e.documentKey,t)}const sx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class na{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new na(e,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ox(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.Z({range:u},(I,M,U)=>(f++,U.delete()));a.push(_.next(()=>{Ht(1===f)}));const b=[];for(const I of t.mutations){const M=$O(e,I.key.path,t.batchId);a.push(r.delete(M)),b.push(I.key)}return Ce.waitFor(a).next(()=>b)}function YE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pt();e=n.noDocument}return JSON.stringify(e).length}na.DEFAULT_COLLECTION_PERCENTILE=10,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,na.DEFAULT=new na(41943040,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),na.DISABLED=new na(-1,0,0);class QE{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){Ht(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new QE(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _f(e).Z({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=W_(e),u=_f(e);return u.add({}).next(f=>{Ht("number"==typeof f);const _=new KS(f,t,i,r),b=function(U,z,ne){const he=ne.baseMutations.map(je=>wb(U.re,je)),we=ne.mutations.map(je=>wb(U.re,je));return{userId:z,batchId:ne.batchId,localWriteTimeMs:ne.localWriteTime.toMillis(),baseMutations:he,mutations:we}}(this.It,this.userId,_),I=[];let M=new jn((U,z)=>Wt(U.canonicalString(),z.canonicalString()));for(const U of r){const z=$O(this.userId,U.key.path,f);M=M.add(U.key.path.popLast()),I.push(u.put(b)),I.push(a.put(z,GF))}return M.forEach(U=>{I.push(this.indexManager.addToCollectionParentIndex(e,U))}),e.addOnCommittedListener(()=>{this.In[f]=_.keys()}),Ce.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return _f(e).get(t).next(i=>i?(Ht(i.userId===this.userId),gg(this.It,i)):null)}Tn(e,t){return this.In[t]?Ce.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return _f(e).Z({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(Ht(f.batchId>=i),a=gg(this.It,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return _f(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _f(e).W("userMutationsIndex",t).next(i=>i.map(r=>gg(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=qE(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return W_(e).Z({range:r},(u,f,_)=>{const[b,I,M]=u,U=Ou(I);if(b===this.userId&&t.path.isEqual(U))return _f(e).get(M).next(z=>{if(!z)throw pt();Ht(z.userId===this.userId),a.push(gg(this.It,z))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new jn(Wt);const r=[];return t.forEach(a=>{const u=qE(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=W_(e).Z({range:f},(b,I,M)=>{const[U,z,ne]=b,he=Ou(z);U===this.userId&&a.path.isEqual(he)?i=i.add(ne):M.done()});r.push(_)}),Ce.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=qE(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new jn(Wt);return W_(e).Z({range:u},(_,b,I)=>{const[M,U,z]=_,ne=Ou(U);M===this.userId&&i.isPrefixOf(ne)?ne.length===r&&(f=f.add(z)):I.done()}).next(()=>this.En(e,f))}En(e,t){const i=[],r=[];return t.forEach(a=>{r.push(_f(e).get(a).next(u=>{if(null===u)throw pt();Ht(u.userId===this.userId),i.push(gg(this.It,u))}))}),Ce.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return ox(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return W_(e).Z({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=Ou(a[1]);r.push(_)}else f.done()}).next(()=>{Ht(0===r.length)})})}containsKey(e,t){return ax(e,this.userId,t)}Rn(e){return lx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ax(n,e,t){const i=qE(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return W_(n).Z({range:a,X:!0},(f,_,b)=>{const[I,M,U]=f;I===e&&M===r&&(u=!0),b.done()}).next(()=>u)}function _f(n){return os(n,"mutations")}function W_(n){return os(n,"documentMutations")}function lx(n){return os(n,"mutationQueues")}class vg{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new vg(0)}static vn(){return new vg(-1)}}class m2{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new vg(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Lt.fromTimestamp(new fi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>K_(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(Ht(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return K_(e).Z((u,f)=>{const _=Db(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>Ce.waitFor(a)).next(()=>r)}forEachTarget(e,t){return K_(e).Z((i,r)=>{const a=Db(r);t(a)})}Vn(e){return cx(e).get("targetGlobalKey").next(t=>(Ht(null!==t),t))}Sn(e,t){return cx(e).put("targetGlobalKey",t)}Dn(e,t){return K_(e).put(YO(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=$d(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return K_(e).Z({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const b=Db(f);qd(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=yf(e);return t.forEach(u=>{const f=_o(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),Ce.waitFor(r)}removeMatchingKeys(e,t,i){const r=yf(e);return Ce.forEach(t,a=>{const u=_o(a.path);return Ce.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=yf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=yf(e);let a=sn();return r.Z({range:i,X:!0},(u,f,_)=>{const b=Ou(u[1]),I=new at(b);a=a.add(I)}).next(()=>a)}containsKey(e,t){const i=_o(t.path),r=IDBKeyRange.bound([i],[ES(i)],!1,!0);let a=0;return yf(e).Z({index:"documentTargetsIndex",X:!0,range:r},([u,f],_,b)=>{0!==u&&(a++,b.done())}).next(()=>a>0)}se(e,t){return K_(e).get(t).next(i=>i?Db(i):null)}}function K_(n){return os(n,"targets")}function cx(n){return os(n,"targetGlobal")}function yf(n){return os(n,"targetDocuments")}function ux([n,e],[t,i]){const r=Wt(n,t);return 0===r?Wt(e,i):r}class _2{constructor(e){this.xn=e,this.buffer=new jn(ux),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ux(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class y2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Pe.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Nc(i)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield hr(i)}yield t.Fn(3e5)}))}}class v2{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Ce.resolve(ns.at);const i=new _2(t);return this.$n.forEachTarget(e,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(sx)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sx):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,a,u,f,_,b;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,u=Date.now(),this.nthSequenceNumber(e,r))).next(M=>(i=M,f=Date.now(),this.removeTargets(e,i,t))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(M=>(b=Date.now(),S_()<=Al.in.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(b-_)+`ms\nTotal Duration: ${b-I}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:M})))}}class b2{constructor(e,t){this.db=e,this.garbageCollector=new v2(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return JE(e,i)}removeReference(e,t,i){return JE(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return JE(e,t)}Gn(e,t){return function(i,r){let a=!1;return lx(i).tt(u=>ax(i,u,r).next(f=>(f&&(a=!0),Ce.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(e,(u,f)=>{if(f<=t){const _=this.Gn(e,u).next(b=>{if(!b)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Lt.min()),yf(e).delete([0,_o(u.path)])))});r.push(_)}}).next(()=>Ce.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return JE(e,t)}Kn(e,t){const i=yf(e);let r,a=ns.at;return i.Z({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:b})=>{0===u?(a!==ns.at&&t(new at(Ou(r)),a),a=b,r=_):a=ns.at}).next(()=>{a!==ns.at&&t(new at(Ou(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function JE(n,e){return yf(n).put((i=n.currentSequenceNumber,{targetId:0,path:_o(e.path),sequenceNumber:i}));var i}class dx{constructor(){this.changes=new gf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class w2{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return bg(e).put(i)}removeEntry(e,t,i){return bg(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],zE(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=Qn.newInvalidDocument(t);return bg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Sb(t))},(r,a)=>{i=this.jn(t,a)}).next(()=>i)}Wn(e,t){let i={size:0,document:Qn.newInvalidDocument(t)};return bg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Sb(t))},(r,a)=>{i={document:this.jn(t,a),size:YE(a)}}).next(()=>i)}getEntries(e,t){let i=ta();return this.zn(e,t,(r,a)=>{const u=this.jn(r,a);i=i.insert(r,u)}).next(()=>i)}Hn(e,t){let i=ta(),r=new On(at.comparator);return this.zn(e,t,(a,u)=>{const f=this.jn(a,u);i=i.insert(a,f),r=r.insert(a,YE(u))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return Ce.resolve();let r=new jn(gx);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(Sb(r.first()),Sb(r.last())),u=r.getIterator();let f=u.getNext();return bg(e).Z({index:"documentKeyIndex",range:a},(_,b,I)=>{const M=at.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&gx(f,M)<0;)i(f,null),f=u.getNext();f&&f.isEqual(M)&&(i(f,b),f=u.hasNext()?u.getNext():null),f?I.j(Sb(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),zE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bg(e).W(IDBKeyRange.bound(r,a,!0)).next(u=>{let f=ta();for(const _ of u){const b=this.jn(at.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,i,r){let a=ta();const u=px(t,i),f=px(t,Si.max());return bg(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,b,I)=>{const M=this.jn(at.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(M.key,M),a.size===r&&I.done()}).next(()=>a)}newChangeBuffer(e){return new D2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fx(e).get("remoteDocumentGlobalKey").next(t=>(Ht(!!t),t))}Qn(e,t){return fx(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function a2(n,e){let t;if(e.document)t=FO(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=at.fromSegments(e.noDocument.path),r=pg(e.noDocument.readTime);t=Qn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pt();{const i=at.fromSegments(e.unknownDocument.path),r=pg(e.unknownDocument.version);t=Qn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new fi(i[0],i[1]);return Lt.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(Lt.min()))return i}return Qn.newInvalidDocument(e)}}function hx(n){return new w2(n)}class D2 extends dx{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new gf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new jn((a,u)=>Wt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=KO(this.Yn.It,u);r=r.add(a.path.popLast()),i+=YE(_)-f.size,t.push(this.Yn.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=KO(this.Yn.It,u.convertToNoDocument(Lt.min()));t.push(this.Yn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,i)),Ce.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function fx(n){return os(n,"remoteDocumentGlobal")}function bg(n){return os(n,"remoteDocumentsV14")}function Sb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function px(n,e){const t=e.documentKey.path.toArray();return[n,zE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function gx(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Wt(t[a],i[a]),r)return r;return r=Wt(t.length,i.length),r||(r=Wt(t[t.length-2],i[i.length-2]),r||Wt(t[t.length-1],i[i.length-1]))}class E2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mx{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&Ue(i.mutation,r,mo.empty(),fi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,sn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=sn()){const r=Nu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=pb();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Nu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,sn()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=ta();const u=gb(),f=gb();return t.forEach((_,b)=>{const I=i.get(b.key);r.has(b.key)&&(void 0===I||I.mutation instanceof Ss)?a=a.insert(b.key,b):void 0!==I&&(u.set(b.key,I.mutation.getFieldMask()),Ue(I.mutation,b,I.mutation.getFieldMask(),fi.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((b,I)=>u.set(b,I)),t.forEach((b,I)=>{var M;return f.set(b,new E2(I,null!==(M=u.get(b))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const i=gb();let r=new On((u,f)=>u-f),a=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let I=i.get(_)||mo.empty();I=f.applyToLocalView(b,I),i.set(_,I);const M=(r.get(f.batchId)||sn()).add(_);r=r.insert(f.batchId,M)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),b=_.key,I=_.value,M=TO();I.forEach(U=>{if(!a.has(U)){const z=_t(t.get(U),i.get(U));null!==z&&M.set(U,z),a=a.add(U)}}),u.push(this.documentOverlayCache.saveOverlays(e,b,M))}return Ce.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return at.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ub(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):Ce.resolve(Nu());let f=-1,_=a;return u.next(b=>Ce.forEach(b,(I,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),a.get(I)?Ce.resolve():this.getBaseDocument(e,I,M).next(U=>{_=_.insert(I,U)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,_,b,sn())).next(I=>({batchId:f,changes:CO(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new at(t)).next(i=>{let r=pb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=pb();return this.indexManager.getCollectionParents(e,r).next(u=>Ce.forEach(u,f=>{const _=(b=t,I=f.child(r),new xl(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,I;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(b=>{b.forEach((I,M)=>{a=a.insert(I,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((f,_)=>{const b=_.getKey();null===r.get(b)&&(r=r.insert(b,Qn.newInvalidDocument(b)))});let u=pb();return r.forEach((f,_)=>{const b=a.get(f);void 0!==b&&Ue(b.mutation,_,mo.empty(),fi.now()),UE(t,_)&&(u=u.insert(f,_))}),u})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ce.resolve(Qn.newInvalidDocument(t))}}class C2{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:ss(i.createTime)}),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:JS(i.bundledQuery),readTime:ss(i.readTime)}),Ce.resolve();var i}}class T2{constructor(){this.overlays=new On(at.comparator),this.es=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Nu();return Ce.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.ue(e,t,a)}),Ce.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),Ce.resolve()}getOverlaysForCollection(e,t,i){const r=Nu(),a=t.length+1,u=new at(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return Ce.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new On((b,I)=>b-I);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>i){let I=a.get(b.largestBatchId);null===I&&(I=Nu(),a=a.insert(b.largestBatchId,I)),I.set(b.getKey(),b)}}const f=Nu(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,I)=>f.set(b,I)),!(f.size()>=r)););return Ce.resolve(f)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new QS(t,i));let a=this.es.get(t);void 0===a&&(a=sn(),this.es.set(t,a)),this.es.set(t,a.add(i.key))}}class tA{constructor(){this.ns=new jn(as.ss),this.rs=new jn(as.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new as(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new as(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new at(new un([])),i=new as(t,e),r=new as(t,e+1),a=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new at(new un([])),i=new as(t,e),r=new as(t,e+1);let a=sn();return this.rs.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new as(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class as{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return at.comparator(e.key,t.key)||Wt(e._s,t._s)}static os(e,t){return Wt(e._s,t._s)||at.comparator(e.key,t.key)}}class I2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new jn(as.ss)}checkEmpty(e){return Ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const u=new KS(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this.gs=this.gs.add(new as(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Ce.resolve(u)}lookupMutationBatch(e,t){return Ce.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),a=r<0?0:r;return Ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new as(t,0),r=new as(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],u=>{const f=this.ys(u._s);a.push(f)}),Ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new jn(Wt);return t.forEach(r=>{const a=new as(r,0),u=new as(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],f=>{i=i.add(f._s)})}),Ce.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;at.isDocumentKey(a)||(a=a.child(""));const u=new as(new at(a),0);let f=new jn(Wt);return this.gs.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_._s)),!0)},u),Ce.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ht(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return Ce.forEach(t.mutations,r=>{const a=new as(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new as(t,0),r=this.gs.firstAfterOrEqual(i);return Ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Ce.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class S2{constructor(e){this.Es=e,this.docs=new On(at.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ce.resolve(i?i.document.mutableCopy():Qn.newInvalidDocument(t))}getEntries(e,t){let i=ta();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Qn.newInvalidDocument(r))}),Ce.resolve(i)}getAllFromCollection(e,t,i){let r=ta();const a=new at(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||X0(SS(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return Ce.resolve(r)}getAllFromCollectionGroup(e,t,i,r){pt()}As(e,t){return Ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new A2(this)}getSize(e){return Ce.resolve(this.size)}}class A2 extends dx{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),Ce.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class N2{constructor(e){this.persistence=e,this.Rs=new gf(t=>$d(t),qd),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new tA,this.targetCount=0,this.vs=vg.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),Ce.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new vg(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.Dn(t),Ce.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Rs.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),Ce.waitFor(a).next(()=>r)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return Ce.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),Ce.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),Ce.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return Ce.resolve(i)}containsKey(e,t){return Ce.resolve(this.Ps.containsKey(t))}}class _x{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ns(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new N2(this),this.indexManager=new p2,this.remoteDocumentCache=new S2(i=>this.referenceDelegate.xs(i)),this.It=new WO(t),this.Ns=new C2(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new T2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new I2(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Ke("MemoryPersistence","Starting transaction:",e);const r=new M2(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Ms(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Os(e,t){return Ce.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class M2 extends DE{constructor(e){super(),this.currentSequenceNumber=e}}class XE{constructor(e){this.persistence=e,this.Fs=new tA,this.$s=null}static Bs(e){return new XE(e)}get Ls(){if(this.$s)return this.$s;throw pt()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),Ce.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Ls,i=>{const r=at.fromPath(i);return this.Us(e,r).next(a=>{a||t.removeEntry(r,Lt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Ce.or([()=>Ce.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class O2{constructor(e){this.It=e}$(e,t,i,r){const a=new O_("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GO,{unique:!0}),f.createObjectStore("documentMutations"),yx(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=Ce.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),yx(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").W().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GO,{unique:!0});const I=_.store("mutations"),M=b.map(U=>I.put(U));return Ce.waitFor(M)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.qs(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(a))),i<8&&r>=8&&(u=u.next(()=>this.Qs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.js(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:t2});_.createIndex("collectionPathOverlayIndex",n2,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",r2,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:$F});_.createIndex("documentKeyIndex",qF),_.createIndex("collectionGroupIndex",zF)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(e,a))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:QF}).createIndex("sequenceNumberIndex",JF,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:XF}).createIndex("documentKeyIndex",e2,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=YE(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>Ce.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(f=>Ce.forEach(f,_=>{Ht(_.userId===a.userId);const b=gg(this.It,_);return ox(e,a.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((u,f)=>{const _=new un(u),b=[0,_o(_)];a.push(t.get(b).next(I=>I?Ce.resolve():t.put({targetId:0,path:_o(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ce.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:YF});const i=t.store("collectionParents"),r=new eA,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:_o(_)})}};return t.store("remoteDocuments").Z({X:!0},(u,f)=>{const _=new un(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,f,_],b)=>{const I=Ou(f);return a(I.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const a=Db(r),u=YO(this.It,a);return t.put(u)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(b=u,b.document?new at(un.fromString(b.document.name).popFirst(5)):b.noDocument?at.fromSegments(b.noDocument.path):b.unknownDocument?at.fromSegments(b.unknownDocument.path):pt()).path.toArray();var b;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(I))}).next(()=>Ce.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=hx(this.It),a=new _x(XE.Bs,this.It.re);return i.W().next(u=>{const f=new Map;return u.forEach(_=>{var b;let I=null!==(b=f.get(_.userId))&&void 0!==b?b:sn();gg(this.It,_).keys().forEach(M=>I=I.add(M)),f.set(_.userId,I)}),Ce.forEach(f,(_,b)=>{const I=new dr(b),M=ZE.oe(this.It,I),U=a.getIndexManager(I),z=QE.oe(I,this.It,U,a.referenceDelegate);return new mx(r,z,M,U).recalculateAndSaveOverlaysForDocumentKeys(new WS(t,ns.at),_).next()})})}}function yx(n){n.createObjectStore("targetDocuments",{keyPath:WF}).createIndex("documentTargetsIndex",KF,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ZF,{unique:!0}),n.createObjectStore("targetGlobal")}const nA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class iA{constructor(e,t,i,r,a,u,f,_,b,I,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=a,this.window=u,this.document=f,this.Js=b,this.Ys=I,this.Xs=M,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=U=>Promise.resolve(),!iA.C())throw new $e(Oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new b2(this,r),this.ii=t+"main",this.It=new WO(_),this.ri=new Oa(this.ii,this.Xs,new O2(this.It)),this.Cs=new m2(this.referenceDelegate,this.It),this.remoteDocumentCache=hx(this.It),this.Ns=new l2,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===I&&zi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $e(Oe.FAILED_PRECONDITION,nA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ns(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,Pe.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Pe.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Pe.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>eC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Nc(e))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Ab(e).get("owner").next(t=>Ce.resolve(this.mi(t)))}gi(e){return eC(e).delete(this.clientId)}yi(){var e=this;return(0,Pe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=os(i,"clientMetadata");return r.W().next(a=>{const u=e.Ii(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return Ce.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ce.resolve(!0):Ab(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new $e(Oe.FAILED_PRECONDITION,nA);return!1}}return!(!this.networkEnabled||!this.inForeground)||eC(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Pe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new WS(t,ns.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>eC(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return QE.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new g2(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return ZE.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Ke("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.Xs)?o2:14===u?ZO:13===u?zO:12===u?s2:11===u?qO:void pt();var u;let f;return this.ri.runTransaction(e,r,a,_=>(f=new WS(_,this.Ss?this.Ss.next():ns.at),"readwrite-primary"===t?this.fi(f).next(b=>!!b||this.di(f)).next(b=>{if(!b)throw zi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new $e(Oe.FAILED_PRECONDITION,M_);return i(f)}).next(b=>this.wi(f).next(()=>b)):this.Vi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Vi(e){return Ab(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new $e(Oe.FAILED_PRECONDITION,nA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ab(e).put("owner",t)}static C(){return Oa.C()}_i(e){const t=Ab(e);return t.get("owner").next(i=>this.mi(i)?(Ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ce.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(zi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,_n.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ke("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return zi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){zi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ab(n){return os(n,"owner")}function eC(n){return os(n,"clientMetadata")}function rA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class sA{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=sn(),r=sn();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new sA(e,t.fromCache,i,r)}}class vx{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(a=>a||this.Mi(e,t,r,i)).next(a=>a||this.Oi(e,t))}ki(e,t){if(FE(t))return Ce.resolve(null);let i=Zs(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=db(t,null,"F"),i=Zs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=sn(...a);return this.Ni.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const b=this.Fi(t,f);return this.$i(t,b,u,_.readTime)?this.ki(e,db(t,null,"F")):this.Bi(e,b,t,_)}))})))}Mi(e,t,i,r){return FE(t)||r.isEqual(Lt.min())?this.Oi(e,t):this.Ni.getDocuments(e,i).next(a=>{const u=this.Fi(t,a);return this.$i(t,u,i,r)?this.Oi(e,t):(S_()<=Al.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),BE(t)),this.Bi(e,u,t,J0(r,-1)))})}Fi(e,t){let i=new jn(HS(e));return t.forEach((r,a)=>{UE(e,a)&&(i=i.add(a))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Oi(e,t){return S_()<=Al.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",BE(t)),this.Ni.getDocumentsMatchingQuery(e,t,Si.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class x2{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new On(Wt),this.qi=new gf(a=>$d(a),qd),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function bx(n,e,t,i){return new x2(n,e,t,i)}function wx(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,Pe.Z)(function*(n,e){const t=ut(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=sn();for(const b of r){u.push(b.batchId);for(const I of b.mutations)_=_.add(I.key)}for(const b of a){f.push(b.batchId);for(const I of b.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(i,_).next(b=>({ji:b,removedBatchIds:u,addedBatchIds:f}))})})}),oA.apply(this,arguments)}function R2(n,e){const t=ut(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,b){const I=_.batch,M=I.keys();let U=Ce.resolve();return M.forEach(z=>{U=U.next(()=>b.getEntry(f,z)).next(ne=>{const he=_.docVersions.get(z);Ht(null!==he),ne.version.compareTo(he)<0&&(I.applyToRemoteDocument(ne,_),ne.isValidDocument()&&(ne.setReadTime(_.commitVersion),b.addEntry(ne)))})}),U.next(()=>u.mutationQueue.removeMutationBatch(f,I))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=sn();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Dx(n){const e=ut(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function k2(n,e){const t=ut(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const f=[];e.targetChanges.forEach((I,M)=>{const U=r.get(M);if(!U)return;f.push(t.Cs.removeMatchingKeys(a,I.removedDocuments,M).next(()=>t.Cs.addMatchingKeys(a,I.addedDocuments,M)));let z=U.withSequenceNumber(a.currentSequenceNumber);var ne,he,we;e.targetMismatches.has(M)?z=z.withResumeToken(Dr.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):I.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(I.resumeToken,i)),r=r.insert(M,z),he=z,we=I,(0===(ne=U).resumeToken.approximateByteSize()||he.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=3e8||we.addedDocuments.size+we.modifiedDocuments.size+we.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,z))});let _=ta(),b=sn();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(Ex(a,u,e.documentUpdates).next(I=>{_=I.Wi,b=I.zi})),!i.isEqual(Lt.min())){const I=t.Cs.getLastRemoteSnapshotVersion(a).next(M=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(I)}return Ce.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,b)).next(()=>_)}).then(a=>(t.Ui=r,a))}function Ex(n,e,t){let i=sn(),r=sn();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=ta();return t.forEach((f,_)=>{const b=a.get(f);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(Lt.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Ke("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",_.version)}),{Wi:u,zi:r}})}function P2(n,e){const t=ut(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Y_(n,e){const t=ut(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(a=>a?(r=a,Ce.resolve(r)):t.Cs.allocateTargetId(i).next(u=>(r=new mf(e,u,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function Q_(n,e,t){return aA.apply(this,arguments)}function aA(){return aA=(0,Pe.Z)(function*(n,e,t){const i=ut(n),r=i.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Nc(u))throw u;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),aA.apply(this,arguments)}function tC(n,e,t){const i=ut(n);let r=Lt.min(),a=sn();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,b){const I=ut(f),M=I.qi.get(b);return void 0!==M?Ce.resolve(I.Ui.get(M)):I.Cs.getTargetData(_,b)}(i,u,Zs(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.Li.getDocumentsMatchingQuery(u,e,t?r:Lt.min(),t?a:sn())).next(f=>(Ix(i,jE(e),f),{documents:f,Hi:a})))}function Cx(n,e){const t=ut(n),i=ut(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.se(a,e).next(u=>u?u.target:null))}function Tx(n,e){const t=ut(n),i=t.Ki.get(e)||Lt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,J0(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Ix(t,e,r),r))}function Ix(n,e,t){let i=Lt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(e,i)}function lA(){return lA=(0,Pe.Z)(function*(n,e,t,i){const r=ut(n);let a=sn(),u=ta();for(const b of t){const I=e.Ji(b.metadata.name);b.document&&(a=a.add(I));const M=e.Yi(b);M.setReadTime(e.Xi(b.metadata.readTime)),u=u.insert(I,M)}const f=r.Gi.newChangeBuffer({trackRemovals:!0}),_=yield Y_(r,(b=i,Zs(ff(un.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>Ex(b,f,u).next(I=>(f.apply(b),I)).next(I=>r.Cs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Cs.addMatchingKeys(b,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,I.Wi,I.zi)).next(()=>I.Wi)))}),lA.apply(this,arguments)}function L2(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,Pe.Z)(function*(n,e,t=sn()){const i=yield Y_(n,Zs(JS(e.bundledQuery))),r=ut(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=ss(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(a,e);const f=i.withResumeToken(Dr.EMPTY_BYTE_STRING,u);return r.Ui=r.Ui.insert(f.targetId,f),r.Cs.updateTargetData(a,f).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,e))})}),cA.apply(this,arguments)}function Sx(n,e){return`firestore_clients_${n}_${e}`}function Ax(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function uA(n,e){return`firestore_targets_${n}_${e}`}class nC{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new $e(r.error.code,r.error.message))),u?new nC(e,t,r.state,a):(zi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nb{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new $e(i.error.code,i.error.message))),a?new Nb(e,i.state,r):(zi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class iC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=GE();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=lg(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new iC(e,a):(zi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class dA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new dA(t.clientId,t.onlineState):(zi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class hA{constructor(){this.activeTargetIds=GE()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fA{constructor(e,t,i,r,a){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new On(Wt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Sx(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new hA),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const a=e.getItem(Sx(e.persistenceKey,r));if(a){const u=iC.Zi(r,a);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(uA(this.persistenceKey,e));if(i){const r=Nb.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uA(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ke("SharedClientState","READ",e,t),t}setItem(e,t){Ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ke("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void zi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Pe.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(a){let u=ns.at;if(null!=a)try{const f=JSON.parse(a);Ht("number"==typeof f),u=f}catch(f){zi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==ns.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Mr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Or(a)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new nC(this.currentUser,e,t,i),a=Ax(this.persistenceKey,this.currentUser,e);this.setItem(a,r.tr())}Er(e){const t=Ax(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=uA(this.persistenceKey,e),a=new Nb(e,t,i);this.setItem(r,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return iC.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return nC.Zi(new dr(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return Nb.Zi(r,t)}yr(e){return dA.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),a=this.Ir(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Br(u,f).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=GE();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class Nx{constructor(){this.Lr=new hA,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new hA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class V2{qr(e){}shutdown(){}}class Mx{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const B2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class U2{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class j2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,r,a){const u=this.ao(e,t);Ke("RestConnection","Sending: ",u,i);const f={};return this.ho(f,r,a),this.lo(e,u,f,i).then(_=>(Ke("RestConnection","Received: ",_),_),_=>{throw Ud("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",i),_})}fo(e,t,i,r,a,u){return this.co(e,t,i,r,a)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+rf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ao(e,t){return`${this.oo}/v1/${t}:${B2[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){return new Promise((a,u)=>{const f=new wS;f.listenOnce(fE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case q0.NO_ERROR:const b=f.getResponseJson();Ke("Connection","XHR received:",JSON.stringify(b)),a(b);break;case q0.TIMEOUT:Ke("Connection",'RPC "'+e+'" timed out'),u(new $e(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case q0.HTTP_ERROR:const I=f.getStatus();if(Ke("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const M=f.getResponseJson().error;if(M&&M.status&&M.message){const U=function(z){const ne=z.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(ne)>=0?ne:Oe.UNKNOWN}(M.status);u(new $e(U,M.message))}else u(new $e(Oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new $e(Oe.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{Ke("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);f.send(t,"POST",_,i,15)})}_o(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=vS(),u=bS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new mE({})),this.ho(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const _=r.join("");Ke("Connection","Creating WebChannel: "+_,f);const b=a.createWebChannel(_,f);let I=!1,M=!1;const U=new U2({Hr:ne=>{M?Ke("Connection","Not sending because WebChannel is closed:",ne):(I||(Ke("Connection","Opening WebChannel transport."),b.open(),I=!0),Ke("Connection","WebChannel sending:",ne),b.send(ne))},Jr:()=>b.close()}),z=(ne,he,we)=>{ne.listen(he,je=>{try{we(je)}catch(ze){setTimeout(()=>{throw ze},0)}})};return z(b,sg.EventType.OPEN,()=>{M||Ke("Connection","WebChannel transport opened.")}),z(b,sg.EventType.CLOSE,()=>{M||(M=!0,Ke("Connection","WebChannel transport closed"),U.io())}),z(b,sg.EventType.ERROR,ne=>{M||(M=!0,Ud("Connection","WebChannel transport errored:",ne),U.io(new $e(Oe.UNAVAILABLE,"The operation could not be completed")))}),z(b,sg.EventType.MESSAGE,ne=>{var he;if(!M){const we=ne.data[0];Ht(!!we);const je=we,ze=je.error||(null===(he=je[0])||void 0===he?void 0:he.error);if(ze){Ke("Connection","WebChannel received error:",ze);const st=ze.status;let Ye=function(ot){const Dt=Li[ot];if(void 0!==Dt)return DO(Dt)}(st),nt=ze.message;void 0===Ye&&(Ye=Oe.INTERNAL,nt="Unknown error status: "+st+" with message "+ze.message),M=!0,U.io(new $e(Ye,nt)),b.close()}else Ke("Connection","WebChannel received:",we),U.ro(we)}}),z(u,pE.STAT_EVENT,ne=>{ne.stat===gE.PROXY?Ke("Connection","Detected buffering proxy"):ne.stat===gE.NOPROXY&&Ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{U.so()},0),U}}function Ox(){return typeof window<"u"?window:null}function rC(){return typeof document<"u"?document:null}function Mb(n){return new OF(n,!0)}class pA{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=i,this.mo=r,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&Ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class xx{constructor(e,t,i,r,a,u,f,_){this.Hs=e,this.Po=i,this.vo=r,this.Vo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new pA(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Pe.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Pe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,Pe.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===Oe.RESOURCE_EXHAUSTED?(zi(t.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):t&&t.code===Oe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new $e(Oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Pe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H2 extends xx{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.It=a}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function kF(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:pt(),r=e.targetChange.targetIds||[],a=function(_,b){return _.gt?(Ht(void 0===b||"string"==typeof b),Dr.fromBase64String(b||"")):(Ht(void 0===b||b instanceof Uint8Array),Dr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const b=void 0===_.code?Oe.UNKNOWN:DO(_.code);return new $e(b,_.message||"")}(u);t=new SO(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Mu(n,i.document.name),a=ss(i.document.updateTime),u=new Er({mapValue:{fields:i.document.fields}}),f=Qn.newFoundDocument(r,a,u);t=new $E(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=Mu(n,i.document),a=i.readTime?ss(i.readTime):Lt.min(),u=Qn.newNoDocument(r,a);t=new $E([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Mu(n,i.document);t=new $E([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return pt();{const i=e.filter,a=new fb(i.count||0);t=new IO(i.targetId,a)}}var _;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return Lt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Lt.min():a.readTime?ss(a.readTime):Lt.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=bb(this.It),t.addTarget=function(r,a){let u;const f=a.target;return u=zd(f)?{documents:LO(r,f)}:{query:VO(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=OO(r,a.resumeToken):a.snapshotVersion.compareTo(Lt.min())>0&&(u.readTime=yb(r,a.snapshotVersion.toTimestamp())),u}(this.It,e);const i=function FF(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=bb(this.It),t.removeTarget=e,this.Bo(t)}}class G2 extends xx{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function PF(n,e){return n&&n.length>0?(Ht(void 0!==e),n.map(t=>function(i,r){let a=ss(i.updateTime?i.updateTime:r);return a.isEqual(Lt.min())&&(a=ss(r)),new ve(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ss(e.commitTime);return this.listener.Zo(i,t)}return Ht(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=bb(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>wb(this.It,i))};this.Bo(t)}}class $2 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new $e(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.Vo.co(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new $e(Oe.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.Vo.fo(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $e(Oe.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class q2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(zi(t),this.ou=!1):Ke("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class z2{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(f=>{i.enqueueAndForget((0,Pe.Z)(function*(){var _;vf(u)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Pe.Z)(function*(b){const I=ut(b);I._u.add(4),yield J_(I),I.gu.set("Unknown"),I._u.delete(4),yield Ob(I)}),function(b){return _.apply(this,arguments)})(u))}))}),this.gu=new q2(i,r)}}function Ob(n){return gA.apply(this,arguments)}function gA(){return gA=(0,Pe.Z)(function*(n){if(vf(n))for(const e of n.wu)yield e(!0)}),gA.apply(this,arguments)}function J_(n){return mA.apply(this,arguments)}function mA(){return mA=(0,Pe.Z)(function*(n){for(const e of n.wu)yield e(!1)}),mA.apply(this,arguments)}function sC(n,e){const t=ut(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),vA(t)?yA(t):ey(t).ko()&&_A(t,e))}function xb(n,e){const t=ut(n),i=ey(t);t.du.delete(e),i.ko()&&Rx(t,e),0===t.du.size&&(i.ko()?i.Fo():vf(t)&&t.gu.set("Unknown"))}function _A(n,e){n.yu.Ot(e.targetId),ey(n).zo(e)}function Rx(n,e){n.yu.Ot(e),ey(n).Ho(e)}function yA(n){n.yu=new AF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),ey(n).start(),n.gu.uu()}function vA(n){return vf(n)&&!ey(n).No()&&n.du.size>0}function vf(n){return 0===ut(n)._u.size}function kx(n){n.yu=void 0}function Z2(n){return bA.apply(this,arguments)}function bA(){return bA=(0,Pe.Z)(function*(n){n.du.forEach((e,t)=>{_A(n,e)})}),bA.apply(this,arguments)}function W2(n,e){return wA.apply(this,arguments)}function wA(){return wA=(0,Pe.Z)(function*(n,e){kx(n),vA(n)?(n.gu.hu(e),yA(n)):n.gu.set("Unknown")}),wA.apply(this,arguments)}function K2(n,e,t){return DA.apply(this,arguments)}function DA(){return DA=(0,Pe.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof SO&&2===e.state&&e.cause)try{yield(i=(0,Pe.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.du.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.du.delete(f),r.yu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield oC(n,i)}else if(e instanceof $E?n.yu.Gt(e):e instanceof IO?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Lt.min()))try{const i=yield Dx(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.yu.te(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.du.get(_);b&&r.du.set(_,b.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=r.du.get(f);if(!_)return;r.du.set(f,_.withResumeToken(Dr.EMPTY_BYTE_STRING,_.snapshotVersion)),Rx(r,f);const b=new mf(_.target,f,1,_.sequenceNumber);_A(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Ke("RemoteStore","Failed to raise snapshot:",i),yield oC(n,i)}var i}),DA.apply(this,arguments)}function oC(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=(0,Pe.Z)(function*(n,e,t){if(!Nc(e))throw e;n._u.add(1),yield J_(n),n.gu.set("Offline"),t||(t=()=>Dx(n.localStore)),n.asyncQueue.enqueueRetryable((0,Pe.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Ob(n)}))}),EA.apply(this,arguments)}function Px(n,e){return e().catch(t=>oC(n,t,e))}function X_(n){return CA.apply(this,arguments)}function CA(){return CA=(0,Pe.Z)(function*(n){const e=ut(n),t=bf(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Y2(e);)try{const r=yield P2(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,Q2(e,r)}catch(r){yield oC(e,r)}Fx(e)&&Lx(e)}),CA.apply(this,arguments)}function Y2(n){return vf(n)&&n.fu.length<10}function Q2(n,e){n.fu.push(e);const t=bf(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Fx(n){return vf(n)&&!bf(n).No()&&n.fu.length>0}function Lx(n){bf(n).start()}function J2(n){return TA.apply(this,arguments)}function TA(){return TA=(0,Pe.Z)(function*(n){bf(n).eu()}),TA.apply(this,arguments)}function X2(n){return IA.apply(this,arguments)}function IA(){return IA=(0,Pe.Z)(function*(n){const e=bf(n);for(const t of n.fu)e.Xo(t.mutations)}),IA.apply(this,arguments)}function eL(n,e,t){return SA.apply(this,arguments)}function SA(){return SA=(0,Pe.Z)(function*(n,e,t){const i=n.fu.shift(),r=YS.from(i,e,t);yield Px(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield X_(n)}),SA.apply(this,arguments)}function tL(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,Pe.Z)(function*(n,e){var t;e&&bf(n).Yo&&(yield(t=(0,Pe.Z)(function*(i,r){if(q_(a=r.code)&&a!==Oe.ABORTED){const u=i.fu.shift();bf(i).Oo(),yield Px(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield X_(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),Fx(n)&&Lx(n)}),AA.apply(this,arguments)}function Vx(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,Pe.Z)(function*(n,e){const t=ut(n);t.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const i=vf(t);t._u.add(3),yield J_(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Ob(t)}),NA.apply(this,arguments)}function MA(n,e){return OA.apply(this,arguments)}function OA(){return OA=(0,Pe.Z)(function*(n,e){const t=ut(n);e?(t._u.delete(2),yield Ob(t)):e||(t._u.add(2),yield J_(t),t.gu.set("Unknown"))}),OA.apply(this,arguments)}function ey(n){return n.pu||(n.pu=function(e,t,i){const r=ut(e);return r.su(),new H2(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:Z2.bind(null,n),Zr:W2.bind(null,n),Wo:K2.bind(null,n)}),n.wu.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.pu.Oo(),vA(n)?yA(n):n.gu.set("Unknown")):(yield n.pu.stop(),kx(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function bf(n){return n.Iu||(n.Iu=function(e,t,i){const r=ut(e);return r.su(),new G2(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:J2.bind(null,n),Zr:tL.bind(null,n),tu:X2.bind(null,n),Zo:eL.bind(null,n)}),n.wu.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.Iu.Oo(),yield X_(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class xA{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new xA(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $e(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ty(n,e){if(zi("AsyncQueue",`${e}: ${n}`),Nc(n))return new $e(Oe.UNAVAILABLE,`${e}: ${n}`);throw n}class ny{constructor(e){this.comparator=e?(t,i)=>e(t,i)||at.comparator(t.key,i.key):(t,i)=>at.comparator(t.key,i.key),this.keyedMap=pb(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new ny(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ny)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new ny;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Bx{constructor(){this.Tu=new On(at.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):pt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class iy{constructor(e,t,i,r,a,u,f,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new iy(e,t,ny.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&j_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class nL{constructor(){this.Au=void 0,this.listeners=[]}}class iL{constructor(){this.queries=new gf(e=>jS(e),j_),this.onlineState="Unknown",this.Ru=new Set}}function RA(n,e){return kA.apply(this,arguments)}function kA(){return kA=(0,Pe.Z)(function*(n,e){const t=ut(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new nL),r)try{a.Au=yield t.onListen(i)}catch(u){const f=ty(u,`Initialization of query '${BE(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&LA(t)}),kA.apply(this,arguments)}function PA(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,Pe.Z)(function*(n,e){const t=ut(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),FA.apply(this,arguments)}function rL(n,e){const t=ut(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Pu(r)&&(i=!0);u.Au=r}}i&&LA(t)}function sL(n,e,t){const i=ut(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function LA(n){n.Ru.forEach(e=>{e.next()})}class VA{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new iy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=iy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class oL{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class Ux{constructor(e){this.It=e}Ji(e){return Mu(this.It,e)}Yi(e){return e.metadata.exists?FO(this.It,e.document,!1):Qn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return ss(e)}}class aL{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jx(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=un.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,i=new Ux(this.It);for(const r of e)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||sn()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,Pe.Z)(function*(){const t=yield function F2(n,e,t,i){return lA.apply(this,arguments)}(e.localStore,new Ux(e.It),e.documents,e.Mu.id),i=e.Fu(e.documents);for(const r of e.queries)yield L2(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function jx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Hx{constructor(e){this.key=e}}class Gx{constructor(e){this.key=e}}class $x{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=sn(),this.mutatedKeys=sn(),this.Ku=HS(e),this.Gu=new ny(this.Ku)}get Qu(){return this.Lu}ju(e,t){const i=t?t.Wu:new Bx,r=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,M)=>{const U=r.get(I),z=UE(this.query,M)?M:null,ne=!!U&&this.mutatedKeys.has(U.key),he=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let we=!1;U&&z?U.data.isEqual(z.data)?ne!==he&&(i.track({type:3,doc:z}),we=!0):this.zu(U,z)||(i.track({type:2,doc:z}),we=!0,(_&&this.Ku(z,_)>0||b&&this.Ku(z,b)<0)&&(f=!0)):!U&&z?(i.track({type:0,doc:z}),we=!0):U&&!z&&(i.track({type:1,doc:U}),we=!0,(_||b)&&(f=!0)),we&&(z?(u=u.add(z),a=he?a.add(I):a.delete(I)):(u=u.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),a=a.delete(I.key),i.track({type:1,doc:I})}return{Gu:u,Wu:i,$i:f,mutatedKeys:a}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((b,I)=>function(M,U){const z=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return z(M)-z(U)}(b.type,I.type)||this.Ku(b.doc,I.doc)),this.Hu(i);const u=t?this.Ju():[],f=0===this.qu.size&&this.current?1:0,_=f!==this.Uu;return this.Uu=f,0!==a.length||_?{snapshot:new iy(this.query,e.Gu,r,a,e.mutatedKeys,0===f,_,!1),Yu:u}:{Yu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Bx,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=sn(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const t=[];return e.forEach(i=>{this.qu.has(i)||t.push(new Gx(i))}),this.qu.forEach(i=>{e.has(i)||t.push(new Hx(i))}),t}Zu(e){this.Lu=e.Hi,this.qu=sn();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return iy.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class lL{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class cL{constructor(e){this.key=e,this.ec=!1}}class uL{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nc={},this.sc=new gf(f=>jS(f),j_),this.ic=new Map,this.rc=new Set,this.oc=new On(at.comparator),this.uc=new Map,this.cc=new tA,this.ac={},this.hc=new Map,this.lc=vg.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function dL(n,e){return BA.apply(this,arguments)}function BA(){return BA=(0,Pe.Z)(function*(n,e){const t=lN(n);let i,r;const a=t.sc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.tc();else{const u=yield Y_(t.localStore,Zs(e));t.isPrimaryClient&&sC(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield UA(t,e,i,"current"===f)}return r}),BA.apply(this,arguments)}function UA(n,e,t,i){return jA.apply(this,arguments)}function jA(){return jA=(0,Pe.Z)(function*(n,e,t,i){n.dc=(I,M,U)=>{return(z=(0,Pe.Z)(function*(ne,he,we,je){let ze=he.view.ju(we);ze.$i&&(ze=yield tC(ne.localStore,he.query,!1).then(({documents:nt})=>he.view.ju(nt,ze)));const st=je&&je.targetChanges.get(he.targetId),Ye=he.view.applyChanges(ze,ne.isPrimaryClient,st);return QA(ne,he.targetId,Ye.Yu),Ye.snapshot}),function(ne,he,we,je){return z.apply(this,arguments)})(n,I,M,U);var z};const r=yield tC(n.localStore,e,!0),a=new $x(e,r.Hi),u=a.ju(r.documents),f=_b.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),_=a.applyChanges(u,n.isPrimaryClient,f);QA(n,t,_.Yu);const b=new lL(e,t,a);return n.sc.set(e,b),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),_.snapshot}),jA.apply(this,arguments)}function hL(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,Pe.Z)(function*(n,e){const t=ut(n),i=t.sc.get(e),r=t.ic.get(i.targetId);if(r.length>1)return t.ic.set(i.targetId,r.filter(a=>!j_(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Q_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),xb(t.remoteStore,i.targetId),ry(t,i.targetId)}).catch(hr))):(ry(t,i.targetId),yield Q_(t.localStore,i.targetId,!0))}),HA.apply(this,arguments)}function GA(){return GA=(0,Pe.Z)(function*(n,e,t){const i=cN(n);try{const r=yield function(a,u){const f=ut(a),_=fi.now(),b=u.reduce((U,z)=>U.add(z.key),sn());let I,M;return f.persistence.runTransaction("Locally write mutations","readwrite",U=>{let z=ta(),ne=sn();return f.Gi.getEntries(U,b).next(he=>{z=he,z.forEach((we,je)=>{je.isValidDocument()||(ne=ne.add(we))})}).next(()=>f.localDocuments.getOverlayedDocuments(U,z)).next(he=>{I=he;const we=[];for(const je of u){const ze=Vt(je,I.get(je.key).overlayedDocument);null!=ze&&we.push(new Ss(je.key,ze,Iu(ze.value.mapValue),Ie.exists(!0)))}return f.mutationQueue.addMutationBatch(U,_,we,u)}).next(he=>{M=he;const we=he.applyToLocalDocumentSet(I,ne);return f.documentOverlayCache.saveOverlays(U,he.batchId,we)})}).then(()=>({batchId:M.batchId,changes:CO(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.ac[a.currentUser.toKey()];_||(_=new On(Wt)),_=_.insert(u,f),a.ac[a.currentUser.toKey()]=_}(i,r.batchId,t),yield Zd(i,r.changes),yield X_(i.remoteStore)}catch(r){const a=ty(r,"Failed to persist write");t.reject(a)}}),GA.apply(this,arguments)}function qx(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,Pe.Z)(function*(n,e){const t=ut(n);try{const i=yield k2(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.uc.get(a);u&&(Ht(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ec=!0:r.modifiedDocuments.size>0?Ht(u.ec):r.removedDocuments.size>0&&(Ht(u.ec),u.ec=!1))}),yield Zd(t,i,e)}catch(i){yield hr(i)}}),$A.apply(this,arguments)}function zx(n,e,t){const i=ut(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((a,u)=>{const f=u.view.bu(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=ut(a);f.onlineState=u;let _=!1;f.queries.forEach((b,I)=>{for(const M of I.listeners)M.bu(u)&&(_=!0)}),_&&LA(f)}(i.eventManager,e),r.length&&i.nc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function pL(n,e,t){return qA.apply(this,arguments)}function qA(){return qA=(0,Pe.Z)(function*(n,e,t){const i=ut(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.uc.get(e),a=r&&r.key;if(a){let u=new On(at.comparator);u=u.insert(a,Qn.newNoDocument(a,Lt.min()));const f=sn().add(a),_=new mb(Lt.min(),new Map,new jn(Wt),u,f);yield qx(i,_),i.oc=i.oc.remove(a),i.uc.delete(e),JA(i)}else yield Q_(i.localStore,e,!1).then(()=>ry(i,e,t)).catch(hr)}),qA.apply(this,arguments)}function gL(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,Pe.Z)(function*(n,e){const t=ut(n),i=e.batch.batchId;try{const r=yield R2(t.localStore,e);YA(t,i,null),KA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Zd(t,r)}catch(r){yield hr(r)}}),zA.apply(this,arguments)}function mL(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Pe.Z)(function*(n,e,t){const i=ut(n);try{const r=yield function(a,u){const f=ut(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.mutationQueue.lookupMutationBatch(_,u).next(I=>(Ht(null!==I),b=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,b,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>f.localDocuments.getDocuments(_,b))})}(i.localStore,e);YA(i,e,t),KA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Zd(i,r)}catch(r){yield hr(r)}}),ZA.apply(this,arguments)}function WA(){return WA=(0,Pe.Z)(function*(n,e){const t=ut(n);vf(t.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=ut(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.hc.get(i)||[];r.push(e),t.hc.set(i,r)}catch(i){const r=ty(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),WA.apply(this,arguments)}function KA(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function YA(n,e,t){const i=ut(n);let r=i.ac[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function ry(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ic.get(e))n.sc.delete(i),t&&n.nc._c(i,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(i=>{n.cc.containsKey(i)||Zx(n,i)})}function Zx(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(xb(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),JA(n))}function QA(n,e,t){for(const i of t)i instanceof Hx?(n.cc.addReference(i.key,e),yL(n,i)):i instanceof Gx?(Ke("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,e),n.cc.containsKey(i.key)||Zx(n,i.key)):pt()}function yL(n,e){const t=e.key,i=t.path.canonicalString();n.oc.get(t)||n.rc.has(i)||(Ke("SyncEngine","New document in limbo: "+t),n.rc.add(i),JA(n))}function JA(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new at(un.fromString(e)),i=n.lc.next();n.uc.set(i,new cL(t)),n.oc=n.oc.insert(t,i),sC(n.remoteStore,new mf(Zs(ff(t.path)),i,2,ns.at))}}function Zd(n,e,t){return XA.apply(this,arguments)}function XA(){return XA=(0,Pe.Z)(function*(n,e,t){const i=ut(n),r=[],a=[],u=[];var f;i.sc.isEmpty()||(i.sc.forEach((f,_)=>{u.push(i.dc(_,e,t).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),r.push(b);const I=sA.Ci(_.targetId,b);a.push(I)}}))}),yield Promise.all(u),i.nc.Wo(r),yield(f=(0,Pe.Z)(function*(_,b){const I=ut(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Ce.forEach(b,U=>Ce.forEach(U.Si,z=>I.persistence.referenceDelegate.addReference(M,U.targetId,z)).next(()=>Ce.forEach(U.Di,z=>I.persistence.referenceDelegate.removeReference(M,U.targetId,z)))))}catch(M){if(!Nc(M))throw M;Ke("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const U=M.targetId;if(!M.fromCache){const z=I.Ui.get(U),he=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);I.Ui=I.Ui.insert(U,he)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,a))}),XA.apply(this,arguments)}function vL(n,e){return eN.apply(this,arguments)}function eN(){return eN=(0,Pe.Z)(function*(n,e){const t=ut(n);if(!t.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const i=yield wx(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(u=>{u.forEach(f=>{f.reject(new $e(Oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Zd(t,i.ji)}var r}),eN.apply(this,arguments)}function bL(n,e){const t=ut(n),i=t.uc.get(e);if(i&&i.ec)return sn().add(i.key);{let r=sn();const a=t.ic.get(e);if(!a)return r;for(const u of a){const f=t.sc.get(u);r=r.unionWith(f.view.Qu)}return r}}function wL(n,e){return tN.apply(this,arguments)}function tN(){return tN=(0,Pe.Z)(function*(n,e){const t=ut(n),i=yield tC(t.localStore,e.query,!0),r=e.view.Zu(i);return t.isPrimaryClient&&QA(t,e.targetId,r.Yu),r}),tN.apply(this,arguments)}function DL(n,e){return nN.apply(this,arguments)}function nN(){return nN=(0,Pe.Z)(function*(n,e){const t=ut(n);return Tx(t.localStore,e).then(i=>Zd(t,i))}),nN.apply(this,arguments)}function EL(n,e,t,i){return iN.apply(this,arguments)}function iN(){return iN=(0,Pe.Z)(function*(n,e,t,i){const r=ut(n),a=yield function(u,f){const _=ut(u),b=ut(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>b.Tn(I,f).next(M=>M?_.localDocuments.getDocuments(I,M):Ce.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield X_(r.remoteStore):"acknowledged"===t||"rejected"===t?(YA(r,e,i||null),KA(r,e),f=e,ut(ut(r.localStore).mutationQueue).An(f)):pt(),yield Zd(r,a)):Ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),iN.apply(this,arguments)}function rN(){return rN=(0,Pe.Z)(function*(n,e){const t=ut(n);if(lN(t),cN(t),!0===e&&!0!==t.fc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield Wx(t,i.toArray());t.fc=!0,yield MA(t.remoteStore,!0);for(const a of r)sC(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const i=[];let r=Promise.resolve();t.ic.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(ry(t,u),Q_(t.localStore,u,!0))),xb(t.remoteStore,u)}),yield r,yield Wx(t,i),function(a){const u=ut(a);u.uc.forEach((f,_)=>{xb(u.remoteStore,_)}),u.cc.fs(),u.uc=new Map,u.oc=new On(at.comparator)}(t),t.fc=!1,yield MA(t.remoteStore,!1)}}),rN.apply(this,arguments)}function Wx(n,e,t){return sN.apply(this,arguments)}function sN(){return sN=(0,Pe.Z)(function*(n,e,t){const i=ut(n),r=[],a=[];for(const u of e){let f;const _=i.ic.get(u);if(_&&0!==_.length){f=yield Y_(i.localStore,Zs(_[0]));for(const b of _){const I=i.sc.get(b),M=yield wL(i,I);M.snapshot&&a.push(M.snapshot)}}else{const b=yield Cx(i.localStore,u);f=yield Y_(i.localStore,b),yield UA(i,Kx(b),u,!1)}r.push(f)}return i.nc.Wo(a),r}),sN.apply(this,arguments)}function Kx(n){return U_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function TL(n){const e=ut(n);return ut(ut(e.localStore).persistence).vi()}function IL(n,e,t,i){return oN.apply(this,arguments)}function oN(){return oN=(0,Pe.Z)(function*(n,e,t,i){const r=ut(n);if(r.fc)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const a=r.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield Tx(r.localStore,jE(a[0])),f=mb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Zd(r,u,f);break}case"rejected":yield Q_(r.localStore,e,!0),ry(r,e,i);break;default:pt()}}),oN.apply(this,arguments)}function SL(n,e,t){return aN.apply(this,arguments)}function aN(){return aN=(0,Pe.Z)(function*(n,e,t){const i=lN(n);if(i.fc){for(const r of e){if(i.ic.has(r)){Ke("SyncEngine","Adding an already active target "+r);continue}const a=yield Cx(i.localStore,r),u=yield Y_(i.localStore,a);yield UA(i,Kx(a),u.targetId,!1),sC(i.remoteStore,u)}for(const r of t)i.ic.has(r)&&(yield Q_(i.localStore,r,!1).then(()=>{xb(i.remoteStore,r),ry(i,r)}).catch(hr))}}),aN.apply(this,arguments)}function lN(n){const e=ut(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pL.bind(null,e),e.nc.Wo=rL.bind(null,e.eventManager),e.nc._c=sL.bind(null,e.eventManager),e}function cN(n){const e=ut(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mL.bind(null,e),e}class Yx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Pe.Z)(function*(){t.It=Mb(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return bx(this.persistence,new vx,e.initialUser,this.It)}gc(e){return new _x(XE.Bs,this.It)}mc(e){return new Nx}terminate(){var e=this;return(0,Pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Qx extends Yx{constructor(e,t,i){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Pe.Z)(function*(){yield t().call(i,e),yield i.Ec.initialize(i,e),yield cN(i.Ec.syncEngine),yield X_(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return bx(this.persistence,new vx,e.initialUser,this.It)}Ic(e,t){return new y2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const i=new NS(t,this.persistence);return new EE(e.asyncQueue,i)}gc(e){const t=rA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?na.withCacheSize(this.cacheSizeBytes):na.DEFAULT;return new iA(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Ox(),rC(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Nx}}class NL extends Qx{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Pe.Z)(function*(){yield t().call(i,e);const r=i.Ec.syncEngine;i.sharedClientState instanceof fA&&(i.sharedClientState.syncEngine={Fr:EL.bind(null,r),$r:IL.bind(null,r),Br:SL.bind(null,r),vi:TL.bind(null,r),Or:DL.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,Pe.Z)(function*(u){yield function CL(n,e){return rN.apply(this,arguments)}(i.Ec.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}mc(e){const t=Ox();if(!fA.C(t))throw new $e(Oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=rA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fA(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class uN{initialize(e,t){var i=this;return(0,Pe.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>zx(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=vL.bind(null,i.syncEngine),yield MA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new iL}createDatastore(e){const t=Mb(e.databaseInfo.databaseId),i=new j2(e.databaseInfo);return new $2(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>zx(this.syncEngine,f,0),u=Mx.C()?new Mx:new V2,new z2(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,b){const I=new uL(i,r,a,u,f,_);return b&&(I.fc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Pe.Z)(function*(t){const i=ut(t);Ke("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield J_(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Jx(n,e=10240){let t=0;return{read:()=>(0,Pe.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class aC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ML{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Fr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Pe.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Pe.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const i=e.Pc.decode(t),r=Number(i);isNaN(r)&&e.Sc(`length string (${i}) is not valid number`);const a=yield e.Dc(r);return new oL(JSON.parse(a),t.length+r)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Pe.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Dc(e){var t=this;return(0,Pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const i=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.bc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class OL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new $e(Oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Pe.Z)(function*(a,u){const f=ut(a),_=bb(f.It)+"/documents",b={documents:u.map(z=>vb(f.It,z))},I=yield f.fo("BatchGetDocuments",_,b,u.length),M=new Map;I.forEach(z=>{const ne=function RF(n,e){return"found"in e?function(t,i){Ht(!!i.found);const r=Mu(t,i.found.name),a=ss(i.found.updateTime),u=new Er({mapValue:{fields:i.found.fields}});return Qn.newFoundDocument(r,a,u)}(n,e):"missing"in e?function(t,i){Ht(!!i.missing),Ht(!!i.readTime);const r=Mu(t,i.missing),a=ss(i.readTime);return Qn.newNoDocument(r,a)}(n,e):pt()}(f.It,z);M.set(ne.key.toString(),ne)});const U=[];return u.forEach(z=>{const ne=M.get(z.toString());Ht(!!ne),U.push(ne)}),U}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Au(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=at.fromPath(r);e.mutations.push(new hg(a,e.precondition(a)))}),yield(i=(0,Pe.Z)(function*(r,a){const u=ut(r),f=bb(u.It)+"/documents",_={writes:a.map(b=>wb(u.It,b))};yield u.co("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pt();t=Lt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new $e(Oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Lt.min())?Ie.exists(!1):Ie.updateTime(t):Ie.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lt.min()))throw new $e(Oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ie.updateTime(t)}return Ie.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xL{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Nc=i.maxAttempts,this.xo=new pA(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Pe.Z)(function*(){const t=new OL(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Oc(a)}))}).catch(r=>{e.Oc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!df(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!q_(t)}return!1}}class RL{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=dr.UNAUTHENTICATED,this.clientId=W0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Pe.Z)(function*(f){Ke("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Ke("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=ty(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Xx(n,e){return dN.apply(this,arguments)}function dN(){return dN=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Pe.Z)(function*(a){i.isEqual(a)||(yield wx(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),dN.apply(this,arguments)}function eR(n,e){return hN.apply(this,arguments)}function hN(){return hN=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield fN(n);Ke("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Vx(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>Vx(e.remoteStore,a)),n.onlineComponents=e}),hN.apply(this,arguments)}function fN(n){return pN.apply(this,arguments)}function pN(){return pN=(0,Pe.Z)(function*(n){return n.offlineComponents||(Ke("FirestoreClient","Using default OfflineComponentProvider"),yield Xx(n,new Yx)),n.offlineComponents}),pN.apply(this,arguments)}function lC(n){return gN.apply(this,arguments)}function gN(){return gN=(0,Pe.Z)(function*(n){return n.onlineComponents||(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield eR(n,new uN)),n.onlineComponents}),gN.apply(this,arguments)}function tR(n){return fN(n).then(e=>e.persistence)}function cC(n){return fN(n).then(e=>e.localStore)}function nR(n){return lC(n).then(e=>e.remoteStore)}function mN(n){return lC(n).then(e=>e.syncEngine)}function sy(n){return _N.apply(this,arguments)}function _N(){return _N=(0,Pe.Z)(function*(n){const e=yield lC(n),t=e.eventManager;return t.onListen=dL.bind(null,e.syncEngine),t.onUnlisten=hL.bind(null,e.syncEngine),t}),_N.apply(this,arguments)}function iR(n,e,t={}){const i=new Fr;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(r,a,u,f,_){const b=new aC({next:M=>{a.enqueueAndForget(()=>PA(r,I));const U=M.docs.has(u);!U&&M.fromCache?_.reject(new $e(Oe.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&M.fromCache&&f&&"server"===f.source?_.reject(new $e(Oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new VA(ff(u.path),b,{includeMetadataChanges:!0,Nu:!0});return RA(r,I)}(yield sy(n),n.asyncQueue,e,t,i)})),i.promise}function rR(n,e,t={}){const i=new Fr;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(r,a,u,f,_){const b=new aC({next:M=>{a.enqueueAndForget(()=>PA(r,I)),M.fromCache&&"server"===f.source?_.reject(new $e(Oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new VA(u,b,{includeMetadataChanges:!0,Nu:!0});return RA(r,I)}(yield sy(n),n.asyncQueue,e,t,i)})),i.promise}const sR=new Map;function yN(n,e,t){if(!t)throw new $e(Oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function oR(n,e,t,i){if(!0===e&&!0===i)throw new $e(Oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function aR(n){if(!at.isDocumentKey(n))throw new $e(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lR(n){if(at.isDocumentKey(n))throw new $e(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pt()}function Dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $e(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uC(n);throw new $e(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function cR(n,e){if(e<=0)throw new $e(Oe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class uR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new $e(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $e(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,oR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rb{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $e(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new vO;switch(t.type){case"gapi":return new N_(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new $e(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sR.get(e);t&&(Ke("ComponentProvider","Removing Datastore"),sR.delete(e),t.terminate())}(this),Promise.resolve()}}class Ni{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ni(this.firestore,e,this._key)}}class Ws{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class xu extends Ws{constructor(e,t,i){super(e,t,ff(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ni(this.firestore,null,new at(e))}withConverter(e){return new xu(this.firestore,e,this._path)}}function dR(n,e,...t){if(n=(0,_n.m9)(n),yN("collection","path",e),n instanceof Rb){const i=un.fromString(e,...t);return lR(i),new xu(n,null,i)}{if(!(n instanceof Ni||n instanceof xu))throw new $e(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(un.fromString(e,...t));return lR(i),new xu(n.firestore,null,i)}}function dC(n,e,...t){if(n=(0,_n.m9)(n),1===arguments.length&&(e=W0.R()),yN("doc","path",e),n instanceof Rb){const i=un.fromString(e,...t);return aR(i),new Ni(n,null,new at(i))}{if(!(n instanceof Ni||n instanceof xu))throw new $e(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(un.fromString(e,...t));return aR(i),new Ni(n.firestore,n instanceof xu?n.converter:null,new at(i))}}function hR(n,e){return n=(0,_n.m9)(n),e=(0,_n.m9)(e),(n instanceof Ni||n instanceof xu)&&(e instanceof Ni||e instanceof xu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function fR(n,e){return n=(0,_n.m9)(n),e=(0,_n.m9)(e),n instanceof Ws&&e instanceof Ws&&n.firestore===e.firestore&&j_(n._query,e._query)&&n.converter===e.converter}class $L{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new pA(this,"async_queue_retry"),this.jc=()=>{const t=rC();t&&Ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=rC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=rC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Fr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Pe.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Nc(t))throw t;Ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(i=>{throw this.qc=i,this.Kc=!1,zi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=t,t}enqueueAfterDelay(e,t,i){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const r=xA.createAndSchedule(this,e,t,i,a=>this.Jc(a));return this.Uc.push(r),r}Wc(){this.qc&&pt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Pe.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function vN(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class qL{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Vi extends Rb{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new $L,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pR(this),this._firestoreClient.terminate()}}function Cr(n){return n._firestoreClient||pR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function pR(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new SE(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new RL(n._authCredentials,n._appCheckCredentials,n._queue,i)}function gR(n,e,t){const i=new Fr;return n.asyncQueue.enqueue((0,Pe.Z)(function*(){try{yield Xx(n,t),yield eR(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(u=a).name?u.code===Oe.FAILED_PRECONDITION||u.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;Ud("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var u})).then(()=>i.promise)}function mR(n){if(n._initialized||n._terminated)throw new $e(Oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new $e(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ru(Dr.fromBase64String(e))}catch(t){throw new $e(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ru(Dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wg{constructor(e){this._methodName=e}}class hC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $e(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $e(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}}const tV=/^__.*__$/;class nV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ss(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ln(e,this.data,t,this.fieldTransforms)}}class _R{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ss(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class fC{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new fC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.oa(e),r}ua(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return mC(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(yR(this.na)&&tV.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class iV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||Mb(e)}fa(e,t,i,r=!1){return new fC({na:e,methodName:t,la:i,path:Zi.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Dg(n){const e=n._freezeSettings(),t=Mb(n._databaseId);return new iV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pC(n,e,t,i,r,a={}){const u=n.fa(a.merge||a.mergeFields?2:0,e,t,r);EN("Data must be an object, but it was:",u,i);const f=wR(i,u);let _,b;if(a.merge)_=new mo(u.fieldMask),b=u.fieldTransforms;else if(a.mergeFields){const I=[];for(const M of a.mergeFields){const U=CN(e,M,t);if(!u.contains(U))throw new $e(Oe.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);ER(I,U)||I.push(U)}_=new mo(I),b=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,b=u.fieldTransforms;return new nV(new Er(f),_,b)}class kb extends wg{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kb}}function vR(n,e,t){return new fC({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class bN extends wg{_toFieldTransform(e){return new $(e.path,new d)}isEqual(e){return e instanceof bN}}class rV extends wg{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=vR(this,e,!0),i=this.da.map(a=>Eg(a,t)),r=new h(i);return new $(e.path,r)}isEqual(e){return this===e}}class sV extends wg{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=vR(this,e,!0),i=this.da.map(a=>Eg(a,t)),r=new v(i);return new $(e.path,r)}isEqual(e){return this===e}}class oV extends wg{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new T(e.It,HE(e.It,this._a));return new $(e.path,t)}isEqual(e){return this===e}}function wN(n,e,t,i){const r=n.fa(1,e,t);EN("Data must be an object, but it was:",r,i);const a=[],u=Er.empty();wu(i,(_,b)=>{const I=gC(e,_,t);b=(0,_n.m9)(b);const M=r.ua(I);if(b instanceof kb)a.push(I);else{const U=Eg(b,M);null!=U&&(a.push(I),u.set(I,U))}});const f=new mo(a);return new _R(u,f,r.fieldTransforms)}function DN(n,e,t,i,r,a){const u=n.fa(1,e,t),f=[CN(e,i,t)],_=[r];if(a.length%2!=0)throw new $e(Oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<a.length;U+=2)f.push(CN(e,a[U])),_.push(a[U+1]);const b=[],I=Er.empty();for(let U=f.length-1;U>=0;--U)if(!ER(b,f[U])){const z=f[U];let ne=_[U];ne=(0,_n.m9)(ne);const he=u.ua(z);if(ne instanceof kb)b.push(z);else{const we=Eg(ne,he);null!=we&&(b.push(z),I.set(z,we))}}const M=new mo(b);return new _R(I,M,u.fieldTransforms)}function bR(n,e,t,i=!1){return Eg(t,n.fa(i?4:3,e))}function Eg(n,e){if(DR(n=(0,_n.m9)(n)))return EN("Unsupported field value:",e,n),wR(n,e);if(n instanceof wg)return function(t,i){if(!yR(i.na))throw i.aa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=Eg(u,i.ca(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,_n.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return HE(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=fi.fromDate(t);return{timestampValue:yb(i.It,r)}}if(t instanceof fi){const r=new fi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:yb(i.It,r)}}if(t instanceof hC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ru)return{bytesValue:OO(i.It,t._byteString)};if(t instanceof Ni){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:qS(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.aa(`Unsupported field value: ${uC(t)}`)}(n,e)}function wR(n,e){const t={};return x_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wu(n,(i,r)=>{const a=Eg(r,e.ia(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function DR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof fi||n instanceof hC||n instanceof Ru||n instanceof Ni||n instanceof wg)}function EN(n,e,t){if(!DR(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=uC(t);throw e.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function CN(n,e,t){if((e=(0,_n.m9)(e))instanceof Wd)return e._internalPath;if("string"==typeof e)return gC(n,e);throw mC("Field path arguments must be of type string or ",n,!1,void 0,t)}const aV=new RegExp("[~\\*/\\[\\]]");function gC(n,e,t){if(e.search(aV)>=0)throw mC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wd(...e.split("."))._internalPath}catch{throw mC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mC(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new $e(Oe.INVALID_ARGUMENT,f+n+_)}function ER(n,e){return n.some(t=>t.isEqual(e))}class Pb{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_C("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lV extends Pb{data(){return super.data()}}function _C(n,e){return"string"==typeof e?gC(n,e):e instanceof Wd?e._internalPath:e._delegate._internalPath}class Cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kd extends Pb{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(_C("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Fb extends Kd{data(e={}){return super.data(e)}}class wf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Cg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Fb(this._firestore,this._userDataWriter,i.key,i,new Cg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $e(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Fb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new Fb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),b=a.indexOf(u.doc.key)),{type:cV(u.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function CR(n,e){return n instanceof Kd&&e instanceof Kd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof wf&&e instanceof wf&&n._firestore===e._firestore&&fR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function TR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new $e(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lb{}function Df(n,...e){for(const t of e)n=t._apply(n);return n}class uV extends Lb{constructor(e,t,i){super(),this.wa=e,this.ma=t,this.ga=i,this.type="where"}_apply(e){const t=Dg(e.firestore),i=function(r,a,u,f,_,b,I){let M;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new $e(Oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){OR(I,b);const z=[];for(const ne of I)z.push(MR(f,r,ne));M={arrayValue:{values:z}}}else M=MR(f,r,I)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||OR(I,b),M=bR(u,"where",I,"in"===b||"not-in"===b);const U=rs.create(_,b,M);return function(z,ne){if(ne.dt()){const we=VE(z);if(null!==we&&!we.isEqual(ne.field))throw new $e(Oe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${we.toString()}' and '${ne.field.toString()}'`);const je=LE(z);null!==je&&xR(0,ne.field,je)}const he=function(we,je){for(const ze of we.filters)if(je.indexOf(ze.op)>=0)return ze.op;return null}(z,function(we){switch(we){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ne.op));if(null!==he)throw new $e(Oe.INVALID_ARGUMENT,he===ne.op?`Invalid query. You cannot use more than one '${ne.op.toString()}' filter.`:`Invalid query. You cannot use '${ne.op.toString()}' filters with '${he.toString()}' filters.`)}(r,U),U}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Ws(e.firestore,e.converter,function(r,a){const u=r.filters.concat([a]);return new xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class hV extends Lb{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new $e(Oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new $e(Oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new hf(r,a);return function(f,_){if(null===LE(f)){const b=VE(f);null!==b&&xR(0,b,_.field)}}(i,u),u}(e._query,this.wa,this.ya);return new Ws(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new xl(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class IR extends Lb{constructor(e,t,i){super(),this.type=e,this.pa=t,this.Ia=i}_apply(e){return new Ws(e.firestore,e.converter,db(e._query,this.pa,this.Ia))}}class SR extends Lb{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=NR(e,this.type,this.Ta,this.Ea);return new Ws(e.firestore,e.converter,(r=t,new xl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class AR extends Lb{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=NR(e,this.type,this.Ta,this.Ea);return new Ws(e.firestore,e.converter,(r=t,new xl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function NR(n,e,t,i){if(t[0]=(0,_n.m9)(t[0]),t[0]instanceof Pb)return function(r,a,u,f,_){if(!f)throw new $e(Oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const I of pf(r))if(I.field.isKeyField())b.push(Gd(a,f.key));else{const M=f.data.field(I.field);if(ag(M))throw new $e(Oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const U=I.field.canonicalString();throw new $e(Oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}b.push(M)}return new Su(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Dg(n.firestore);return function(a,u,f,_,b,I){const M=a.explicitOrderBy;if(b.length>M.length)throw new $e(Oe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let z=0;z<b.length;z++){const ne=b[z];if(M[z].field.isKeyField()){if("string"!=typeof ne)throw new $e(Oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof ne}`);if(!ub(a)&&-1!==ne.indexOf("/"))throw new $e(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${ne}' contains a slash.`);const he=a.path.child(un.fromString(ne));if(!at.isDocumentKey(he))throw new $e(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${he}' is not because it contains an odd number of segments.`);const we=new at(he);U.push(Gd(u,we))}else{const he=bR(f,_,ne);U.push(he)}}return new Su(U,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function MR(n,e,t){if("string"==typeof(t=(0,_n.m9)(t))){if(""===t)throw new $e(Oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ub(e)&&-1!==t.indexOf("/"))throw new $e(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(un.fromString(t));if(!at.isDocumentKey(i))throw new $e(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Gd(n,new at(i))}if(t instanceof Ni)return Gd(n,t._key);throw new $e(Oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uC(t)}.`)}function OR(n,e){if(!Array.isArray(n)||0===n.length)throw new $e(Oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new $e(Oe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function xR(n,e,t){if(!t.isEqual(e))throw new $e(Oe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const bV={maxAttempts:5};class TN{convertValue(e,t="none"){switch(Cu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pt()}}convertObject(e,t){const i={};return wu(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new hC(Ai(e.latitude),Ai(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=rb(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(uf(e));default:return null}}convertTimestamp(e){const t=Du(e);return new fi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=un.fromString(e);Ht(jO(i));const r=new Oc(i.get(1),i.get(3)),a=new at(i.popFirst(5));return r.isEqual(t)||zi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function yC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class wV extends TN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,t)}}class RR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Dg(e)}set(e,t,i){this._verifyNotCommitted();const r=Ef(e,this._firestore),a=yC(r.converter,t,i),u=pC(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Ie.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Ef(e,this._firestore);let u;return u="string"==typeof(t=(0,_n.m9)(t))||t instanceof Wd?DN(this._dataReader,"WriteBatch.update",a._key,t,i,r):wN(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,Ie.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ef(e,this._firestore);return this._mutations=this._mutations.concat(new Au(t._key,Ie.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(Oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ef(n,e){if((n=(0,_n.m9)(n)).firestore!==e)throw new $e(Oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Tg extends TN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,t)}}function kR(n,e,t){n=Dn(n,Ni);const i=Dn(n.firestore,Vi),r=yC(n.converter,e,t);return oy(i,[pC(Dg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Ie.none())])}function PR(n,e,t,...i){n=Dn(n,Ni);const r=Dn(n.firestore,Vi),a=Dg(r);let u;return u="string"==typeof(e=(0,_n.m9)(e))||e instanceof Wd?DN(a,"updateDoc",n._key,e,t,i):wN(a,"updateDoc",n._key,e),oy(r,[u.toMutation(n._key,Ie.exists(!0))])}function FR(n,...e){var t,i,r;n=(0,_n.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||vN(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(vN(e[u])){const M=e[u];e[u]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[u+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),e[u+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,b,I;if(n instanceof Ni)b=Dn(n.firestore,Vi),I=ff(n._key.path),_={next:M=>{e[u]&&e[u](IN(b,n,M))},error:e[u+1],complete:e[u+2]};else{const M=Dn(n,Ws);b=Dn(M.firestore,Vi),I=M._query;const U=new Tg(b);_={next:z=>{e[u]&&e[u](new wf(b,U,M,z))},error:e[u+1],complete:e[u+2]},TR(n._query)}return function(M,U,z,ne){const he=new aC(ne),we=new VA(U,he,z);return M.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return RA(yield sy(M),we)})),()=>{he.Rc(),M.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return PA(yield sy(M),we)}))}}(Cr(b),I,f,_)}function oy(n,e){return function(t,i){const r=new Fr;return t.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function fL(n,e,t){return GA.apply(this,arguments)}(yield mN(t),i,r)})),r.promise}(Cr(n),e)}function IN(n,e,t){const i=t.docs.get(e._key),r=new Tg(n);return new Kd(n,r,e._key,i,new Cg(t.hasPendingWrites,t.fromCache),e.converter)}class OV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Dg(e)}get(e){const t=Ef(e,this._firestore),i=new wV(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return pt();const a=r[0];if(a.isFoundDocument())return new Pb(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Pb(this._firestore,i,t._key,null,t.converter);throw pt()})}set(e,t,i){const r=Ef(e,this._firestore),a=yC(r.converter,t,i),u=pC(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=Ef(e,this._firestore);let u;return u="string"==typeof(t=(0,_n.m9)(t))||t instanceof Wd?DN(this._dataReader,"Transaction.update",a._key,t,i,r):wN(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Ef(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ef(e,this._firestore),i=new Tg(this._firestore);return super.get(e).then(r=>new Kd(this._firestore,i,t._key,r._document,new Cg(!1,!1),t.converter))}}function SN(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function VR(){if(typeof Uint8Array>"u")throw new $e("unimplemented","Uint8Arrays are not available in this environment.")}function BR(){if(!function TE(){return typeof atob<"u"}())throw new $e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){rf=Td.SDK_VERSION,(0,Td._registerComponent)(new Np.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),u=new Vi(new bO(t.getProvider("auth-internal")),new wE(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new $e(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Td.registerVersion)(_E,"3.5.0",n),(0,Td.registerVersion)(_E,"3.5.0","esm2017")}();class Vb{constructor(e){this._delegate=e}static fromBase64String(e){return BR(),new Vb(Ru.fromBase64String(e))}static fromUint8Array(e){return VR(),new Vb(Ru.fromUint8Array(e))}toBase64(){return BR(),this._delegate.toBase64()}toUint8Array(){return VR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function AN(n){return function UV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class jV{enableIndexedDbPersistence(e,t){return function ZL(n,e){mR(n=Dn(n,Vi));const t=Cr(n),i=n._freezeSettings(),r=new uN;return gR(t,r,new Qx(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function WL(n){mR(n=Dn(n,Vi));const e=Cr(n),t=n._freezeSettings(),i=new uN;return gR(e,i,new NL(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function KL(n){if(n._initialized&&!n._terminated)throw new $e(Oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{yield(t=(0,Pe.Z)(function*(i){if(!Oa.C())return Promise.resolve();const r=i+"main";yield Oa.delete(r)}),function(i){return t.apply(this,arguments)})(rA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class UR{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Oc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ud("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function HL(n,e,t,i={}){var r;const a=(n=Dn(n,Rb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Ud("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=dr.MOCK_USER;else{u=(0,_n.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new $e(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new dr(_)}n._authCredentials=new A_(new DS(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function QL(n){return function kL(n){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield tR(n),t=yield nR(n);return e.setNetworkEnabled(!0),function(i){const r=ut(i);return r._u.delete(0),Ob(r)}(t)}))}(Cr(n=Dn(n,Vi)))}(this._delegate)}disableNetwork(){return function JL(n){return function PL(n){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield tR(n),t=yield nR(n);return e.setNetworkEnabled(!1),(i=(0,Pe.Z)(function*(r){const a=ut(r);a._u.add(0),yield J_(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Cr(n=Dn(n,Vi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,oR("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function YL(n){return function(e){const t=new Fr;return e.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function _L(n,e){return WA.apply(this,arguments)}(yield mN(e),t)})),t.promise}(Cr(n=Dn(n,Vi)))}(this._delegate)}onSnapshotsInSync(e){return function MV(n,e){return function VL(n,e){const t=new aC(e);return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return i=yield sy(n),r=t,ut(i).Ru.add(r),void r.next();var i,r})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return i=yield sy(n),r=t,void ut(i).Ru.delete(r);var i,r}))}}(Cr(n=Dn(n,Vi)),vN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new $e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ay(this,dR(this._delegate,e))}catch(t){throw yo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Rl(this,dC(this._delegate,e))}catch(t){throw yo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new vo(this,function GL(n,e){if(n=Dn(n,Rb),yN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $e(Oe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ws(n,null,(t=e,new xl(un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw yo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function xV(n,e,t){n=Dn(n,Vi);const i=Object.assign(Object.assign({},bV),t);return function(r){if(r.maxAttempts<1)throw new $e(Oe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function BL(n,e,t){const i=new Fr;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){const r=yield(a=n,lC(a).then(u=>u.datastore));var a;new xL(n.asyncQueue,r,t,e,i).run()})),i.promise}(Cr(n),r=>e(new OV(n,r)),i)}(this._delegate,t=>e(new jR(this,t)))}batch(){return Cr(this._delegate),new HR(new RR(this._delegate,e=>oy(this._delegate,e)))}loadBundle(e){return function XL(n,e){const t=Cr(n=Dn(n,Vi)),i=new qL;return function UL(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return Jx(_,b);if(_ instanceof ArrayBuffer)return Jx(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new ML(_,u);var _}(t,Mb(e));n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){!function AL(n,e,t){const i=ut(n);var r;(r=(0,Pe.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(U,z){const ne=ut(U),he=ss(z.createTime);return ne.persistence.runTransaction("hasNewerBundle","readonly",we=>ne.Ns.getBundleMetadata(we,z.id)).then(we=>!!we&&we.createTime.compareTo(he)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(U=_).totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}),Promise.resolve(new Set);f._updateProgress(jx(_));const b=new aL(_,a.localStore,u.It);let I=yield u.wc();for(;I;){const U=yield b.Ou(I);U&&f._updateProgress(U),I=yield u.wc()}const M=yield b.complete();return yield Zd(a,M.Bu,void 0),yield function(U,z){const ne=ut(U);return ne.persistence.runTransaction("Save bundle","readwrite",he=>ne.Ns.saveBundleMetadata(he,z))}(a.localStore,_),f._completeWith(M.progress),Promise.resolve(M.$u)}catch(_){return Ud("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var U}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield mN(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function eV(n,e){return function jL(n,e){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){return function(t,i){const r=ut(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield cC(n),e)}))}(Cr(n=Dn(n,Vi)),e).then(t=>t?new Ws(n,null,t.query):null)}(this._delegate,e).then(t=>t?new vo(this,t):null)}}class vC extends TN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vb(new Ru(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Rl.forKey(t,this.firestore,null)}}class jR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vC(e)}get(e){const t=Sg(e);return this._delegate.get(t).then(i=>new Bb(this._firestore,new Kd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Sg(e);return i?(SN("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Sg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Sg(e);return this._delegate.delete(t),this}}class HR{constructor(e){this._delegate=e}set(e,t,i){const r=Sg(e);return i?(SN("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Sg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Sg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ig{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Fb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ub(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Ig.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Ig(e,new vC(e),t),r.set(t,a)),a}}Ig.INSTANCES=new WeakMap;class Rl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vC(e)}static forPath(e,t,i){if(e.length%2!=0)throw new $e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Rl(t,new Ni(t._delegate,i,new at(e)))}static forKey(e,t,i){return new Rl(t,new Ni(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new ay(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ay(this.firestore,dR(this._delegate,e))}catch(t){throw yo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_n.m9)(e))instanceof Ni&&hR(this._delegate,e)}set(e,t){t=SN("DocumentReference.set",t);try{return t?kR(this._delegate,e,t):kR(this._delegate,e)}catch(i){throw yo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?PR(this._delegate,e):PR(this._delegate,e,t,...i)}catch(r){throw yo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function AV(n){return oy(Dn(n.firestore,Vi),[new Au(n._key,Ie.none())])}(this._delegate)}onSnapshot(...e){const t=GR(e),i=$R(e,r=>new Bb(this.firestore,new Kd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return FR(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function EV(n){n=Dn(n,Ni);const e=Dn(n.firestore,Vi),t=Cr(e),i=new Tg(e);return function FL(n,e){const t=new Fr;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(i=(0,Pe.Z)(function*(r,a,u){try{const f=yield function(_,b){const I=ut(_);return I.persistence.runTransaction("read document","readonly",M=>I.localDocuments.getDocument(M,b))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new $e(Oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=ty(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield cC(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Kd(e,i,n._key,r,new Cg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function CV(n){n=Dn(n,Ni);const e=Dn(n.firestore,Vi);return iR(Cr(e),n._key,{source:"server"}).then(t=>IN(e,n,t))}(this._delegate):function DV(n){n=Dn(n,Ni);const e=Dn(n.firestore,Vi);return iR(Cr(e),n._key).then(t=>IN(e,n,t))}(this._delegate),t.then(i=>new Bb(this.firestore,new Kd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Rl(this.firestore,this._delegate.withConverter(e?Ig.getInstance(this.firestore,e):null))}}function yo(n,e,t){return n.message=n.message.replace(e,t),n}function GR(n){for(const e of n)if("object"==typeof e&&!AN(e))return e;return{}}function $R(n,e){var t,i;let r;return r=AN(n[0])?n[0]:AN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Bb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Rl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return CR(this._delegate,e._delegate)}}class Ub extends Bb{data(e){const t=this._delegate.data(e);return function yO(n,e){n||pt()}(void 0!==t),t}}class vo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vC(e)}where(e,t,i){try{return new vo(this.firestore,Df(this._delegate,function dV(n,e,t){const i=e,r=_C("where",n);return new uV(r,i,t)}(e,t,i)))}catch(r){throw yo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new vo(this.firestore,Df(this._delegate,function fV(n,e="asc"){const t=e,i=_C("orderBy",n);return new hV(i,t)}(e,t)))}catch(i){throw yo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new vo(this.firestore,Df(this._delegate,function pV(n){return cR("limit",n),new IR("limit",n,"F")}(e)))}catch(t){throw yo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new vo(this.firestore,Df(this._delegate,function gV(n){return cR("limitToLast",n),new IR("limitToLast",n,"L")}(e)))}catch(t){throw yo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new vo(this.firestore,Df(this._delegate,function mV(...n){return new SR("startAt",n,!0)}(...e)))}catch(t){throw yo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new vo(this.firestore,Df(this._delegate,function _V(...n){return new SR("startAfter",n,!1)}(...e)))}catch(t){throw yo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new vo(this.firestore,Df(this._delegate,function yV(...n){return new AR("endBefore",n,!1)}(...e)))}catch(t){throw yo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new vo(this.firestore,Df(this._delegate,function vV(...n){return new AR("endAt",n,!0)}(...e)))}catch(t){throw yo(t,"endAt()","Query.endAt()")}}isEqual(e){return fR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function IV(n){n=Dn(n,Ws);const e=Dn(n.firestore,Vi),t=Cr(e),i=new Tg(e);return function LL(n,e){const t=new Fr;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(i=(0,Pe.Z)(function*(r,a,u){try{const f=yield tC(r,a,!0),_=new $x(a,f.Hi),b=_.ju(f.documents),I=_.applyChanges(b,!1);u.resolve(I.snapshot)}catch(f){const _=ty(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield cC(n),e,t);var i})),t.promise}(t,n._query).then(r=>new wf(e,i,n,r))}(this._delegate):"server"===e?.source?function SV(n){n=Dn(n,Ws);const e=Dn(n.firestore,Vi),t=Cr(e),i=new Tg(e);return rR(t,n._query,{source:"server"}).then(r=>new wf(e,i,n,r))}(this._delegate):function TV(n){n=Dn(n,Ws);const e=Dn(n.firestore,Vi),t=Cr(e),i=new Tg(e);return TR(n._query),rR(t,n._query).then(r=>new wf(e,i,n,r))}(this._delegate),t.then(i=>new NN(this.firestore,new wf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=GR(e),i=$R(e,r=>new NN(this.firestore,new wf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return FR(this._delegate,t,i)}withConverter(e){return new vo(this.firestore,this._delegate.withConverter(e?Ig.getInstance(this.firestore,e):null))}}class GV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ub(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class NN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new vo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ub(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new GV(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Ub(this._firestore,i))})}isEqual(e){return CR(this._delegate,e._delegate)}}class ay extends vo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Rl(this.firestore,e):null}doc(e){try{return new Rl(this.firestore,void 0===e?dC(this._delegate):dC(this._delegate,e))}catch(t){throw yo(t,"doc()","CollectionReference.doc()")}}add(e){return function NV(n,e){const t=Dn(n.firestore,Vi),i=dC(n),r=yC(n.converter,e);return oy(t,[pC(Dg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ie.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Rl(this.firestore,t))}isEqual(e){return hR(this._delegate,e._delegate)}withConverter(e){return new ay(this.firestore,this._delegate.withConverter(e?Ig.getInstance(this.firestore,e):null))}}function Sg(n){return Dn(n,Ni)}class MN{constructor(...e){this._delegate=new Wd(...e)}static documentId(){return new MN(Zi.keyField().canonicalString())}isEqual(e){return(e=(0,_n.m9)(e))instanceof Wd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ag{constructor(e){this._delegate=e}static serverTimestamp(){const e=function kV(){return new bN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ag(e)}static delete(){const e=function RV(){return new kb("deleteField")}();return e._methodName="FieldValue.delete",new Ag(e)}static arrayUnion(...e){const t=function PV(...n){return new rV("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ag(t)}static arrayRemove(...e){const t=function FV(...n){return new sV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ag(t)}static increment(e){const t=function LV(n){return new oV("increment",n)}(e);return t._methodName="FieldValue.increment",new Ag(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const $V={Firestore:UR,GeoPoint:hC,Timestamp:fi,Blob:Vb,Transaction:jR,WriteBatch:HR,DocumentReference:Rl,DocumentSnapshot:Bb,Query:vo,QueryDocumentSnapshot:Ub,QuerySnapshot:NN,CollectionReference:ay,FieldPath:MN,FieldValue:Ag,setLogLevel:function HV(n){!function yE(n){Ac.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function qR(n,e){return function ZV(n,e=Fp.z){return new bi.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function ON(n,e){return qR(n,e).pipe((0,ht.U)(t=>({payload:t,type:"query"})))}function bC(n,e){return ON(n,e).pipe(va(void 0),yD(),(0,ht.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(I=>I.doc.ref.isEqual(u.ref)),b=t?.payload.docs.find(I=>I.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function zR(n,e,t){return bC(n,t).pipe(Bt((i,r)=>function KV(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function YV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return xN(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return xN(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return xN(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),function Lp(n,e=co.y){return n=n??vD,(0,Ri.e)((t,i)=>{let r,a=!0;t.subscribe((0,Un.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}(),(0,ht.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function xN(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function ZR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function zV(n){(function qV(n,e){n.INTERNAL.registerComponent(new Np.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},$V)))})(n,(e,t)=>new UR(e,t,new jV)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(kt.Z);class WR{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=bC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ht.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(va(void 0),yD(),S(([i,r])=>r.length>0||!i),(0,ht.U)(([i,r])=>r),Fi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Bt((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=ZR(e);return zR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fi.iC)}valueChanges(e={}){return ON(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Fi.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(Fi.iC)}add(e){return this.ref.add(e)}doc(e){return new KR(this.ref.doc(e),this.afs)}}class KR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=YR(i,t);return new WR(r,a,this.afs)}snapshotChanges(){return function WV(n,e){return qR(n,e).pipe(va(void 0),yD(),(0,ht.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Sn.D)(this.ref.get(e)).pipe(Fi.iC)}}class QV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?bC(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),S(t=>t.length>0),Fi.iC):bC(this.query,this.afs.schedulers.outsideAngular).pipe(Fi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Bt((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=ZR(e);return zR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fi.iC)}valueChanges(e={}){return ON(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Fi.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(Fi.iC)}}const JV=new l.OlP("angularfire2.enableFirestorePersistence"),XV=new l.OlP("angularfire2.firestore.persistenceSettings"),eB=new l.OlP("angularfire2.firestore.settings"),tB=new l.OlP("angularfire2.firestore.use-emulator");function YR(n,e=(t=>t)){return{query:e(n),ref:n}}let QR=(()=>{class n{constructor(t,i,r,a,u,f,_,b,I,M,U,z,ne,he,we,je,ze){this.schedulers=_;const st=(0,Jr.on)(t,f,i),Ye=I;M&&_D(st,f,U,ne,he,we,z,je),[this.firestore,this.persistenceEnabled$]=(0,Jr.cc)(`${st.name}.firestore`,"AngularFirestore",st.name,()=>{const nt=f.runOutsideAngular(()=>st.firestore());if(a&&nt.settings(a),Ye&&nt.useEmulator(...Ye),r&&!xi(u)){const ot=()=>{try{return(0,Sn.D)(nt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Dt){return typeof console<"u"&&console.warn(Dt),gt(!1)}};return[nt,f.runOutsideAngular(ot)]}return[nt,gt(!1)]},[a,Ye,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=YR(r,i),f=this.schedulers.ngZone.run(()=>a);return new WR(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new QV(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new KR(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Jr.Dh),l.LFG(Jr.xv,8),l.LFG(JV,8),l.LFG(eB,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Fi.HU),l.LFG(XV,8),l.LFG(tB,8),l.LFG(Ym,8),l.LFG(Zv,8),l.LFG(Wv,8),l.LFG(Kv,8),l.LFG(Wm,8),l.LFG(Km,8),l.LFG(pu,8),l.LFG(qv,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),nB=(()=>{class n{constructor(t){this.af=t}getUsuarioPorEmail(t){return this.af.collection("usuarios",i=>i.where("email","==",t)).valueChanges({idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(QR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class JR{}const Yd="*";function rB(n,e){return{type:7,name:n,definitions:e,options:{}}}function XR(n,e=null){return{type:4,styles:e,timings:n}}function ek(n,e=null){return{type:2,steps:n,options:e}}function jb(n){return{type:6,styles:n,offset:null}}function RN(n,e,t){return{type:0,name:n,styles:e,options:t}}function tk(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function nk(n){Promise.resolve().then(n)}class Hb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){nk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ik{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?nk(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const rk=["toast-component",""];function sB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function oB(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.hij("[",t.duplicatesCount+1,"]")}}function aB(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,oB,2,1,"ng-container",4),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.titleClass),l.uIk("aria-label",t.title),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngIf",t.duplicatesCount)}}function lB(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.Q6J("innerHTML",t.message,l.oJD)}}function cB(n,e){if(1&n&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.uIk("aria-label",t.message),l.xp6(1),l.hij(" ",t.message," ")}}function uB(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Udp("width",t.width+"%")}}class _B{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class wC{constructor(e,t,i,r,a,u){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=a,this.toastRef=u,this._onTap=new hn.x,this._onAction=new hn.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const ok=new l.OlP("ToastConfig");class vB{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new hn.x,this._activate=new hn.x,this._manualClose=new hn.x,this._resetTimeout=new hn.x,this._countDuplicate=new hn.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class bB{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,i){return e===wC?this._toastPackage:this._parentInjector.get(e,t,i)}}class wB extends class yB{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class DB{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let EB=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Z))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CB=(()=>{class n{constructor(t,i,r,a){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=a,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new wB(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new DB(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(EB),l.LFG(l._Vd),l.LFG(l.z2F),l.LFG(Z))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ly=(()=>{class n{constructor(t,i,r,a,u){this.overlay=i,this._injector=r,this.sanitizer=a,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},a=""){return this._preBuildNotification(a,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,a){const{includeTitleDuplicates:u}=this.toastrConfig;for(const f of this.toasts){const _=u&&f.title===t;if((!u||_)&&f.message===i)return f.toastRef.onDuplicate(r,a),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,a)):this._buildNotification(t,i,r,a)}_buildNotification(t,i,r,a){if(!a.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=i;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let b=i;i&&a.enableHtml&&(b=this.sanitizer.sanitize(l.q3G.HTML,i));const I=new vB(_),M=new wC(this.index,a,b,r,t,I),U=new bB(M,this._injector),z=new _B(a.toastComponent,U),ne=_.attach(z,this.toastrConfig.newestOnTop);I.componentInstance=ne.instance;const he={toastId:this.index,title:r||"",message:i||"",toastRef:I,onShown:I.afterActivate(),onHidden:I.afterClosed(),onTap:M.onTap(),onAction:M.onAction(),portal:ne};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{he.toastRef.activate()})),this.toasts.push(he),he}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ok),l.LFG(CB),l.LFG(l.zs3),l.LFG(gl),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TB={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ly),l.Y36(wC),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(l.d8E("@flyInOut",i.state),l.Tol(i.toastClasses),l.Udp("display",i.displayStyle))},attrs:rk,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(l.YNc(0,sB,3,0,"button",0),l.YNc(1,aB,3,5,"div",1),l.YNc(2,lB,1,3,"div",2),l.YNc(3,cB,2,4,"div",3),l.YNc(4,uB,2,2,"div",4)),2&t&&(l.Q6J("ngIf",i.options.closeButton),l.xp6(1),l.Q6J("ngIf",i.title),l.xp6(1),l.Q6J("ngIf",i.message&&i.options.enableHtml),l.xp6(1),l.Q6J("ngIf",i.message&&!i.options.enableHtml),l.xp6(1),l.Q6J("ngIf",i.options.progressBar))},dependencies:[wn],encapsulation:2,data:{animation:[rB("flyInOut",[RN("inactive",jb({opacity:0})),RN("active",jb({opacity:1})),RN("removed",jb({opacity:0})),tk("inactive => active",XR("{{ easeTime }}ms {{ easing }}")),tk("active => removed",XR("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let IB=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:ok,useValue:{default:TB,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zn]}),n})();function SB(n,e){1&n&&l._UZ(0,"span",16)}let AB=(()=>{class n{constructor(t,i,r,a,u){this.fb=t,this._auth=i,this._usuario=r,this.toastr=a,this.router=u,this.entrando=!1,this.loginForm=this.fb.group({email:["",Cs.required],pass:["",Cs.required]})}ngOnInit(){}login(){if(this.entrando=!0,this.loginForm.invalid)return this.toastr.error("Ingrese sus credenciales","Ha ocurrido un error"),void(this.entrando=!1);this._auth.signInWithEmail(this.loginForm.value.email,this.loginForm.value.pass).then(t=>{t.user.getIdTokenResult().then(i=>{this._usuario.getUsuarioPorEmail(this.loginForm.value.email).subscribe(r=>{r.length>0?(this._auth.saveLocalData("email",this.loginForm.value.email),this._auth.saveLocalData("names",r[0].nombres),this._auth.saveLocalData("lastnames",r[0].apellidos),this._auth.saveLocalData("administrador",r[0].administrador),this.router.navigateByUrl("/inicio")):(this.toastr.error("Verifique las credenciales ingresadas","Acceso denegado"),this.entrando=!1)})}),this.entrando=!1}).catch(t=>{this.toastr.error("Verifique las credenciales ingresadas","Acceso denegado"),this.entrando=!1})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(du),l.Y36(GI),l.Y36(nB),l.Y36(ly),l.Y36($i))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:26,vars:2,consts:[[1,"login-row"],[1,"card","col-sm-4","login-card"],[1,"card-header","text-center"],["id","empresaLogo","src","assets/images/logoa.jpeg","alt","Logo"],[1,"card-body"],["id","welcomeText"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","email",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","id","email","formControlName","email",1,"form-control"],["for","pass",1,"col-sm-4","col-form-label"],["type","password","id","pass","formControlName","pass",1,"form-control"],[1,"col-sm-4"],["type","submit","id","submitBtn",1,"btn","btn-outline-light"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"div",4)(5,"p",5),l._uU(6,"Bienvenido, por favor ingrese sus credenciales"),l.qZA(),l.TgZ(7,"form",6),l.NdJ("ngSubmit",function(){return i.login()}),l.TgZ(8,"div",7)(9,"label",8),l._uU(10,"Correo"),l.qZA(),l.TgZ(11,"div",9),l._UZ(12,"input",10),l.qZA()(),l._UZ(13,"br"),l.TgZ(14,"div",7)(15,"label",11),l._uU(16,"Contrase\xf1a"),l.qZA(),l.TgZ(17,"div",9),l._UZ(18,"input",12),l.qZA()(),l._UZ(19,"br"),l.TgZ(20,"div",7),l._UZ(21,"div",13),l.TgZ(22,"div",9)(23,"button",14),l.YNc(24,SB,1,0,"span",15),l._uU(25," ENTRAR "),l.qZA()()()()()()()),2&t&&(l.xp6(7),l.Q6J("formGroup",i.loginForm),l.xp6(17),l.Q6J("ngIf",i.entrando))},dependencies:[wn,Vh,fd,md,_d,uu,Ec]}),n})(),NB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-inicio"]],decls:3,vars:0,consts:[[1,"container","text-center"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"h1"),l._uU(2,"Bienvenido al sistema de administraci\xf3n de kardex"),l.qZA()())}}),n})();var MB=k(5226),PN=k.n(MB);let FN=(()=>{class n{constructor(t){this.firestore=t}getAllProductos(){return this.firestore.collection("productos",t=>t.where("isActive","==",!0).orderBy("codigo")).valueChanges({idField:"id"})}getProductos(t,i){return this.firestore.collection("productos",r=>r.where("isActive","==",!0).orderBy("codigo").startAfter(i).limit(t)).valueChanges({idField:"id"})}getProducto(t){return this.firestore.collection("productos").doc(t).valueChanges({idField:"id"})}saveProducto(t){this.firestore.collection("productos").add(t)}updateProducto(t,i){this.firestore.collection("productos").doc(t).update(i)}deleteProduct(t){this.firestore.collection("productos").doc(t).delete()}saveCompra(t){this.firestore.collection("compras").add(t)}saveVenta(t){this.firestore.collection("ventas").add(t)}getCompras(t){return this.firestore.collection("compras",i=>i.where("codigo","==",t).orderBy("fecha")).valueChanges()}getVentas(t){return this.firestore.collection("ventas",i=>i.where("codigo","==",t).orderBy("fecha")).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(QR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LN=(()=>{class n{constructor(){}getTodayString(){var t=new Date;return String(t.getDate()).padStart(2,"0")+"/"+String(t.getMonth()+1).padStart(2,"0")+"/"+t.getFullYear()}getTodayTimestamp(){return fi.fromDate(new Date)}getDateFromTimestamp(t){var i=t.toDate();let r=i.getDate(),a=i.getMonth()+1,u=i.getFullYear(),f=i.getHours(),_=i.getMinutes(),b=i.getSeconds();return _<10&&(_=`0${_}`),b<10&&(b=`0${b}`),a<10?`${r}/0${a}/${u} ${f}:${_}:${b}`:`${r}/${a}/${u} ${f}:${_}:${b}`}getDateFromString(t){const[i,r]=t.split(" "),[a,u,f]=i.split("/"),[_,b,I]=r.split(":");return new Date(+f,+u-1,+a,+_,+b,+I)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var VN=k(5876);const OB=["qrcElement"];let xB=(()=>{class n{constructor(t,i){this.renderer=t,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new l.vpe,this.context=null}ngOnChanges(){var t=this;return(0,Pe.Z)(function*(){yield t.createQRCode()})()}isValidQrCodeText(t){return!1===this.allowEmptyString?!(typeof t>"u"||""===t||"null"===t||null===t):!(typeof t>"u")}toDataURL(t){return new Promise((i,r)=>{VN.hz(this.qrdata,t,(a,u)=>{a?r(a):i(u)})})}toCanvas(t,i){return new Promise((r,a)=>{VN.rT(t,this.qrdata,i,u=>{u?a(u):r("success")})})}toSVG(t){return new Promise((i,r)=>{VN.toString(this.qrdata,t,(a,u)=>{a?r(a):i(u)})})}renderElement(t){for(const i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,t)}createQRCode(){var t=this;return(0,Pe.Z)(function*(){t.version&&t.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),t.version=40):t.version&&t.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),t.version=1):void 0!==t.version&&isNaN(t.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),t.version=void 0);try{if(!t.isValidQrCodeText(t.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");t.isValidQrCodeText(t.qrdata)&&""===t.qrdata&&(t.qrdata=" ");const i={color:{dark:t.colorDark,light:t.colorLight},errorCorrectionLevel:t.errorCorrectionLevel,margin:t.margin,scale:t.scale,type:t.elementType,version:t.version,width:t.width},r=t.imageSrc,a=t.imageHeight||40,u=t.imageWidth||40;switch(t.elementType){case"canvas":const f=t.renderer.createElement("canvas");t.context=f.getContext("2d"),t.toCanvas(f,i).then(()=>{if(t.ariaLabel&&t.renderer.setAttribute(f,"aria-label",`${t.ariaLabel}`),t.title&&t.renderer.setAttribute(f,"title",`${t.title}`),r&&t.context){t.centerImage=new Image(u,a),r!==t.centerImage.src&&(t.centerImage.src=r),a!==t.centerImage.height&&(t.centerImage.height=a),u!==t.centerImage.width&&(t.centerImage.width=u);const I=t.centerImage;I&&(I.onload=()=>{t.context?.drawImage(I,f.width/2-u/2,f.height/2-a/2,u,a)})}t.renderElement(f),t.emitQRCodeURL(f)}).catch(I=>{console.error("[angularx-qrcode] canvas error:",I)});break;case"svg":const _=t.renderer.createElement("div");t.toSVG(i).then(I=>{t.renderer.setProperty(_,"innerHTML",I);const M=_.firstChild;t.renderer.setAttribute(M,"height",`${t.width}`),t.renderer.setAttribute(M,"width",`${t.width}`),t.renderElement(M),t.emitQRCodeURL(M)}).catch(I=>{console.error("[angularx-qrcode] svg error:",I)});break;default:const b=t.renderer.createElement("img");t.toDataURL(i).then(I=>{t.alt&&b.setAttribute("alt",t.alt),t.ariaLabel&&b.setAttribute("aria-label",t.ariaLabel),b.setAttribute("src",I),t.title&&b.setAttribute("title",t.title),t.renderElement(b),t.emitQRCodeURL(b)}).catch(I=>{console.error("[angularx-qrcode] img/url error:",I)})}}catch(i){console.error("[angularx-qrcode] Error generating QR Code:",i.message)}})()}emitQRCodeURL(t){const i=t.constructor.name;if(i===SVGSVGElement.name){const u=new Blob([t.outerHTML],{type:"image/svg+xml"}),f=URL.createObjectURL(u),_=this.sanitizer.bypassSecurityTrustUrl(f);return void this.qrCodeURL.emit(_)}let r="";i===HTMLCanvasElement.name&&(r=t.toDataURL("image/png")),i===HTMLImageElement.name&&(r=t.src),fetch(r).then(a=>a.blob()).then(a=>URL.createObjectURL(a)).then(a=>this.sanitizer.bypassSecurityTrustUrl(a)).then(a=>{this.qrCodeURL.emit(a)}).catch(a=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+a)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(gl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["qrcode"]],viewQuery:function(t,i){if(1&t&&l.Gf(OB,7),2&t){let r;l.iGM(r=l.CRH())&&(i.qrcElement=r.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[l.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(t,i){1&t&&l._UZ(0,"div",null,0),2&t&&l.Tol(i.cssClass)},encapsulation:2,changeDetection:0}),n})(),RB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[]}),n})();const kB=["closeButtonForm"];function PB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td")(4,"span",54),l._uU(5),l.qZA()(),l.TgZ(6,"td"),l._uU(7),l.qZA(),l.TgZ(8,"td"),l._uU(9),l.qZA(),l.TgZ(10,"td")(11,"button",55),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.getKardex(a.codigo))}),l._UZ(12,"i",56),l.qZA()(),l.TgZ(13,"td"),l._uU(14),l.ALo(15,"currency"),l.qZA(),l.TgZ(16,"td"),l._uU(17),l.ALo(18,"currency"),l.qZA(),l.TgZ(19,"td"),l._uU(20),l.ALo(21,"currency"),l.qZA(),l.TgZ(22,"td")(23,"button",57),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.qrGenerate(a.codigo,a.descripcion,a.marca))}),l._UZ(24,"i",58),l.qZA()(),l.TgZ(25,"td")(26,"button",59),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.openModal(a.id))}),l._UZ(27,"i",60),l.qZA(),l.TgZ(28,"button",61),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.deleteProducto(a.id))}),l._UZ(29,"i",62),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.codigo),l.xp6(3),l.Oqu(t.clasificacion),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.Oqu(t.marca),l.xp6(5),l.Oqu(l.lcZ(15,7,t.costoUnitario)),l.xp6(3),l.Oqu(l.lcZ(18,9,1.4*t.costoUnitario)),l.xp6(3),l.Oqu(l.lcZ(21,11,1.4*t.costoUnitario/.87))}}function FB(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.tipo)}}function LB(n,e){if(1&n&&(l.TgZ(0,"td"),l._uU(1),l.qZA(),l._UZ(2,"td"),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.ALo(7,"currency"),l.qZA(),l.TgZ(8,"td"),l._uU(9),l.ALo(10,"currency"),l.qZA(),l._UZ(11,"td")),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.cantidad),l.xp6(3),l.Oqu(t.inventario),l.xp6(2),l.Oqu(l.lcZ(7,4,t.costoUnitario)),l.xp6(3),l.Oqu(l.lcZ(10,6,t.totalFac))}}function VB(n,e){if(1&n&&(l._UZ(0,"td"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.ALo(7,"currency"),l.qZA(),l._UZ(8,"td"),l.TgZ(9,"td"),l._uU(10),l.ALo(11,"currency"),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(2),l.Oqu(t.cantidad),l.xp6(2),l.Oqu(t.inventario),l.xp6(2),l.Oqu(l.lcZ(7,4,t.costoUnitario)),l.xp6(4),l.Oqu(l.lcZ(11,6,t.precioVenta))}}function BB(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.YNc(5,FB,2,1,"div",63),l.YNc(6,LB,12,8,"ng-template",null,64,l.W1O),l.YNc(8,VB,12,8,"ng-template",null,65,l.W1O),l.TgZ(10,"td"),l._uU(11),l.ALo(12,"currency"),l.qZA()()),2&n){const t=e.$implicit,i=l.MAs(7),r=l.MAs(9);l.xp6(2),l.Oqu(t.fecha),l.xp6(2),l.Oqu(t.tipo),l.xp6(1),l.Q6J("ngIf","COMPRA"==t.tipo)("ngIfThen",i)("ngIfElse",r),l.xp6(6),l.Oqu(l.lcZ(12,6,t.totalAcumulado))}}let UB=(()=>{class n{constructor(t,i,r,a){this._db=t,this._utils=i,this.fb=r,this.toastr=a,this.edicion=!1,this.idEdicion="",this.startKey="",this.myAngularxQrCode="",this.qrCode="",this.cod="",this.des="",this.mar="",this.kardex=[],this.compras=Rr.E,this.ventas=Rr.E,this.articulo="",this.total=0,this.costoTotal=0,this.productoForm=this.fb.group({codigo:["",Cs.required],clasificacion:["",Cs.required],descripcion:["",Cs.required],marca:["",Cs.required]}),this.productos=this.getProducts(this.startKey),this.myAngularxQrCode="tutsmake.com"}ngOnInit(){this.registroModal=new window.bootstrap.Modal(document.getElementById("registroModal")),this.qrModal=new window.bootstrap.Modal(document.getElementById("qrModal")),this.kardexModal=new window.bootstrap.Modal(document.getElementById("kardexModal"))}getProducts(t){var i=0,r=this._db.getProductos(10,t);return r.subscribe(a=>{a.forEach(u=>{9==i&&(this.startKey=u.codigo),i++})}),r}newModal(){this.productoForm.reset(),document.getElementById("codigo").removeAttribute("readonly"),this.registroModal.show()}openModal(t){this.edicion=!0,this.idEdicion=t;const i=this._db.getProducto(t);this.registroModal.show(),setTimeout(()=>{i.forEach(r=>{this.producto=r,document.getElementById("codigo").setAttribute("readonly","true"),null!=this.producto&&(this.productoForm=this.fb.group({codigo:[this.producto.codigo,Cs.required],clasificacion:[this.producto.clasificacion,Cs.required],descripcion:[this.producto.descripcion,Cs.required],marca:[this.producto.marca,Cs.required]}))})},500)}deleteProducto(t){const i=this._db.getProducto(t);PN().fire({title:"Estas seguro de eliminar este item?",showDenyButton:!0,confirmButtonText:"Confirmar",denyButtonText:"Cancelar"}).then(r=>{r.isConfirmed?setTimeout(()=>{i.forEach(a=>{a.isActive=!1,this._db.updateProducto(t,a)}),PN().fire("Item eliminado correctamente","","success")},500):r.isDenied&&PN().fire("Se cancel\xf3 la acci\xf3n","","info")})}next(){this.productos=this.getProducts(this.startKey)}saveProducto(){this.productoForm.invalid?this.toastr.error("Todos los campos son requeridos","Ha ocurrido un error"):this.edicion?(this._db.updateProducto(this.idEdicion,this.productoForm.value),this.toastr.success("Producto modificado correctamente","Operaci\xf3n exitosa"),this.productoForm.reset(),this.edicion=!1,this.idEdicion="",this.producto=null,document.getElementById("codigo").removeAttribute("readonly"),this.closeButtonForm.nativeElement.click()):(this.productoForm.value.inventario=0,this.productoForm.value.isActive=!0,this._db.saveProducto(this.productoForm.value),this.toastr.success("Producto guardado correctamente","Operaci\xf3n exitosa"),this.productoForm.reset(),this.edicion=!1,this.idEdicion="",this.producto=null,document.getElementById("codigo").removeAttribute("readonly"),this.closeButtonForm.nativeElement.click())}qrGenerate(t,i,r){this.qrModal.show(),this.qrCode="",this.cod=t,this.des=i,this.mar=r,this.qrCode=this.cod+"|"+this.des+"|"+this.mar}getKardex(t){this.kardex=[],this.kardexModal.show(),this.cod=t,this.compras=this._db.getCompras(t),this.compras.subscribe(i=>{for(var r=0;r<i.length;r++){let a=i[r];a.fecha=this._utils.getDateFromTimestamp(a.fecha),a.tipo="COMPRA",a.date=this._utils.getDateFromString(a.fecha),console.log(a),this.kardex.push(a)}}),this.ventas=this._db.getVentas(t),this.ventas.subscribe(i=>{for(var r=0;r<i.length;r++){this.articulo=i[r].descripcion;let a=i[r];a.fecha=this._utils.getDateFromTimestamp(a.fecha),a.tipo="VENTA",a.date=this._utils.getDateFromString(a.fecha),console.log(a),this.kardex.push(a)}}),setTimeout(()=>{this.kardex.sort(function(i,r){return i.date.getTime()-r.date.getTime()})},800)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(FN),l.Y36(LN),l.Y36(du),l.Y36(ly))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-productos"]],viewQuery:function(t,i){if(1&t&&l.Gf(kB,5),2&t){let r;l.iGM(r=l.CRH())&&(i.closeButtonForm=r.first)}},decls:161,vars:15,consts:[[1,"titleLbl"],["type","button","id","newBtn","data-toggle","modal","data-target","#productoModal",1,"btn","btn-sm","btn-success","mb-1",3,"click"],[1,"fa-solid","fa-plus"],[1,"table"],[1,"thead-dark"],["scope","col"],["scope","col",1,"details-table"],[1,"details-table"],[4,"ngFor","ngForOf"],["id","pagination"],["type","button","id","prev",1,"btn","btn-sm","btn-primary","mb-1"],[1,"fa-solid","fa-circle-chevron-left"],["type","button","id","next",1,"btn","btn-sm","btn-primary","mb-1",3,"click"],[1,"fa-solid","fa-circle-chevron-right"],["id","registroModal","tabindex","-1","aria-labelledby","registroModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","registroModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["closeButtonForm",""],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-body","details-table"],[1,"card"],[1,"card-body"],[1,"row"],[1,"form-group","col-sm-6"],["for","codigo"],["type","text","id","codigo","oninput","this.value = this.value.toUpperCase()","formControlName","codigo",1,"form-control"],[1,"form-group"],["for","clasificacion"],["type","text","id","clasificacion","oninput","this.value = this.value.toUpperCase()","formControlName","clasificacion",1,"form-control"],["for","descripcion"],["type","text","id","descripcion","oninput","this.value = this.value.toUpperCase()","formControlName","descripcion",1,"form-control"],["for","marca"],["type","text","id","marca","oninput","this.value = this.value.toUpperCase()","formControlName","marca",1,"form-control"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary"],["id","qrModal","tabindex","-1","aria-labelledby","qrModalLabel","aria-hidden","true",1,"modal","fade"],["id","qrModalLabel",1,"modal-title"],[1,"modal-body"],[3,"qrdata","width","errorCorrectionLevel","allowEmptyString"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","kardexModal","tabindex","-1","aria-labelledby","kardexModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],["id","kardexModalLabel",1,"modal-title"],["id","kardexPDF"],[1,"row","details-table"],[1,"text-center"],[1,"col-sm-3","blackLbl","details-table"],[1,"col-sm-3","details-table"],[1,"table","table-bordered"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary"],[1,"badge","text-bg-primary"],["type","button",1,"btn","btn-sm","btn-outline-success",3,"click"],[1,"fa-solid","fa-paperclip"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fa-solid","fa-qrcode"],["type","button","id","editBtn","data-toggle","modal","data-target","#productoModal",1,"btn","btn-sm","btn-outline-warning",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","id","deleteBtn",1,"btn","btn-sm","btn-outline-danger","ml-1",3,"click"],[1,"fa-solid","fa-trash"],[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock",""],["elseBlock",""]],template:function(t,i){1&t&&(l.TgZ(0,"h1",0),l._uU(1,"Listado de Items"),l.qZA(),l.TgZ(2,"button",1),l.NdJ("click",function(){return i.newModal()}),l._UZ(3,"i",2),l._uU(4," Registrar nuevo"),l.qZA(),l.TgZ(5,"table",3)(6,"thead",4)(7,"tr")(8,"th",5),l._uU(9,"CODIGO"),l.qZA(),l.TgZ(10,"th",5),l._uU(11,"CLASIFICACION"),l.qZA(),l.TgZ(12,"th",5),l._uU(13,"DESCRIPCION"),l.qZA(),l.TgZ(14,"th",5),l._uU(15,"MARCA"),l.qZA(),l.TgZ(16,"th",5),l._uU(17,"KARDEX"),l.qZA(),l.TgZ(18,"th",6),l._uU(19,"COSTO UNITARIO (Bs.)"),l.qZA(),l.TgZ(20,"th",6),l._uU(21,"PRECIO VENTA (Bs.)"),l.qZA(),l.TgZ(22,"th",6),l._uU(23,"PRECIO FINAL (Bs.)"),l.qZA(),l.TgZ(24,"th",6),l._uU(25,"QR"),l.qZA(),l.TgZ(26,"th",5),l._uU(27,"OPCIONES"),l.qZA()()(),l.TgZ(28,"tbody",7),l.YNc(29,PB,30,13,"tr",8),l.ALo(30,"async"),l.qZA()(),l.TgZ(31,"div",9)(32,"button",10),l._UZ(33,"i",11),l._uU(34," Anterior"),l.qZA(),l.TgZ(35,"button",12),l.NdJ("click",function(){return i.next()}),l._uU(36," Siguiente "),l._UZ(37,"i",13),l.qZA()(),l.TgZ(38,"div",14)(39,"div",15)(40,"div",16)(41,"div",17)(42,"h5",18),l._uU(43,"Registrar Item"),l.qZA(),l._UZ(44,"button",19,20),l.qZA(),l.TgZ(46,"form",21),l.NdJ("ngSubmit",function(){return i.saveProducto()}),l.TgZ(47,"div",22)(48,"div",23)(49,"div",24)(50,"div",25)(51,"div",26)(52,"label",27),l._uU(53,"Codigo"),l.qZA(),l._UZ(54,"input",28),l.qZA()(),l.TgZ(55,"div",29)(56,"label",30),l._uU(57,"Clasificaci\xf3n"),l.qZA(),l._UZ(58,"input",31),l.qZA(),l.TgZ(59,"div",29)(60,"label",32),l._uU(61,"Descripci\xf3n"),l.qZA(),l._UZ(62,"input",33),l.qZA(),l.TgZ(63,"div",29)(64,"label",34),l._uU(65,"Marca"),l.qZA(),l._UZ(66,"input",35),l.qZA()()()(),l.TgZ(67,"div",36)(68,"button",37),l._uU(69,"Cancelar"),l.qZA(),l.TgZ(70,"button",38),l._uU(71,"Guardar"),l.qZA()()()()()(),l.TgZ(72,"div",39)(73,"div",15)(74,"div",16)(75,"div",17)(76,"h5",40),l._uU(77),l.qZA(),l._UZ(78,"button",19),l.qZA(),l.TgZ(79,"div",41)(80,"h4"),l._uU(81),l.qZA(),l.TgZ(82,"p"),l._uU(83),l.qZA(),l._UZ(84,"qrcode",42),l.qZA(),l.TgZ(85,"div",36)(86,"button",43),l._uU(87,"Cerrar"),l.qZA()()()()(),l.TgZ(88,"div",44)(89,"div",45)(90,"div",16)(91,"div",17)(92,"h5",46),l._uU(93),l.qZA(),l._UZ(94,"button",19),l.qZA(),l.TgZ(95,"div",41)(96,"div",47)(97,"div",48),l._uU(98,'Empresa Unipersonal Automotivos "MEGA"'),l.qZA(),l.TgZ(99,"div",48),l._uU(100,"De: Carla Guadalupe Huanca Apaza"),l.qZA(),l.TgZ(101,"div",48),l._uU(102,"NIT: 8315762015"),l.qZA(),l.TgZ(103,"div",48),l._uU(104,"El Alto - Bolivia"),l.qZA(),l.TgZ(105,"div",25)(106,"h2",49),l._uU(107,"TARJETA KARDEX FISICO VALORADO"),l.qZA(),l.TgZ(108,"div",25)(109,"div",50),l._uU(110,"ARTICULO:"),l.qZA(),l.TgZ(111,"div",51),l._uU(112),l.qZA(),l.TgZ(113,"div",50),l._uU(114,"UNIDAD DE MEDIDA:"),l.qZA(),l.TgZ(115,"div",51),l._uU(116,"PIEZAS"),l.qZA()(),l.TgZ(117,"div",25)(118,"div",50),l._uU(119,"EXISTENCIA MINIMA:"),l.qZA(),l.TgZ(120,"div",51),l._uU(121,"1"),l.qZA(),l.TgZ(122,"div",50),l._uU(123,"EXISTENCIA MAXIMA:"),l.qZA(),l.TgZ(124,"div",51),l._uU(125,"100"),l.qZA()(),l.TgZ(126,"div",25)(127,"div",50),l._uU(128,"CODIGO:"),l.qZA(),l.TgZ(129,"div",51),l._uU(130),l.qZA(),l.TgZ(131,"div",50),l._uU(132,"METODO:"),l.qZA(),l.TgZ(133,"div",51),l._uU(134,"CPP"),l.qZA()(),l.TgZ(135,"table",52)(136,"thead")(137,"tr")(138,"th"),l._uU(139,"FECHA"),l.qZA(),l.TgZ(140,"th"),l._uU(141,"DETALLE"),l.qZA(),l.TgZ(142,"th"),l._uU(143,"ENTRADA"),l.qZA(),l.TgZ(144,"th"),l._uU(145,"SALIDA"),l.qZA(),l.TgZ(146,"th"),l._uU(147,"SALDO"),l.qZA(),l.TgZ(148,"th"),l._uU(149,"C/U"),l.qZA(),l.TgZ(150,"th"),l._uU(151,"ENTRADA"),l.qZA(),l.TgZ(152,"th"),l._uU(153,"SALIDA"),l.qZA(),l.TgZ(154,"th"),l._uU(155,"SALDO"),l.qZA()()(),l.TgZ(156,"tbody",7),l.YNc(157,BB,13,8,"tr",8),l.qZA()()()()(),l.TgZ(158,"div",36)(159,"button",53),l._uU(160,"Cerrar"),l.qZA()()()()()),2&t&&(l.xp6(29),l.Q6J("ngForOf",l.lcZ(30,13,i.productos)),l.xp6(17),l.Q6J("formGroup",i.productoForm),l.xp6(31),l.hij("ITEM ",i.cod,""),l.xp6(4),l.Oqu(i.des),l.xp6(2),l.Oqu(i.mar),l.xp6(1),l.Q6J("qrdata",i.qrCode)("width",256)("errorCorrectionLevel","M")("allowEmptyString",!0),l.xp6(9),l.hij("ITEM ",i.cod,""),l.xp6(19),l.Oqu(i.articulo),l.xp6(18),l.Oqu(i.cod),l.xp6(27),l.Q6J("ngForOf",i.kardex))},dependencies:[Xi,wn,Vh,fd,md,_d,uu,Ec,xB,ra,$r]}),n})();function jB(n,e){if(1&n&&(l.TgZ(0,"option",26),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.s9C("value",t.id),l.xp6(1),l.HOy("",t.codigo," - ",t.clasificacion," | ",t.marca," (",t.descripcion,")")}}function HB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.ALo(11,"currency"),l.qZA(),l.TgZ(12,"td"),l._uU(13),l.qZA(),l.TgZ(14,"td"),l._uU(15),l.ALo(16,"currency"),l.qZA(),l.TgZ(17,"td")(18,"button",27),l.NdJ("click",function(){const a=l.CHM(t).index,u=l.oxw();return l.KtG(u.quitarProducto(a))}),l._UZ(19,"i",28),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.codigo),l.xp6(2),l.Oqu(t.clasificacion),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.Oqu(t.marca),l.xp6(2),l.Oqu(l.lcZ(11,7,t.precioCompra)),l.xp6(3),l.Oqu(t.cantidad),l.xp6(2),l.Oqu(l.lcZ(16,9,t.total))}}function GB(n,e){1&n&&(l.TgZ(0,"div",29)(1,"span",30),l._uU(2,"Loading..."),l.qZA()())}function $B(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"button",31),l._uU(2,"Cancelar"),l.qZA(),l.TgZ(3,"button",32),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.guardarCompras())}),l._uU(4,"Guardar"),l.qZA()()}}let qB=(()=>{class n{constructor(t,i,r,a){this.fb=t,this._db=i,this._utils=r,this.toastr=a,this.nuevasCompras=[],this.saving=!1,this.productoSeleccionado="",this.productoForm=this.fb.group({}),this.compraForm=this.fb.group({id:["",Cs.required],precioCompra:["",Cs.required],cantidad:["",Cs.required]}),this.productos=this._db.getAllProductos()}ngOnInit(){}seleccionarProducto(t){this.productoSeleccionado=t?.target.value}agregar(){if(this.compraForm.invalid)return void this.toastr.error("Debe completar todos los campos","Ocurri\xf3 un error");const t=this._db.getProducto(this.compraForm.value.id);var i=!0;t.forEach(r=>{if(i){console.log(r);let a={};a.id=r.id,a.codigo=r.codigo,a.clasificacion=r.clasificacion,a.descripcion=r.descripcion,a.marca=r.marca,a.precioCompra=this.compraForm.value.precioCompra,a.costoCompra=.87*this.compraForm.value.precioCompra,a.cantidad=this.compraForm.value.cantidad,a.precioVenta=0,a.precioFinal=0,a.total=Math.round(this.compraForm.value.precioCompra*this.compraForm.value.cantidad*100)/100,a.fecha=this._utils.getTodayTimestamp(),a.totalFac=.87*a.total,a.inventario=r.inventario>0?r.inventario+this.compraForm.value.cantidad:this.compraForm.value.cantidad,a.totalAcumulado=(r.totalAcumulado?r.totalAcumulado:0)+a.totalFac,a.costoUnitario=this.getCostoUnitario(r,a.totalFac,a.cantidad),this.nuevasCompras.push(a),console.log(a),this.compraForm.reset(),i=!1}})}getCostoUnitario(t,i,r){return t.costoUnitario>0?(t.totalAcumulado+i)/(t.inventario+r):i/r}quitarProducto(t){this.nuevasCompras.splice(t,1)}guardarCompras(){this.saving=!0,this.nuevasCompras.forEach(t=>{this._db.saveCompra(t),this.nuevasCompras=[],this.productoForm.value.costoCompra=t.costoCompra,this.productoForm.value.precioCompra=t.precioCompra,this.productoForm.value.costoUnitario=t.costoUnitario,this.productoForm.value.totalAcumulado=t.totalAcumulado,this.productoForm.value.inventario=t.inventario,this._db.updateProducto(t.id,this.productoForm.value),this.toastr.success("Registrado correctamente","Operaci\xf3n exitosa"),this.saving=!1})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(du),l.Y36(FN),l.Y36(LN),l.Y36(ly))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-compras"]],decls:58,vars:7,consts:[[1,"container"],["autocomplete","off"],[1,"modal-body","details-table"],[1,"card"],[1,"card-body"],["autocomplete","off",3,"formGroup"],[1,"row"],[1,"form-group","col-sm-12"],["for","producto"],["id","producto","formControlName","id",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-md-4"],["for","precioCompra"],["type","number","id","precioCompra","formControlName","precioCompra",1,"form-control"],["for","cantidad"],["type","number","id","cantidad","formControlName","cantidad",1,"form-control"],[1,"form-group","col-md-3"],["type","button","id","agregar",1,"btn","btn-outline-success","mt-4",3,"click"],[1,"table"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["class","spinner-border text-primary","role","status",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","button",1,"btn","btn-sm","btn-danger","ml-1",3,"click"],[1,"fas","fa-trash"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","bottomBtn"],["type","button",1,"btn","btn-primary","ml-2","bottomBtn",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"h2"),l._uU(2,"Registrar nueva compra"),l.qZA(),l.TgZ(3,"form",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"label",8),l._uU(11,"Seleccione Item"),l.qZA(),l.TgZ(12,"select",9)(13,"option",10),l._uU(14,"..."),l.qZA(),l.YNc(15,jB,2,5,"option",11),l.ALo(16,"async"),l.qZA()()(),l._UZ(17,"br"),l.TgZ(18,"div",6)(19,"div",12)(20,"label",13),l._uU(21,"Precio de compra"),l.qZA(),l._UZ(22,"input",14),l.qZA(),l.TgZ(23,"div",12)(24,"label",15),l._uU(25,"Cantidad"),l.qZA(),l._UZ(26,"input",16),l.qZA()(),l.TgZ(27,"div",6)(28,"div",17)(29,"button",18),l.NdJ("click",function(){return i.agregar()}),l._uU(30,"Agregar"),l.qZA()()()()()(),l.TgZ(31,"div",3)(32,"div",4)(33,"table",19)(34,"thead",20)(35,"tr")(36,"th",21),l._uU(37,"CODIGO DE PRODUCTO"),l.qZA(),l.TgZ(38,"th",21),l._uU(39,"CLASIFICACION"),l.qZA(),l.TgZ(40,"th",21),l._uU(41,"DESCRIPCION"),l.qZA(),l.TgZ(42,"th",21),l._uU(43,"MARCA"),l.qZA(),l.TgZ(44,"th",21),l._uU(45,"PRECIO COMPRA"),l.qZA(),l.TgZ(46,"th",21),l._uU(47,"CANTIDAD"),l.qZA(),l.TgZ(48,"th",21),l._uU(49,"TOTAL"),l.qZA(),l.TgZ(50,"th",21),l._uU(51,"QUITAR"),l.qZA()()(),l.TgZ(52,"tbody"),l.YNc(53,HB,20,11,"tr",22),l.qZA()()()()(),l._UZ(54,"br"),l.TgZ(55,"div",23),l.YNc(56,GB,3,0,"div",24),l.YNc(57,$B,5,0,"div",25),l.qZA()()()),2&t&&(l.xp6(7),l.Q6J("formGroup",i.compraForm),l.xp6(8),l.Q6J("ngForOf",l.lcZ(16,5,i.productos)),l.xp6(38),l.Q6J("ngForOf",i.nuevasCompras),l.xp6(3),l.Q6J("ngIf",1==i.saving),l.xp6(1),l.Q6J("ngIf",0==i.saving))},dependencies:[Xi,wn,Vh,x1,Aa,fd,Rm,Dd,md,_d,uu,Ec,ra,$r]}),n})();function zB(n,e){if(1&n&&(l.TgZ(0,"option",28),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.s9C("value",t.id),l.xp6(1),l.HOy("",t.codigo," - ",t.clasificacion," | ",t.marca," (",t.descripcion,")")}}function ZB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.ALo(11,"currency"),l.qZA(),l.TgZ(12,"td"),l._uU(13),l.qZA(),l.TgZ(14,"td"),l._uU(15),l.ALo(16,"currency"),l.qZA(),l.TgZ(17,"td")(18,"button",29),l.NdJ("click",function(){const a=l.CHM(t).index,u=l.oxw();return l.KtG(u.quitarProducto(a))}),l._UZ(19,"i",30),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.codigo),l.xp6(2),l.Oqu(t.clasificacion),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.Oqu(t.marca),l.xp6(2),l.Oqu(l.lcZ(11,7,t.precioFinal)),l.xp6(3),l.Oqu(t.cantidad),l.xp6(2),l.Oqu(l.lcZ(16,9,t.total))}}function WB(n,e){1&n&&(l.TgZ(0,"div",31)(1,"span",32),l._uU(2,"Loading..."),l.qZA()())}function KB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"button",33),l._uU(2,"Cancelar"),l.qZA(),l.TgZ(3,"button",34),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.guardarVentas())}),l._uU(4,"Guardar"),l.qZA()()}}const YB=[{path:"login",component:AB},{path:"inicio",component:NB},{path:"items",component:UB},{path:"compras",component:qB},{path:"ventas",component:(()=>{class n{constructor(t,i,r,a){this.fb=t,this._db=i,this._utils=r,this.toastr=a,this.nuevasVentas=[],this.saving=!1,this.productoSeleccionado="",this.precioVenta=0,this.precioFinal=0,this.margenUtilidad=.4,this.productForm=this.fb.group({}),this.ventaForm=this.fb.group({id:["",Cs.required],cantidad:["",Cs.required]}),this.productos=this._db.getAllProductos()}ngOnInit(){}seleccionarProducto(t){const i=t?.target.value,r=this._db.getProducto(i);var a=!0;r.forEach(u=>{a&&(this.precioVenta=u.costoUnitario*(1+this.margenUtilidad),this.precioFinal=this.precioVenta/.87,a=!1)})}agregar(){if(this.ventaForm.invalid)return void this.toastr.error("Debe completar todos los campos","Ocurri\xf3 un error");const t=this._db.getProducto(this.ventaForm.value.id);var i=!0;t.forEach(r=>{if(i){if(!(r.inventario>this.ventaForm.value.cantidad))return void this.toastr.error("No tiene inventario suficiente, disponible "+r.inventario,"Ocurri\xf3 un error");{let a={};a.id=r.id,a.codigo=r.codigo,a.clasificacion=r.clasificacion,a.descripcion=r.descripcion,a.marca=r.marca,a.precioCompra=r.precioCompra,a.costoCompra=r.costoCompra,a.cantidad=this.ventaForm.value.cantidad,a.precioVenta=this.precioVenta,a.precioFinal=this.precioVenta/.87,a.total=Math.round(a.precioFinal*this.ventaForm.value.cantidad*100)/100,a.fecha=this._utils.getTodayTimestamp(),a.totalFac=r.costoUnitario,a.inventario=r.inventario-this.ventaForm.value.cantidad,a.totalAcumulado=r.totalAcumulado-a.totalFac,a.costoUnitario=r.costoUnitario,console.log(a),this.nuevasVentas.push(a),this.ventaForm.reset(),this.precioVenta=0}i=!1}})}getCostoUnitario(t,i,r){return t.costoUnitario>0?Math.round((t.totalAcumulado-i)/(t.inventario-r)*100)/100:i/r}quitarProducto(t){this.nuevasVentas.splice(t,1)}guardarVentas(){this.saving=!0,this.nuevasVentas.forEach(t=>{this._db.saveVenta(t),this.nuevasVentas=[],this.productForm.value.inventario=t.inventario,this.productForm.value.totalAcumulado=t.totalAcumulado,this.productForm.value.costoUnitario=t.costoUnitario,this._db.updateProducto(t.id,this.productForm.value),this.toastr.success("Registrado correctamente","Operaci\xf3n exitosa"),this.saving=!1})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(du),l.Y36(FN),l.Y36(LN),l.Y36(ly))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-ventas"]],decls:62,vars:9,consts:[[1,"container"],["autocomplete","off"],[1,"modal-body","details-table"],[1,"card"],[1,"card-body"],["autocomplete","off",3,"formGroup"],[1,"row"],[1,"form-group","col-sm-12"],["for","producto"],["id","producto","formControlName","id",1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-md-4"],["for","precioFinal"],["type","number","id","precioFinal","readonly","",1,"form-control",3,"value"],["for","precioVenta"],["type","number","id","precioVenta","readonly","",1,"form-control",3,"value"],["for","cantidad"],["type","number","id","cantidad","formControlName","cantidad",1,"form-control"],[1,"form-group","col-md-3"],["type","button","id","agregar",1,"btn","btn-outline-success","mt-4",3,"click"],[1,"table"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["class","spinner-border text-primary","role","status",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","button",1,"btn","btn-sm","btn-danger","ml-1",3,"click"],[1,"fas","fa-trash"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","bottomBtn"],["type","button",1,"btn","btn-primary","ml-2","bottomBtn",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"h2"),l._uU(2,"Registrar nueva venta"),l.qZA(),l.TgZ(3,"form",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"label",8),l._uU(11,"Seleccione Item"),l.qZA(),l.TgZ(12,"select",9),l.NdJ("change",function(a){return i.seleccionarProducto(a)}),l.TgZ(13,"option",10),l._uU(14,"..."),l.qZA(),l.YNc(15,zB,2,5,"option",11),l.ALo(16,"async"),l.qZA()()(),l._UZ(17,"br"),l.TgZ(18,"div",6)(19,"div",12)(20,"label",13),l._uU(21,"Precio de venta (Bs.)"),l.qZA(),l._UZ(22,"input",14),l.qZA(),l.TgZ(23,"div",12)(24,"label",15),l._uU(25,"Precio sin IVA (Bs.)"),l.qZA(),l._UZ(26,"input",16),l.qZA(),l.TgZ(27,"div",12)(28,"label",17),l._uU(29,"Cantidad"),l.qZA(),l._UZ(30,"input",18),l.qZA()(),l.TgZ(31,"div",6)(32,"div",19)(33,"button",20),l.NdJ("click",function(){return i.agregar()}),l._uU(34,"Agregar"),l.qZA()()()()()(),l.TgZ(35,"div",3)(36,"div",4)(37,"table",21)(38,"thead",22)(39,"tr")(40,"th",23),l._uU(41,"CODIGO DE PRODUCTO"),l.qZA(),l.TgZ(42,"th",23),l._uU(43,"CLASIFICACION"),l.qZA(),l.TgZ(44,"th",23),l._uU(45,"DESCRIPCION"),l.qZA(),l.TgZ(46,"th",23),l._uU(47,"MARCA"),l.qZA(),l.TgZ(48,"th",23),l._uU(49,"PRECIO"),l.qZA(),l.TgZ(50,"th",23),l._uU(51,"CANTIDAD"),l.qZA(),l.TgZ(52,"th",23),l._uU(53,"TOTAL"),l.qZA(),l.TgZ(54,"th",23),l._uU(55,"QUITAR"),l.qZA()()(),l.TgZ(56,"tbody"),l.YNc(57,ZB,20,11,"tr",24),l.qZA()()()()(),l._UZ(58,"br"),l.TgZ(59,"div",25),l.YNc(60,WB,3,0,"div",26),l.YNc(61,KB,5,0,"div",27),l.qZA()()()),2&t&&(l.xp6(7),l.Q6J("formGroup",i.ventaForm),l.xp6(8),l.Q6J("ngForOf",l.lcZ(16,7,i.productos)),l.xp6(7),l.s9C("value",i.precioFinal),l.xp6(4),l.s9C("value",i.precioVenta),l.xp6(31),l.Q6J("ngForOf",i.nuevasVentas),l.xp6(3),l.Q6J("ngIf",1==i.saving),l.xp6(1),l.Q6J("ngIf",0==i.saving))},dependencies:[Xi,wn,Vh,x1,Aa,fd,Rm,Dd,md,_d,uu,Ec,ra,$r]}),n})()},{path:"**",pathMatch:"full",redirectTo:"login"}];let QB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Bw.forRoot(YB),Bw]}),n})(),JB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"bg-dark","text-center","text-lg-start","ftr","bar-color"],[1,"text-center","p-3","text-muted"],["href","https://www.muvlin.com","target","blank",1,"text-light"]],template:function(t,i){1&t&&(l.TgZ(0,"footer",0)(1,"div",1),l._uU(2," \xa9 2022 Derechos reservados "),l.TgZ(3,"a",2),l._uU(4,"MUVLIN"),l.qZA()()())}}),n})();var XB=k(1144);const eU=["addListener","removeListener"],tU=["addEventListener","removeEventListener"],nU=["on","off"];function bo(n,e,t,i){if((0,Or.m)(t)&&(i=t,t=void 0),i)return bo(n,e,t).pipe(_l(i));const[r,a]=function sU(n){return(0,Or.m)(n.addEventListener)&&(0,Or.m)(n.removeEventListener)}(n)?tU.map(u=>f=>n[u](e,f,t)):function iU(n){return(0,Or.m)(n.addListener)&&(0,Or.m)(n.removeListener)}(n)?eU.map(ak(n,e)):function rU(n){return(0,Or.m)(n.on)&&(0,Or.m)(n.off)}(n)?nU.map(ak(n,e)):[];if(!r&&(0,XB.z)(n))return(0,A.z)(u=>bo(u,e,t))((0,yr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new bi.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function ak(n,e){return t=>i=>n[t](e,i)}var oU=k(3532);const{isArray:lU}=Array;function lk(n){return 1===n.length&&lU(n[0])?n[0]:n}var DC=k(5032);function EC(...n){const e=(0,Mr.jO)(n),t=lk(n);return t.length?new bi.y(i=>{let r=t.map(()=>[]),a=t.map(()=>!1);i.add(()=>{r=a=null});for(let u=0;!i.closed&&u<t.length;u++)(0,yr.Xf)(t[u]).subscribe((0,Un.x)(i,f=>{if(r[u].push(f),r.every(_=>_.length)){const _=r.map(b=>b.shift());i.next(e?e(..._):_),r.some((b,I)=>!b.length&&a[I])&&i.complete()}},()=>{a[u]=!0,!r[u].length&&i.complete()}));return()=>{r=a=null}}):Rr.E}function Lr(n){return(0,Ri.e)((e,t)=>{(0,yr.Xf)(n).subscribe((0,Un.x)(t,()=>t.complete(),DC.Z)),!t.closed&&e.subscribe(t)})}function UN(...n){const e=(0,Mr.jO)(n);return(0,Ri.e)((t,i)=>{const r=n.length,a=new Array(r);let u=n.map(()=>!1),f=!1;for(let _=0;_<r;_++)(0,yr.Xf)(n[_]).subscribe((0,Un.x)(i,b=>{a[_]=b,!f&&!u[_]&&(u[_]=!0,(f=u.every(co.y))&&(u=null))},DC.Z));t.subscribe((0,Un.x)(i,_=>{if(f){const b=[_,...a];i.next(e?e(...b):b)}}))})}new bi.y(DC.Z),Math,Math,Math;const Cj=["*"],Hj=["dialog"];function JN(n){return"string"==typeof n}function Og(n){return null!=n}function fy(n){return(n||document.body).getBoundingClientRect()}const Nk={animation:!0,transitionTimerDelayMs:5},L3=()=>{},{transitionTimerDelayMs:V3}=Nk,Kb=new Map,wo=(n,e,t,i)=>{let r=i.context||{};const a=Kb.get(e);if(a)switch(i.runningTransition){case"continue":return Rr.E;case"stop":n.run(()=>a.transition$.complete()),r=Object.assign(a.context,r),Kb.delete(e)}const u=t(e,i.animation,r)||L3;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),gt(void 0).pipe(function P3(n){return e=>new bi.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new hn.x,_=new hn.x,b=f.pipe(function uU(...n){return e=>Fs(e,gt(...n))}(!0));Kb.set(e,{transition$:f,complete:()=>{_.next(),_.complete()},context:r});const I=function F3(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const M=bo(e,"transitionend").pipe(Lr(b),S(({target:z})=>z===e));(function ck(...n){return 1===(n=lk(n)).length?(0,yr.Xf)(n[0]):new bi.y(function cU(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,yr.Xf)(n[i]).subscribe((0,Un.x)(e,r=>{if(t){for(let a=0;a<t.length;a++)a!==i&&t[a].unsubscribe();t=null}e.next(r)})))}}(n))})(function BN(n=0,e,t=Fp.P){let i=-1;return null!=e&&((0,oU.K)(e)?t=e:i=e),new bi.y(r=>{let a=function aU(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(I+V3).pipe(Lr(b)),M,_).pipe(Lr(b)).subscribe(()=>{Kb.delete(e),n.run(()=>{u(),f.next(),f.complete()})})}),f.asObservable()};let NC=(()=>{class n{constructor(){this.animation=Nk.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zn]}),n})(),Fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zn]}),n})(),Bk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zn]}),n})(),Uk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var Vr=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Vr||(Vr={})),Vr))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Hk=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Gk(n){const e=Array.from(n.querySelectorAll(Hk)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Qk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zn,uI]}),n})(),sM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),eP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Pg{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let NH=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(nn(1)).subscribe(()=>{wo(this._zone,this._el.nativeElement,(t,i)=>{i&&fy(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return wo(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(l.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),l.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class tP{close(e){}dismiss(e){}}class MH{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new hn.x,this._dismissed=new hn.x,this._hidden=new hn.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,u)=>{this._resolve=a,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Lr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Lr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Ak(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():gt(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),EC(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Xb=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Xb||(Xb={})),Xb))();let OH=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new hn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new hn.x,this.hidden=new hn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":JN(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(nn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=EC(wo(this._zone,t,()=>t.classList.remove("show"),i),wo(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};EC(wo(this._zone,this._elRef.nativeElement,(a,u)=>{u&&fy(a),a.classList.add("show")},t),wo(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{bo(t,"keydown").pipe(Lr(this._closed$),S(r=>r.which===Vr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Xb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;bo(this._dialogEl.nativeElement,"mousedown").pipe(Lr(this._closed$),(0,We.b)(()=>i=!1),ci(()=>bo(t,"mouseup").pipe(Lr(this._closed$),nn(1))),S(({target:r})=>t===r)).subscribe(()=>{i=!0}),bo(t,"click").pipe(Lr(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Xb.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=Gk(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&wo(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Z),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&l.Gf(Hj,7),2&t){let r;l.iGM(r=l.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),l.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),l.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Cj,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),xH=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:a,paddingRight:u}=r;if(t>0){const f=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${f+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=u),r.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Z))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RH=(()=>{class n{constructor(t,i,r,a,u,f){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=a,this._rendererFactory=u,this._ngZone=f,this._activeWindowCmptHasChanged=new hn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=bo(e,"focusin").pipe(Lr(t),(0,ht.U)(a=>a.target));bo(e,"keydown").pipe(Lr(t),S(a=>a.which===Vr.Tab),UN(r)).subscribe(([a,u])=>{const[f,_]=Gk(e);(u===f||u===e)&&a.shiftKey&&(_.focus(),a.preventDefault()),u===_&&!a.shiftKey&&(f.focus(),a.preventDefault())}),i&&bo(e,"click").pipe(Lr(t),UN(r),(0,ht.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const a=r.container instanceof HTMLElement?r.container:Og(r.container)?this._document.querySelector(r.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const f=new tP,_=this._getContentRef(r.injector||t,i,f,r);let b=!1!==r.backdrop?this._attachBackdrop(a):void 0,I=this._attachWindowComponent(a,_.nodes),M=new MH(I,_,b,r.beforeDismiss);return this._registerModalRef(M),this._registerWindowCmpt(I),M.hidden.pipe(nn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),f.close=U=>{M.close(U)},f.dismiss=U=>{M.dismiss(U)},this._applyWindowOptions(I.instance,r),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),b&&b.instance&&(this._applyBackdropOptions(b.instance,r),b.changeDetectorRef.detectChanges()),I.changeDetectorRef.detectChanges(),M}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,l.LMc)(NH,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=(0,l.LMc)(OH,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{Og(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{Og(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,a){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,r):JN(i)?this._createFromString(i):this._createFromComponent(t,i,r,a):new Pg([])}_createFromTemplateRef(t,i){const a=t.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(a),new Pg([a.rootNodes],a)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new Pg([[i]])}_createFromComponent(t,i,r,a){const u=l.zs3.create({providers:[{provide:tP,useValue:r}],parent:t}),f=(0,l.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:u}),_=f.location.nativeElement;return a.scrollable&&_.classList.add("component-host-scrollable"),this._applicationRef.attachView(f.hostView),new Pg([[_]],f.hostView,f)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(Z),l.LFG(xH),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kH=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(NC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PH=(()=>{class n{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(RH),l.LFG(kH))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[PH]}),n})(),oP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zn]}),n})(),pP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zn]}),n})(),mP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zn]}),n})(),_P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zn]}),n})(),yP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zn]}),n})(),vP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zn]}),n})(),bP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zn]}),n})(),wP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function WH(){return 100}});let DP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zn]}),n})(),EP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const KH=[Pk,Fk,Bk,Uk,Qk,eP,nP,oP,EP,pP,mP,_P,yP,vP,bP,wP,DP];let YH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[KH,Pk,Fk,Bk,Uk,Qk,eP,nP,oP,EP,pP,mP,_P,yP,vP,bP,wP,DP]}),n})(),QH=(()=>{class n{constructor(t,i){this._auth=t,this.router=i,this.usuario="",this.email="",this.usuario=t.getLocalData("names")+" "+t.getLocalData("lastnames"),this.email=t.getLocalData("email")}ngOnInit(){}logout(){this._auth.clearLocalStorage(),this.router.navigateByUrl("/login")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(GI),l.Y36($i))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],decls:29,vars:2,consts:[[1,"navbar","navbar-dark","navbar-expand-lg","bg-dark","bar-color"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["id","logo","src","assets/images/logoa.jpeg"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLinkActive","active","routerLink","/inicio",1,"nav-link"],["routerLinkActive","active","routerLink","/items",1,"nav-link"],["routerLinkActive","active","routerLink","/compras",1,"nav-link"],["routerLinkActive","active","routerLink","/ventas",1,"nav-link"],[1,"navbar-text"],["id","userLbl",1,"fa-regular","fa-user"],["id","mailLbl"],["role","search","id","logoutBtn",1,"d-flex"],[1,"btn","btn-sm","btn-outline-light",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"button",4),l._UZ(5,"span",5),l.qZA(),l.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),l._uU(10,"Inicio"),l.qZA()(),l.TgZ(11,"li",8)(12,"a",10),l._uU(13,"Items"),l.qZA()(),l.TgZ(14,"li",8)(15,"a",11),l._uU(16,"Compras"),l.qZA()(),l.TgZ(17,"li",8)(18,"a",12),l._uU(19,"Ventas"),l.qZA()()(),l.TgZ(20,"span",13),l._UZ(21,"i",14),l._uU(22),l._UZ(23,"br"),l.TgZ(24,"p",15),l._uU(25),l.qZA()(),l.TgZ(26,"form",16)(27,"button",17),l.NdJ("click",function(){return i.logout()}),l._uU(28,"Cerrar sesi\xf3n"),l.qZA()()()()()),2&t&&(l.xp6(22),l.hij(" ",i.usuario," "),l.xp6(3),l.Oqu(i.email))},dependencies:[ep,tp,sM,Vh,_d]}),n})();function JH(n,e){1&n&&(l.ynx(0),l._UZ(1,"router-outlet"),l.BQk())}function XH(n,e){1&n&&(l.ynx(0),l._UZ(1,"app-header"),l.TgZ(2,"div",1),l._UZ(3,"router-outlet"),l.qZA(),l._UZ(4,"app-footer"),l.BQk())}let eG=(()=>{class n{constructor(t){this.router=t,this.title="automotivos-mega"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($i))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"content"]],template:function(t,i){1&t&&(l.YNc(0,JH,2,0,"ng-container",0),l.YNc(1,XH,5,0,"ng-container",0)),2&t&&(l.Q6J("ngIf","/login"==i.router.url),l.xp6(1),l.Q6J("ngIf","/login"!=i.router.url))},dependencies:[wn,m,JB,QH]}),n})();function CP(n){return new l.vHH(3e3,!1)}function PG(){return typeof window<"u"&&typeof window.document<"u"}function cM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function If(n){switch(n.length){case 0:return new Hb;case 1:return n[0];default:return new ik(n)}}function TP(n,e,t,i,r=new Map,a=new Map){const u=[],f=[];let _=-1,b=null;if(i.forEach(I=>{const M=I.get("offset"),U=M==_,z=U&&b||new Map;I.forEach((ne,he)=>{let we=he,je=ne;if("offset"!==he)switch(we=e.normalizePropertyName(we,u),je){case"!":je=r.get(he);break;case Yd:je=a.get(he);break;default:je=e.normalizeStyleValue(he,we,je,u)}z.set(we,je)}),U||f.push(z),b=z,_=M}),u.length)throw function EG(n){return new l.vHH(3502,!1)}();return f}function uM(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&dM(t,"start",n)));break;case"done":n.onDone(()=>i(t&&dM(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&dM(t,"destroy",n)))}}function dM(n,e,t){const a=hM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function hM(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function Pa(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function IP(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let fM=(n,e)=>!1,SP=(n,e,t)=>[],AP=null;function pM(n){const e=n.parentNode||n.host;return e===AP?null:e}(cM()||typeof Element<"u")&&(PG()?(AP=(()=>document.documentElement)(),fM=(n,e)=>{for(;e;){if(e===n)return!0;e=pM(e)}return!1}):fM=(n,e)=>n.contains(e),SP=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Fg=null,NP=!1;const MP=fM,OP=SP;let xP=(()=>{class n{validateStyleProperty(t){return function LG(n){Fg||(Fg=function VG(){return typeof document<"u"?document.body:null}()||{},NP=!!Fg.style&&"WebkitAppearance"in Fg.style);let e=!0;return Fg.style&&!function FG(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Fg.style,!e&&NP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Fg.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return MP(t,i)}getParentElement(t){return pM(t)}query(t,i,r){return OP(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new Hb(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),gM=(()=>{class n{}return n.NOOP=new xP,n})();const mM="ng-enter",LC="ng-leave",VC="ng-trigger",BC=".ng-trigger",kP="ng-animating",_M=".ng-animating";function Xd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yM(parseFloat(e[1]),e[2])}function yM(n,e){return"s"===e?1e3*n:n}function UC(n,e,t){return n.hasOwnProperty("duration")?n:function jG(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(CP()),{duration:0,delay:0,easing:""};r=yM(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=yM(parseFloat(_),f[4]));const b=f[5];b&&(u=b)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function tG(){return new l.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function nG(){return new l.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,CP())}return{duration:r,delay:a,easing:u}}(n,e,t)}function ew(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function PP(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Sf(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function LP(n,e,t){return t?e+":"+t+";":""}function VP(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=LP(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=LP(0,qG(t),n.style[t]));n.setAttribute("style",e)}function Lu(n,e,t){n.style&&(e.forEach((i,r)=>{const a=bM(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),cM()&&VP(n))}function Lg(n,e){n.style&&(e.forEach((t,i)=>{const r=bM(i);n.style[r]=""}),cM()&&VP(n))}function tw(n){return Array.isArray(n)?1==n.length?n[0]:ek(n):n}const vM=new RegExp("{{\\s*(.+?)\\s*}}","g");function BP(n){let e=[];if("string"==typeof n){let t;for(;t=vM.exec(n);)e.push(t[1]);vM.lastIndex=0}return e}function nw(n,e,t){const i=n.toString(),r=i.replace(vM,(a,u)=>{let f=e[u];return null==f&&(t.push(function rG(n){return new l.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function jC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const $G=/-+([a-z0-9])/g;function bM(n){return n.replace($G,(...e)=>e[1].toUpperCase())}function qG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Fa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function sG(n){return new l.vHH(3004,!1)}()}}function UP(n,e){return window.getComputedStyle(n)[e]}function QG(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function JG(n,e,t){if(":"==n[0]){const _=function XG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function vG(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function yG(n){return new l.vHH(3015,!1)}()),e;const r=i[1],a=i[2],u=i[3];e.push(jP(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(jP(u,r))}(i,t,e)):t.push(n),t}const qC=new Set(["true","1"]),zC=new Set(["false","0"]);function jP(n,e){const t=qC.has(n)||zC.has(n),i=qC.has(e)||zC.has(e);return(r,a)=>{let u="*"==n||n==r,f="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?qC.has(n):zC.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?qC.has(e):zC.has(e)),u&&f}}const e$=new RegExp("s*:selfs*,?","g");function wM(n,e,t,i){return new t$(n).build(e,t,i)}class t${constructor(e){this._driver=e}build(e,t,i){const r=new r$(t);return this._resetContextStyleTimingState(r),Fa(this,tw(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function aG(){return new l.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function lG(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{BP(_).forEach(b=>{u.hasOwnProperty(b)||a.add(b)})})}),a.size&&(jC(a.values()),t.errors.push(function cG(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Fa(this,tw(e.animation),t);return{type:1,matchers:QG(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Vg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Fa(this,i,t)),options:Vg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=Fa(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:Vg(e.options)}}visitAnimate(e,t){const i=function o$(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return DM(UC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=DM(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=UC(t,e);return DM(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:jb({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const b={};i.easing&&(b.easing=i.easing),u=jb(b)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===Yd?i.push(f):t.errors.push(new l.vHH(3002,!1)):i.push(PP(f));let a=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),I=b.get(_);let M=!0;I&&(a!=r&&a>=I.startTime&&r<=I.endTime&&(t.errors.push(function dG(n,e,t,i,r){return new l.vHH(3010,!1)}()),M=!1),a=I.startTime),M&&b.set(_,{startTime:a,endTime:r}),t.options&&function GG(n,e,t){const i=e.params||{},r=BP(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function iG(n){return new l.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function hG(){return new l.vHH(3011,!1)}()),i;let a=0;const u=[];let f=!1,_=!1,b=0;const I=e.steps.map(je=>{const ze=this._makeStyleAst(je,t);let st=null!=ze.offset?ze.offset:function s$(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ze.styles),Ye=0;return null!=st&&(a++,Ye=ze.offset=st),_=_||Ye<0||Ye>1,f=f||Ye<b,b=Ye,u.push(Ye),ze});_&&t.errors.push(function fG(){return new l.vHH(3012,!1)}()),f&&t.errors.push(function pG(){return new l.vHH(3200,!1)}());const M=e.steps.length;let U=0;a>0&&a<M?t.errors.push(function gG(){return new l.vHH(3202,!1)}()):0==a&&(U=1/(M-1));const z=M-1,ne=t.currentTime,he=t.currentAnimateTimings,we=he.duration;return I.forEach((je,ze)=>{const st=U>0?ze==z?1:U*ze:u[ze],Ye=st*we;t.currentTime=ne+he.delay+Ye,he.duration=Ye,this._validateStyleAst(je,t),je.offset=st,i.styles.push(je)}),i}visitReference(e,t){return{type:8,animation:Fa(this,tw(e.animation),t),options:Vg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Vg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Vg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function n$(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(e$,"")),n=n.replace(/@\*/g,BC).replace(/@\w+/g,t=>BC+"-"+t.slice(1)).replace(/:animating/g,_M),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Pa(t.collectedStyles,t.currentQuerySelector,new Map);const f=Fa(this,tw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:Vg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function mG(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:UC(e.timings,t.errors,!0);return{type:12,animation:Fa(this,tw(e.animation),t),timings:i,options:null}}}class r${constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Vg(n){return n?(n=ew(n)).params&&(n.params=function i$(n){return n?ew(n):null}(n.params)):n={},n}function DM(n,e,t){return{duration:n,delay:e,easing:t}}function EM(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class ZC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const c$=new RegExp(":enter","g"),d$=new RegExp(":leave","g");function CM(n,e,t,i,r,a=new Map,u=new Map,f,_,b=[]){return(new h$).buildKeyframes(n,e,t,i,r,a,u,f,_,b)}class h${buildKeyframes(e,t,i,r,a,u,f,_,b,I=[]){b=b||new ZC;const M=new TM(e,t,b,r,a,I,[]);M.options=_;const U=_.delay?Xd(_.delay):0;M.currentTimeline.delayNextStep(U),M.currentTimeline.setStyles([u],null,M.errors,_),Fa(this,i,M);const z=M.timelines.filter(ne=>ne.containsAnimation());if(z.length&&f.size){let ne;for(let he=z.length-1;he>=0;he--){const we=z[he];if(we.element===t){ne=we;break}}ne&&!ne.allowOnlyTimelineStyles()&&ne.setStyles([f],null,M.errors,_)}return z.length?z.map(ne=>ne.buildKeyframes()):[EM(t,[],[],[],0,U,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimateRefDelay(e.animation,t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimateRefDelay(e,t,i){const r=e.options?.delay;if(!r)return;let a;a="string"==typeof r?Xd(nw(r,e.options?.params??{},t.errors)):r,i.delayNextStep(a)}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?Xd(i.duration):null,f=null!=i.delay?Xd(i.delay):null;return 0!==u&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Fa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=WC);const u=Xd(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Fa(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Xd(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Fa(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return UC(t.params?nw(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Xd(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=WC);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,I)=>{t.currentQueryIndex=I;const M=t.createSubContext(e.options,b);a&&M.delayNextStep(a),b===t.element&&(_=M.currentTimeline),Fa(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const M=I.currentTime;Fa(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const WC={};class TM{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=WC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new KC(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Xd(i.duration)),null!=i.delay&&(r.delay=Xd(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=nw(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new TM(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=WC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new f$(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(c$,"."+this._enterClassName)).replace(d$,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!a&&0==f.length&&u.push(function _G(n){return new l.vHH(3014,!1)}()),f}}class KC{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new KC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Yd),this._currentKeyframe.set(t,Yd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},u=function p$(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,Yd)}else Sf(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of u){const b=nw(_,a,i);this._pendingStyles.set(f,b),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Yd),this._updateStyle(f,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=Sf(f,new Map,this._backFill);b.forEach((I,M)=>{"!"===I?e.add(M):I===Yd&&t.add(M)}),i||b.set("offset",_/this.duration),r.push(b)});const a=e.size?jC(e.values()):[],u=t.size?jC(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return EM(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class f$ extends KC{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=Sf(e[0]);_.set("offset",0),a.push(_);const b=Sf(e[0]);b.set("offset",$P(f)),a.push(b);const I=e.length-1;for(let M=1;M<=I;M++){let U=Sf(e[M]);const z=U.get("offset");U.set("offset",$P((t+z*i)/u)),a.push(U)}i=u,t=0,r="",e=a}return EM(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function $P(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class IM{}const g$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class m$ extends IM{normalizePropertyName(e,t){return bM(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(g$.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function oG(n,e){return new l.vHH(3005,!1)}())}return u+a}}function qP(n,e,t,i,r,a,u,f,_,b,I,M,U){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:I,totalTime:M,errors:U}}const SM={};class zP{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function _$(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,u,f,_,b,I){const M=[],U=this.ast.options&&this.ast.options.params||SM,ne=this.buildStyles(i,f&&f.params||SM,M),he=_&&_.params||SM,we=this.buildStyles(r,he,M),je=new Set,ze=new Map,st=new Map,Ye="void"===r,nt={params:y$(he,U),delay:this.ast.options?.delay},ot=I?[]:CM(e,t,this.ast.animation,a,u,ne,we,nt,b,M);let Dt=0;if(ot.forEach(Jn=>{Dt=Math.max(Jn.duration+Jn.delay,Dt)}),M.length)return qP(t,this._triggerName,i,r,Ye,ne,we,[],[],ze,st,Dt,M);ot.forEach(Jn=>{const Xn=Jn.element,Ui=Pa(ze,Xn,new Set);Jn.preStyleProps.forEach(Wi=>Ui.add(Wi));const As=Pa(st,Xn,new Set);Jn.postStyleProps.forEach(Wi=>As.add(Wi)),Xn!==t&&je.add(Xn)});const Xt=jC(je.values());return qP(t,this._triggerName,i,r,Ye,ne,we,ot,Xt,ze,st,Dt)}}function y$(n,e){const t=ew(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class v${constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=ew(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{u&&(u=nw(u,r,t));const _=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,_,u,t),i.set(_,u)})}),i}}class w${constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new v$(r.style,r.options&&r.options.params||{},i))}),ZP(this.states,"true","1"),ZP(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new zP(e,r,this.states))}),this.fallbackTransition=function D$(n,e,t){return new zP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function ZP(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const E$=new ZC;class C${constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=wM(this._driver,t,i,[]);if(i.length)throw function CG(n){return new l.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=TP(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let u;const f=new Map;if(a?(u=CM(this._driver,t,a,mM,LC,new Map,new Map,i,E$,r),u.forEach(I=>{const M=Pa(f,I.element,new Map);I.postStyleProps.forEach(U=>M.set(U,null))})):(r.push(function TG(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function IG(n){return new l.vHH(3504,!1)}();f.forEach((I,M)=>{I.forEach((U,z)=>{I.set(z,this._driver.computeStyle(M,z,Yd))})});const b=If(u.map(I=>{const M=f.get(I.element);return this._buildPlayer(I,new Map,M)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function SG(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=hM(t,"","","");return uM(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const WP="ng-animate-queued",AM="ng-animate-disabled",N$=[],KP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},M$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fl="__ng_removed";class NM{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function k$(n){return n??null}(i?e.value:e),i){const a=ew(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const iw="void",MM=new NM(iw);class O${constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ll(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function AG(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function NG(n){return new l.vHH(3303,!1)}();if(!function P$(n){return"start"==n||"done"==n}(i))throw function MG(n,e){return new l.vHH(3400,!1)}();const a=Pa(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=Pa(this._engine.statesByElement,e,new Map);return f.has(t)||(Ll(e,VC),Ll(e,VC+"-"+t),f.set(t,MM)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function OG(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new OM(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ll(e,VC),Ll(e,VC+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const b=new NM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f.set(t,b),_||(_=MM),b.value!==iw&&_.value===b.value){if(!function V$(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const he=[],we=a.matchStyles(_.value,_.params,he),je=a.matchStyles(b.value,b.params,he);he.length?this._engine.reportError(he):this._engine.afterFlush(()=>{Lg(e,we),Lu(e,je)})}return}const U=Pa(this._engine.playersByElement,e,[]);U.forEach(he=>{he.namespaceId==this.id&&he.triggerName==t&&he.queued&&he.destroy()});let z=a.matchTransition(_.value,b.value,e,b.params),ne=!1;if(!z){if(!r)return;z=a.fallbackTransition,ne=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:z,fromState:_,toState:b,player:u,isFallbackTransition:ne}),ne||(Ll(e,WP),u.onStart(()=>{gy(e,WP)})),u.onDone(()=>{let he=this.players.indexOf(u);he>=0&&this.players.splice(he,1);const we=this._engine.playersByElement.get(e);if(we){let je=we.indexOf(u);je>=0&&we.splice(je,1)}}),this.players.push(u),U.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,BC,!0);i.forEach(r=>{if(r[Fl])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(a.forEach((_,b)=>{if(u.set(b,_.value),this._triggers.has(b)){const I=this.trigger(e,b,iw,r);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&If(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,b=i.get(u)||MM,I=new NM(iw),M=new OM(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:b,toState:I,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Fl];(!a||a===KP)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ll(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=hM(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,uM(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class x${constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new O$(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const b=i.indexOf(_);i.splice(b+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(YC(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!YC(t))return;const a=t[Fl];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ll(e,AM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),gy(e,AM))}removeNode(e,t,i,r){if(YC(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Fl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return YC(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,BC,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_M,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return If(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Fl];if(t&&t.setForRemoval){if(e[Fl]=KP,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(AM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ll(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?If(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function xG(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new ZC,r=[],a=new Map,u=[],f=new Map,_=new Map,b=new Map,I=new Set;this.disabledNodes.forEach(dt=>{I.add(dt);const wt=this.driver.query(dt,".ng-animate-queued",!0);for(let Pt=0;Pt<wt.length;Pt++)I.add(wt[Pt])});const M=this.bodyNode,U=Array.from(this.statesByElement.keys()),z=JP(U,this.collectedEnterElements),ne=new Map;let he=0;z.forEach((dt,wt)=>{const Pt=mM+he++;ne.set(wt,Pt),dt.forEach(an=>Ll(an,Pt))});const we=[],je=new Set,ze=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const wt=this.collectedLeaveElements[dt],Pt=wt[Fl];Pt&&Pt.setForRemoval&&(we.push(wt),je.add(wt),Pt.hasAnimation?this.driver.query(wt,".ng-star-inserted",!0).forEach(an=>je.add(an)):ze.add(wt))}const st=new Map,Ye=JP(U,Array.from(je));Ye.forEach((dt,wt)=>{const Pt=LC+he++;st.set(wt,Pt),dt.forEach(an=>Ll(an,Pt))}),e.push(()=>{z.forEach((dt,wt)=>{const Pt=ne.get(wt);dt.forEach(an=>gy(an,Pt))}),Ye.forEach((dt,wt)=>{const Pt=st.get(wt);dt.forEach(an=>gy(an,Pt))}),we.forEach(dt=>{this.processLeaveNode(dt)})});const nt=[],ot=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(t).forEach(Pt=>{const an=Pt.player,Ki=Pt.element;if(nt.push(an),this.collectedEnterElements.length){const fr=Ki[Fl];if(fr&&fr.setForMove){if(fr.previousTriggersValues&&fr.previousTriggersValues.has(Pt.triggerName)){const Do=fr.previousTriggersValues.get(Pt.triggerName),Ks=this.statesByElement.get(Pt.element);if(Ks&&Ks.has(Pt.triggerName)){const my=Ks.get(Pt.triggerName);my.value=Do,Ks.set(Pt.triggerName,my)}}return void an.destroy()}}const ia=!M||!this.driver.containsElement(M,Ki),Br=st.get(Ki),La=ne.get(Ki),Hn=this._buildInstruction(Pt,i,La,Br,ia);if(Hn.errors&&Hn.errors.length)return void ot.push(Hn);if(ia)return an.onStart(()=>Lg(Ki,Hn.fromStyles)),an.onDestroy(()=>Lu(Ki,Hn.toStyles)),void r.push(an);if(Pt.isFallbackTransition)return an.onStart(()=>Lg(Ki,Hn.fromStyles)),an.onDestroy(()=>Lu(Ki,Hn.toStyles)),void r.push(an);const Fc=[];Hn.timelines.forEach(fr=>{fr.stretchStartingKeyframe=!0,this.disabledNodes.has(fr.element)||Fc.push(fr)}),Hn.timelines=Fc,i.append(Ki,Hn.timelines),u.push({instruction:Hn,player:an,element:Ki}),Hn.queriedElements.forEach(fr=>Pa(f,fr,[]).push(an)),Hn.preStyleProps.forEach((fr,Do)=>{if(fr.size){let Ks=_.get(Do);Ks||_.set(Do,Ks=new Set),fr.forEach((my,Ug)=>Ks.add(Ug))}}),Hn.postStyleProps.forEach((fr,Do)=>{let Ks=b.get(Do);Ks||b.set(Do,Ks=new Set),fr.forEach((my,Ug)=>Ks.add(Ug))})});if(ot.length){const dt=[];ot.forEach(wt=>{dt.push(function RG(n,e){return new l.vHH(3505,!1)}())}),nt.forEach(wt=>wt.destroy()),this.reportError(dt)}const Dt=new Map,Xt=new Map;u.forEach(dt=>{const wt=dt.element;i.has(wt)&&(Xt.set(wt,wt),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,Dt))}),r.forEach(dt=>{const wt=dt.element;this._getPreviousPlayers(wt,!1,dt.namespaceId,dt.triggerName,null).forEach(an=>{Pa(Dt,wt,[]).push(an),an.destroy()})});const Jn=we.filter(dt=>eF(dt,_,b)),Xn=new Map;QP(Xn,this.driver,ze,b,Yd).forEach(dt=>{eF(dt,_,b)&&Jn.push(dt)});const As=new Map;z.forEach((dt,wt)=>{QP(As,this.driver,new Set(dt),_,"!")}),Jn.forEach(dt=>{const wt=Xn.get(dt),Pt=As.get(dt);Xn.set(dt,new Map([...Array.from(wt?.entries()??[]),...Array.from(Pt?.entries()??[])]))});const Wi=[],Vu=[],Bu={};u.forEach(dt=>{const{element:wt,player:Pt,instruction:an}=dt;if(i.has(wt)){if(I.has(wt))return Pt.onDestroy(()=>Lu(wt,an.toStyles)),Pt.disabled=!0,Pt.overrideTotalTime(an.totalTime),void r.push(Pt);let Ki=Bu;if(Xt.size>1){let Br=wt;const La=[];for(;Br=Br.parentNode;){const Hn=Xt.get(Br);if(Hn){Ki=Hn;break}La.push(Br)}La.forEach(Hn=>Xt.set(Hn,Ki))}const ia=this._buildAnimation(Pt.namespaceId,an,Dt,a,As,Xn);if(Pt.setRealPlayer(ia),Ki===Bu)Wi.push(Pt);else{const Br=this.playersByElement.get(Ki);Br&&Br.length&&(Pt.parentPlayer=If(Br)),r.push(Pt)}}else Lg(wt,an.fromStyles),Pt.onDestroy(()=>Lu(wt,an.toStyles)),Vu.push(Pt),I.has(wt)&&r.push(Pt)}),Vu.forEach(dt=>{const wt=a.get(dt.element);if(wt&&wt.length){const Pt=If(wt);dt.setRealPlayer(Pt)}}),r.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<we.length;dt++){const wt=we[dt],Pt=wt[Fl];if(gy(wt,LC),Pt&&Pt.hasAnimation)continue;let an=[];if(f.size){let ia=f.get(wt);ia&&ia.length&&an.push(...ia);let Br=this.driver.query(wt,_M,!0);for(let La=0;La<Br.length;La++){let Hn=f.get(Br[La]);Hn&&Hn.length&&an.push(...Hn)}}const Ki=an.filter(ia=>!ia.destroyed);Ki.length?F$(this,wt,Ki):this.processLeaveNode(wt)}return we.length=0,Wi.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const wt=this.players.indexOf(dt);this.players.splice(wt,1)}),dt.play()}),Wi}elementContainsData(e,t){let i=!1;const r=t[Fl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==iw;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,I=b!==a,M=Pa(i,b,[]);this._getPreviousPlayers(b,I,u,f,t.toState).forEach(z=>{const ne=z.getRealPlayer();ne.beforeDestroy&&ne.beforeDestroy(),z.destroy(),M.push(z)})}Lg(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,b=[],I=new Set,M=new Set,U=t.timelines.map(ne=>{const he=ne.element;I.add(he);const we=he[Fl];if(we&&we.removedBeforeQueried)return new Hb(ne.duration,ne.delay);const je=he!==_,ze=function L$(n){const e=[];return XP(n,e),e}((i.get(he)||N$).map(Dt=>Dt.getRealPlayer())).filter(Dt=>!!Dt.element&&Dt.element===he),st=a.get(he),Ye=u.get(he),nt=TP(0,this._normalizer,0,ne.keyframes,st,Ye),ot=this._buildPlayer(ne,nt,ze);if(ne.subTimeline&&r&&M.add(he),je){const Dt=new OM(e,f,he);Dt.setRealPlayer(ot),b.push(Dt)}return ot});b.forEach(ne=>{Pa(this.playersByQueriedElement,ne.element,[]).push(ne),ne.onDone(()=>function R$(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,ne.element,ne))}),I.forEach(ne=>Ll(ne,kP));const z=If(U);return z.onDestroy(()=>{I.forEach(ne=>gy(ne,kP)),Lu(_,t.toStyles)}),M.forEach(ne=>{Pa(r,ne,[]).push(z)}),z}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Hb(e.duration,e.delay)}}class OM{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Hb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>uM(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Pa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function YC(n){return n&&1===n.nodeType}function YP(n,e){const t=n.style.display;return n.style.display=e??"none",t}function QP(n,e,t,i,r){const a=[];t.forEach(_=>a.push(YP(_)));const u=[];i.forEach((_,b)=>{const I=new Map;_.forEach(M=>{const U=e.computeStyle(b,M,r);I.set(M,U),(!U||0==U.length)&&(b[Fl]=M$,u.push(b))}),n.set(b,I)});let f=0;return t.forEach(_=>YP(_,a[f++])),u}function JP(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:r.has(b)?1:u(b),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function Ll(n,e){n.classList?.add(e)}function gy(n,e){n.classList?.remove(e)}function F$(n,e,t){If(t).onDone(()=>n.processLeaveNode(e))}function XP(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof ik?XP(i.players,e):e.push(i)}}function eF(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class QC{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new x$(e,t,i),this._timelineEngine=new C$(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],I=wM(this._driver,a,_,[]);if(_.length)throw function DG(n,e){return new l.vHH(3404,!1)}();f=function b$(n,e,t){return new w$(n,e,t)}(r,I,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=IP(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=IP(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let U$=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Lu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Lu(this._element,this._initialStyles),this._endStyles&&(Lu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Lg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Lg(this._element,this._endStyles),this._endStyles=null),Lu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function xM(n){let e=null;return n.forEach((t,i)=>{(function j$(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class tF{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:UP(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class H${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return MP(e,t)}getParentElement(e){return pM(e)}query(e,t,i){return OP(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b=new Map,I=u.filter(z=>z instanceof tF);(function zG(n,e){return 0===n||0===e})(i,r)&&I.forEach(z=>{z.currentSnapshot.forEach((ne,he)=>b.set(he,ne))});let M=function HG(n){return n.length?n[0]instanceof Map?n:n.map(e=>PP(e)):[]}(t).map(z=>Sf(z));M=function ZG(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<e.length;a++){let u=e[a];r.forEach(f=>u.set(f,UP(n,f)))}}return e}(e,M,b);const U=function B$(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=xM(e[0]),e.length>1&&(i=xM(e[e.length-1]))):e instanceof Map&&(t=xM(e)),t||i?new U$(n,t,i):null}(e,M);return new tF(e,M,_,U)}}let G$=(()=>{class n extends JR{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?ek(t):t;return nF(this._renderer,null,i,"register",[r]),new $$(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(Z))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class $$ extends class iB{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new q$(this._id,e,t||{},this._renderer)}}class q${constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return nF(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function nF(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const iF="@.disabled";let z$=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=u?.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(a);return I||(I=new rF("",a,this.engine),this._rendererCache.set(a,I)),I}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(u,f,t,I.name,I)};return i.data.animation.forEach(_),new Z$(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(QC),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class rF{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==iF?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Z$ extends rF{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==iF?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function W$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function K$(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let Y$=(()=>{class n extends QC{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Z),l.LFG(gM),l.LFG(IM),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const sF=[{provide:JR,useClass:G$},{provide:IM,useFactory:function Q$(){return new m$}},{provide:QC,useClass:Y$},{provide:l.FYo,useFactory:function J$(n,e,t){return new z$(n,e,t)},deps:[so,QC,l.R0b]}],RM=[{provide:gM,useFactory:()=>new H$},{provide:l.QbO,useValue:"BrowserAnimations"},...sF],oF=[{provide:gM,useClass:xP},{provide:l.QbO,useValue:"NoopAnimations"},...sF];let X$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?oF:RM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:RM,imports:[Yc]}),n})();const kM=new l.OlP("@sweetalert2/ngx-sweetalert2#swalProvider"),aF=new l.OlP("@sweetalert2/ngx-sweetalert2#fireOnInit"),lF=new l.OlP("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let cF=(()=>{class n{constructor(t){this.swalProvider=t}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const t=function i(a){return"function"==typeof a&&void 0===a.version}(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=t.then(a=>function r(a){return"function"==typeof a}(a)?a:a.default)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(kM))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function e6(){return Promise.resolve().then(k.t.bind(k,5226,19))}let t6=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[cF,{provide:kM,useValue:t.provideSwal||e6},{provide:aF,useValue:t.fireOnInit||!1},{provide:lF,useValue:t.dismissOnDestroy||!0}]}}static forChild(t={}){return{ngModule:n,providers:[...t.provideSwal?[cF,{provide:kM,useValue:t.provideSwal}]:[],...void 0!==t.fireOnInit?[{provide:aF,useValue:t.fireOnInit}]:[],...void 0!==t.dismissOnDestroy?[{provide:lF,useValue:t.dismissOnDestroy}]:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zn]}),n})();const n6={apiKey:"AIzaSyDkCeaHHfICNrBgkC-eBAAq21yux1yxt7g",authDomain:"automotivos-mega.firebaseapp.com",projectId:"automotivos-mega",storageBucket:"automotivos-mega.appspot.com",messagingSenderId:"29543287602",appId:"1:29543287602:web:0122c630d1571ecf6c652b",measurementId:"G-6HX72QBBR9"};let i6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[eG]}),n.\u0275inj=l.cJS({imports:[Yc,QB,YH,j1,zn,RB,Jr.hO.initializeApp(n6),zh,X$,IB.forRoot(),t6.forRoot()]}),n})();(0,l.G48)(),Kc().bootstrapModule(i6).catch(n=>console.error(n))},4901:qe=>{"use strict";var H={single_source_shortest_paths:function(k,l,R){var N={},B={};B[l]=0;var q,Z,Q,le,W,X,j=H.PriorityQueue.make();for(j.push(l,0);!j.empty();)for(Q in le=(q=j.pop()).cost,W=k[Z=q.value]||{})W.hasOwnProperty(Q)&&(X=le+W[Q],(typeof B[Q]>"u"||B[Q]>X)&&(B[Q]=X,j.push(Q,X),N[Q]=Z));if(typeof R<"u"&&typeof B[R]>"u"){var be=["Could not find a path from ",l," to ",R,"."].join("");throw new Error(be)}return N},extract_shortest_path_from_predecessor_list:function(k,l){for(var R=[],N=l;N;)R.push(N),N=k[N];return R.reverse(),R},find_path:function(k,l,R){var N=H.single_source_shortest_paths(k,l,R);return H.extract_shortest_path_from_predecessor_list(N,R)},PriorityQueue:{make:function(k){var N,l=H.PriorityQueue,R={};for(N in k=k||{},l)l.hasOwnProperty(N)&&(R[N]=l[N]);return R.queue=[],R.sorter=k.sorter||l.default_sorter,R},default_sorter:function(k,l){return k.cost-l.cost},push:function(k,l){this.queue.push({value:k,cost:l}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};qe.exports=H},8419:qe=>{"use strict";qe.exports=function(k){for(var l=[],R=k.length,N=0;N<R;N++){var B=k.charCodeAt(N);if(B>=55296&&B<=56319&&R>N+1){var j=k.charCodeAt(N+1);j>=56320&&j<=57343&&(B=1024*(B-55296)+j-56320+65536,N+=1)}B<128?l.push(B):B<2048?(l.push(B>>6|192),l.push(63&B|128)):B<55296||B>=57344&&B<65536?(l.push(B>>12|224),l.push(B>>6&63|128),l.push(63&B|128)):B>=65536&&B<=1114111?(l.push(B>>18|240),l.push(B>>12&63|128),l.push(B>>6&63|128),l.push(63&B|128)):l.push(239,191,189)}return new Uint8Array(l).buffer}},5867:(qe,H,k)=>{"use strict";k.d(H,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=k(9681);(0,l.registerVersion)("firebase","9.10.0","app")},127:(qe,H,k)=>{"use strict";k.d(H,{Z:()=>l.Z});var l=k(3942);l.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(qe,H,k)=>{"use strict";k.r(H);var l=k(5861),R=k(3942),N=k(2090),B=k(9681),j=k(655),q=k(1877),Z=k(4859);const be=function Te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ze=function Ee(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new q.Yd("@firebase/auth");function Be(y,...p){Ae.logLevel<=q.in.ERROR&&Ae.error(`Auth (${B.SDK_VERSION}): ${y}`,...p)}function ke(y,...p){throw Me(y,...p)}function Se(y,...p){return Me(y,...p)}function ye(y,p,m){const w=Object.assign(Object.assign({},Ze()),{[p]:m});return new N.LL("auth","Firebase",w).create(p,{appName:y.name})}function Re(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&ke(y,"argument-error"),ye(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Me(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return me.create(y,...p)}function G(y,p,...m){if(!y)throw Me(p,...m)}function _e(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Be(p),new Error(p)}function ee(y,p){y||_e(p)}const ie=new Map;function fe(y){ee(y instanceof Function,"Expected a class definition");let p=ie.get(y);return p?(ee(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ie.set(y,p),p)}function He(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function yt(){return"http:"===en()||"https:"===en()}function en(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class tn{constructor(p,m){this.shortDelay=p,this.longDelay=m,ee(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function qt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(yt()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xn(y,p){ee(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class zt{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},En=new tn(3e4,6e4);function jt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function St(y,p,m,w){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(y,p,m,w,x={}){return Gn(y,x,(0,l.Z)(function*(){let V={},de={};w&&("GET"===p?de=w:V={body:JSON.stringify(w)});const Ne=(0,N.xO)(Object.assign({key:y.config.apiKey},de)).slice(1),Xe=yield y._getAdditionalHeaders();return Xe["Content-Type"]="application/json",y.languageCode&&(Xe["X-Firebase-Locale"]=y.languageCode),zt.fetch()(Ei(y,y.config.apiHost,m,Ne),Object.assign({method:p,headers:Xe,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function Gn(y,p,m){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Ft),p);try{const x=new pi(y),V=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const de=yield V.json();if("needConfirmation"in de)throw yn(y,"account-exists-with-different-credential",de);if(V.ok&&!("errorMessage"in de))return de;{const Ne=V.ok?de.errorMessage:de.error.message,[Xe,ft]=Ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xe)throw yn(y,"credential-already-in-use",de);if("EMAIL_EXISTS"===Xe)throw yn(y,"email-already-in-use",de);if("USER_DISABLED"===Xe)throw yn(y,"user-disabled",de);const Rt=w[Xe]||Xe.toLowerCase().replace(/[_\s]+/g,"-");if(ft)throw ye(y,Rt,ft);ke(y,Rt)}}catch(x){if(x instanceof N.ZR)throw x;ke(y,"network-request-failed")}})).apply(this,arguments)}function xt(y,p,m,w){return Di.apply(this,arguments)}function Di(){return(Di=(0,l.Z)(function*(y,p,m,w,x={}){const V=yield St(y,p,m,w,x);return"mfaPendingCredential"in V&&ke(y,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function Ei(y,p,m,w){const x=`${p}${m}?${w}`;return y.config.emulator?xn(y.config,x):`${y.config.apiScheme}://${x}`}class pi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Se(this.auth,"network-request-failed")),En.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yn(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const x=Se(y,p,w);return x.customData._tokenResponse=m,x}function lt(){return(lt=(0,l.Z)(function*(y,p){return St(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Mi(y,p){return qn.apply(this,arguments)}function qn(){return(qn=(0,l.Z)(function*(y,p){return St(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ti(y,p){return pr.apply(this,arguments)}function pr(){return(pr=(0,l.Z)(function*(y,p){return St(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ar(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function An(){return(An=(0,l.Z)(function*(y,p=!1){const m=(0,N.m9)(y),w=yield m.getIdToken(p),x=bt(w);G(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const V="object"==typeof x.firebase?x.firebase:void 0,de=V?.sign_in_provider;return{claims:x,token:w,authTime:ar(Je(x.auth_time)),issuedAtTime:ar(Je(x.iat)),expirationTime:ar(Je(x.exp)),signInProvider:de||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function Je(y){return 1e3*Number(y)}function bt(y){var p;const[m,w,x]=y.split(".");if(void 0===m||void 0===w||void 0===x)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,N.tV)(w);return V?JSON.parse(V):(Be("Failed to decode base64 JWT payload"),null)}catch(V){return Be("Caught error parsing JWT payload as JSON",null===(p=V)||void 0===p?void 0:p.toString()),null}}function mi(y,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof N.ZR&&Yi(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Yi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class It{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class ls{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ar(this.lastLoginAt),this.creationTime=ar(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dn(y){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,l.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),x=yield mi(y,ti(m,{idToken:w}));G(x?.users.length,m,"internal-error");const V=x.users[0];y._notifyReloadListener(V);const de=null!==(p=V.providerUserInfo)&&void 0!==p&&p.length?te(V.providerUserInfo):[],Ne=re(y.providerData,de),Rt=!!y.isAnonymous&&!(y.email&&V.passwordHash||Ne?.length),Ct={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:Ne,metadata:new ls(V.createdAt,V.lastLoginAt),isAnonymous:Rt};Object.assign(y,Ct)})).apply(this,arguments)}function ce(){return(ce=(0,l.Z)(function*(y){const p=(0,N.m9)(y);yield dn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function re(y,p){return[...y.filter(w=>!p.some(x=>x.providerId===w.providerId)),...p]}function te(y){return y.map(p=>{var{providerId:m}=p,w=(0,j._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function oe(){return(oe=(0,l.Z)(function*(y,p){const m=yield Gn(y,{},(0,l.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:x,apiKey:V}=y.config,de=Ei(y,x,"/v1/token",`key=${V}`),Ne=yield y._getAdditionalHeaders();return Ne["Content-Type"]="application/x-www-form-urlencoded",zt.fetch()(de,{method:"POST",headers:Ne,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Le{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){G(p.idToken,"internal-error"),G(typeof p.idToken<"u","internal-error"),G(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function vn(y){const p=bt(y);return G(p,"internal-error"),G(typeof p.exp<"u","internal-error"),G(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,l.Z)(function*(){return G(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,l.Z)(function*(){const{accessToken:x,refreshToken:V,expiresIn:de}=yield function se(y,p){return oe.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(x,V,Number(de))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:x,expirationTime:V}=m,de=new Le;return w&&(G("string"==typeof w,"internal-error",{appName:p}),de.refreshToken=w),x&&(G("string"==typeof x,"internal-error",{appName:p}),de.accessToken=x),V&&(G("number"==typeof V,"internal-error",{appName:p}),de.expirationTime=V),de}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Le,this.toJSON())}_performRefresh(){return _e("not implemented")}}function et(y,p){G("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class vt{constructor(p){var{uid:m,auth:w,stsTokenManager:x}=p,V=(0,j._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new It(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new ls(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const w=yield mi(m,m.stsTokenManager.getToken(m.auth,p));return G(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function gi(y){return An.apply(this,arguments)}(this,p)}reload(){return function cn(y){return ce.apply(this,arguments)}(this)}_assign(p){this!==p&&(G(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new vt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,l.Z)(function*(){let x=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),x=!0),m&&(yield dn(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield mi(p,function $n(y,p){return lt.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,x,V,de,Ne,Xe,ft,Rt;const Ct=null!==(w=m.displayName)&&void 0!==w?w:void 0,Pi=null!==(x=m.email)&&void 0!==x?x:void 0,Gs=null!==(V=m.phoneNumber)&&void 0!==V?V:void 0,ou=null!==(de=m.photoURL)&&void 0!==de?de:void 0,Ih=null!==(Ne=m.tenantId)&&void 0!==Ne?Ne:void 0,Kr=null!==(Xe=m._redirectEventId)&&void 0!==Xe?Xe:void 0,od=null!==(ft=m.createdAt)&&void 0!==ft?ft:void 0,ad=null!==(Rt=m.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:dm,emailVerified:Sh,isAnonymous:hm,providerData:ld,stsTokenManager:Ry}=m;G(dm&&Ry,p,"internal-error");const uw=Le.fromJSON(this.name,Ry);G("string"==typeof dm,p,"internal-error"),et(Ct,p.name),et(Pi,p.name),G("boolean"==typeof Sh,p,"internal-error"),G("boolean"==typeof hm,p,"internal-error"),et(Gs,p.name),et(ou,p.name),et(Ih,p.name),et(Kr,p.name),et(od,p.name),et(ad,p.name);const vc=new vt({uid:dm,auth:p,email:Pi,emailVerified:Sh,displayName:Ct,isAnonymous:hm,photoURL:ou,phoneNumber:Gs,tenantId:Ih,stsTokenManager:uw,createdAt:od,lastLoginAt:ad});return ld&&Array.isArray(ld)&&(vc.providerData=ld.map(cd=>Object.assign({},cd))),Kr&&(vc._redirectEventId=Kr),vc}static _fromIdTokenResponse(p,m,w=!1){return(0,l.Z)(function*(){const x=new Le;x.updateFromServerResponse(m);const V=new vt({uid:m.localId,auth:p,stsTokenManager:x,isAnonymous:w});return yield dn(V),V})()}}const ln=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,w){var x=this;return(0,l.Z)(function*(){x.storage[m]=w})()}_get(m){var w=this;return(0,l.Z)(function*(){const x=w.storage[m];return void 0===x?null:x})()}_remove(m){var w=this;return(0,l.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function _i(y,p,m){return`firebase:${y}:${p}:${m}`}class Qt{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:x,name:V}=this.auth;this.fullUserKey=_i(this.userKey,x.apiKey,V),this.fullPersistenceKey=_i("persistence",x.apiKey,V),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?vt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,l.Z)(function*(){if(!m.length)return new Qt(fe(ln),p,w);const x=(yield Promise.all(m.map(function(){var ft=(0,l.Z)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return ft.apply(this,arguments)}}()))).filter(ft=>ft);let V=x[0]||fe(ln);const de=_i(w,p.config.apiKey,p.name);let Ne=null;for(const ft of m)try{const Rt=yield ft._get(de);if(Rt){const Ct=vt._fromJSON(p,Rt);ft!==V&&(Ne=Ct),V=ft;break}}catch{}const Xe=x.filter(ft=>ft._shouldAllowMigration);return V._shouldAllowMigration&&Xe.length?(V=Xe[0],Ne&&(yield V._set(de,Ne.toJSON())),yield Promise.all(m.map(function(){var ft=(0,l.Z)(function*(Rt){if(Rt!==V)try{yield Rt._remove(de)}catch{}});return function(Rt){return ft.apply(this,arguments)}}())),new Qt(V,p,w)):new Qt(V,p,w)})()}}function Gt(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Qi(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Rn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(it(p))return"Blackberry";if(At(p))return"Webos";if(si(p))return"Safari";if((p.includes("chrome/")||Ur(p))&&!p.includes("edge/"))return"Chrome";if(oi(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Rn(y=(0,N.z$)()){return/firefox\//i.test(y)}function si(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ur(y=(0,N.z$)()){return/crios\//i.test(y)}function Qi(y=(0,N.z$)()){return/iemobile/i.test(y)}function oi(y=(0,N.z$)()){return/android/i.test(y)}function it(y=(0,N.z$)()){return/blackberry/i.test(y)}function At(y=(0,N.z$)()){return/webos/i.test(y)}function pn(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function jr(y=(0,N.z$)()){return pn(y)||oi(y)||At(y)||it(y)||/windows phone/i.test(y)||Qi(y)}function Ns(y,p=[]){let m;switch(y){case"Browser":m=Gt((0,N.z$)());break;case"Worker":m=`${Gt((0,N.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${B.SDK_VERSION}/${w}`}class Eo{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=V=>new Promise((de,Ne)=>{try{de(p(V))}catch(Xe){Ne(Xe)}});w.onAbort=m,this.queue.push(w);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){var w;if(m.auth.currentUser===p)return;const x=[];try{for(const V of m.queue)yield V(p),V.onAbort&&x.push(V.onAbort)}catch(V){x.reverse();for(const de of x)try{de()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=V)||void 0===w?void 0:w.message})}})()}}class $t{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ys(this),this.idTokenSubscription=new Ys(this),this.beforeStateQueue=new Eo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=fe(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var x,V;if(!w._deleted&&(w.persistenceManager=yield Qt.create(w,p),!w._deleted)){if(null!==(x=w._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(V=w.currentUser)||void 0===V?void 0:V.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var w;const x=yield m.assertedPersistence.getCurrentUser();let V=x,de=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Ne=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Xe=V?._redirectEventId,ft=yield m.tryRedirectSignIn(p);(!Ne||Ne===Xe)&&ft?.user&&(V=ft.user,de=!0)}if(!V)return m.directlySetCurrentUser(null);if(!V._redirectEventId){if(de)try{yield m.beforeStateQueue.runMiddleware(V)}catch(Ne){V=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Ne))}return V?m.reloadAndSetCurrentUserOrClear(V):m.directlySetCurrentUser(null)}return G(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===V._redirectEventId?m.directlySetCurrentUser(V):m.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){var w;try{yield dn(p)}catch(x){if("auth/network-request-failed"!==(null===(w=x)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function tt(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const w=p?(0,N.m9)(p):null;return w&&G(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&G(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(fe(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,l.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(m);return null===p?x.removeCurrentUser():x.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&fe(p)||m._popupRedirectResolver;G(w,m,"argument-error"),m.redirectPersistenceManager=yield Qt.create(m,[fe(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var w,x;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,x){if(this._deleted)return()=>{};const V="function"==typeof m?m:m.next.bind(m),de=this._isInitialized?Promise.resolve():this._initializationPromise;return G(de,this,"internal-error"),de.then(()=>V(this.currentUser)),"function"==typeof m?p.addObserver(m,w,x):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ns(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const x=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(w["X-Firebase-Client"]=x),w})()}}function Nn(y){return(0,N.m9)(y)}class Ys{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Ms(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Oi{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return _e("not implemented")}_getIdTokenResponse(p){return _e("not implemented")}_linkToIdToken(p,m){return _e("not implemented")}_getReauthenticationResolver(p){return _e("not implemented")}}function li(y,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(y,p){return St(y,"POST","/v1/accounts:resetPassword",jt(y,p))})).apply(this,arguments)}function bn(y,p){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,l.Z)(function*(y,p){return St(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ul(y,p){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,l.Z)(function*(y,p){return St(y,"POST","/v1/accounts:update",jt(y,p))})).apply(this,arguments)}function Xi(){return(Xi=(0,l.Z)(function*(y,p){return xt(y,"POST","/v1/accounts:signInWithPassword",jt(y,p))})).apply(this,arguments)}function Os(y,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,l.Z)(function*(y,p){return St(y,"POST","/v1/accounts:sendOobCode",jt(y,p))})).apply(this,arguments)}function wn(y,p){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,l.Z)(function*(y,p){return Os(y,p)})).apply(this,arguments)}function Ti(y,p){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(y,p){return Os(y,p)})).apply(this,arguments)}function us(y,p){return To.apply(this,arguments)}function To(){return(To=(0,l.Z)(function*(y,p){return Os(y,p)})).apply(this,arguments)}function jl(y,p){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,l.Z)(function*(y,p){return Os(y,p)})).apply(this,arguments)}function Vc(){return(Vc=(0,l.Z)(function*(y,p){return xt(y,"POST","/v1/accounts:signInWithEmailLink",jt(y,p))})).apply(this,arguments)}function Js(){return(Js=(0,l.Z)(function*(y,p){return xt(y,"POST","/v1/accounts:signInWithEmailLink",jt(y,p))})).apply(this,arguments)}class Hl extends Oi{constructor(p,m,w,x=null){super("password",w),this._email=p,this._password=m,this._tenantId=x}static _fromEmailAndPassword(p,m){return new Hl(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Hl(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function Co(y,p){return Xi.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Lc(y,p){return Vc.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:ke(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return bn(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Uu(y,p){return Js.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:ke(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function yi(y,p){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,l.Z)(function*(y,p){return xt(y,"POST","/v1/accounts:signInWithIdp",jt(y,p))})).apply(this,arguments)}class ds extends Oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new ds(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):ke("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:x}=m,V=(0,j._T)(m,["providerId","signInMethod"]);if(!w||!x)return null;const de=new ds(w,x);return de.idToken=V.idToken||void 0,de.accessToken=V.accessToken||void 0,de.secret=V.secret,de.nonce=V.nonce,de.pendingToken=V.pendingToken||null,de}_getIdTokenResponse(p){return yi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,yi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,yi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,N.xO)(m)}return p}}function ju(y,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.Z)(function*(y,p){return St(y,"POST","/v1/accounts:sendVerificationCode",jt(y,p))})).apply(this,arguments)}function xs(){return(xs=(0,l.Z)(function*(y,p){return xt(y,"POST","/v1/accounts:signInWithPhoneNumber",jt(y,p))})).apply(this,arguments)}function Uc(){return(Uc=(0,l.Z)(function*(y,p){const m=yield xt(y,"POST","/v1/accounts:signInWithPhoneNumber",jt(y,p));if(m.temporaryProof)throw yn(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const th={USER_NOT_FOUND:"user-not-found"};function jc(){return(jc=(0,l.Z)(function*(y,p){return xt(y,"POST","/v1/accounts:signInWithPhoneNumber",jt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),th)})).apply(this,arguments)}class Rs extends Oi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Rs({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Rs({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Gl(y,p){return xs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function eh(y,p){return Uc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function nh(y,p){return jc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:x}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:x}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:V}=p;return w||m||x||V?new Rs({verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:V}):null}}class Xs{constructor(p){var m,w,x,V,de,Ne;const Xe=(0,N.zd)((0,N.pd)(p)),ft=null!==(m=Xe.apiKey)&&void 0!==m?m:null,Rt=null!==(w=Xe.oobCode)&&void 0!==w?w:null,Ct=function $l(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Xe.mode)&&void 0!==x?x:null);G(ft&&Rt&&Ct,"argument-error"),this.apiKey=ft,this.operation=Ct,this.code=Rt,this.continueUrl=null!==(V=Xe.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(de=Xe.languageCode)&&void 0!==de?de:null,this.tenantId=null!==(Ne=Xe.tenantId)&&void 0!==Ne?Ne:null}static parseLink(p){const m=function Hc(y){const p=(0,N.zd)((0,N.pd)(y)).link,m=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||m||p||y}(p);try{return new Xs(m)}catch{return null}}}let Gr=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Hl._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const x=Xs.parseLink(w);return G(x,"argument-error"),Hl._fromEmailAndCode(m,x.code,x.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class hs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class lr extends hs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class $r extends lr{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return G("providerId"in m&&"signInMethod"in m,"argument-error"),ds._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return G(p.idToken||p.accessToken,"argument-error"),ds._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return $r.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return $r.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:V,nonce:de,providerId:Ne}=p;if(!w&&!x&&!m&&!V||!Ne)return null;try{return new $r(Ne)._credential({idToken:m,accessToken:w,nonce:de,pendingToken:V})}catch{return null}}}let sa=(()=>{class y extends lr{constructor(){super("facebook.com")}static credential(m){return ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ja=(()=>{class y extends lr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:x}=m;if(!w&&!x)return null;try{return y.credential(w,x)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ha=(()=>{class y extends lr{constructor(){super("github.com")}static credential(m){return ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class zn extends Oi{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return yi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,yi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,yi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:x,pendingToken:V}=m;return w&&x&&V&&w===x?new zn(w,V):null}static _create(p,m){return new zn(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gr extends hs{constructor(p){G(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return gr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return gr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=zn.fromJSON(p);return G(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return zn._create(w,m)}catch{return null}}}let cr=(()=>{class y extends lr{constructor(){super("twitter.com")}static credential(m,w){return ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=m;if(!w||!x)return null;try{return y.credential(w,x)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Io(y,p){return ql.apply(this,arguments)}function ql(){return(ql=(0,l.Z)(function*(y,p){return xt(y,"POST","/v1/accounts:signUp",jt(y,p))})).apply(this,arguments)}class xi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,x=!1){return(0,l.Z)(function*(){const V=yield vt._fromIdTokenResponse(p,w,x),de=Gu(w);return new xi({user:V,providerId:de,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const x=Gu(w);return new xi({user:p,providerId:x,_tokenResponse:w,operationType:m})})()}}function Gu(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Zn(){return(Zn=(0,l.Z)(function*(y){var p;const m=Nn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new xi({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Io(m,{returnSecureToken:!0}),x=yield xi._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Ga extends N.ZR{constructor(p,m,w,x){var V;super(m.code,m.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,Ga.prototype),this.customData={appName:p.name,tenantId:null!==(V=p.tenantId)&&void 0!==V?V:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,x){return new Ga(p,m,w,x)}}function $u(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?Ga._fromErrorAndOperation(y,V,p,w):V})}function ur(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Ao(){return(Ao=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y);yield on(!0,m,p);const{providerUserInfo:w}=yield Mi(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),x=ur(w||[]);return m.providerData=m.providerData.filter(V=>x.has(V.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function No(y,p){return ps.apply(this,arguments)}function ps(){return(ps=(0,l.Z)(function*(y,p,m=!1){const w=yield mi(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return xi._forOperation(y,"link",w)})).apply(this,arguments)}function on(y,p,m){return $a.apply(this,arguments)}function $a(){return($a=(0,l.Z)(function*(y,p,m){yield dn(p);const x=!1===y?"provider-already-linked":"no-such-provider";G(ur(p.providerData).has(m)===y,p.auth,x)})).apply(this,arguments)}function eo(y,p){return qa.apply(this,arguments)}function qa(){return(qa=(0,l.Z)(function*(y,p,m=!1){var w;const{auth:x}=y,V="reauthenticate";try{const de=yield mi(y,$u(x,V,p,y),m);G(de.idToken,x,"internal-error");const Ne=bt(de.idToken);G(Ne,x,"internal-error");const{sub:Xe}=Ne;return G(y.uid===Xe,x,"user-mismatch"),xi._forOperation(y,V,de)}catch(de){throw"auth/user-not-found"===(null===(w=de)||void 0===w?void 0:w.code)&&ke(x,"user-mismatch"),de}})).apply(this,arguments)}function Sr(y,p){return za.apply(this,arguments)}function za(){return(za=(0,l.Z)(function*(y,p,m=!1){const w="signIn",x=yield $u(y,w,p),V=yield xi._fromIdTokenResponse(y,w,x);return m||(yield y._updateCurrentUser(V.user)),V})).apply(this,arguments)}function kn(y,p){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,l.Z)(function*(y,p){return Sr(Nn(y),p)})).apply(this,arguments)}function oa(y,p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y);return yield on(!1,m,p.providerId),No(m,p)})).apply(this,arguments)}function Za(y,p){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,l.Z)(function*(y,p){return eo((0,N.m9)(y),p)})).apply(this,arguments)}function zl(y,p){return gs.apply(this,arguments)}function gs(){return(gs=(0,l.Z)(function*(y,p){return xt(y,"POST","/v1/accounts:signInWithCustomToken",jt(y,p))})).apply(this,arguments)}function aa(){return(aa=(0,l.Z)(function*(y,p){const m=Nn(y),w=yield zl(m,{token:p,returnSecureToken:!0}),x=yield xi._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Ve{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Jt._fromServerResponse(p,m):ke(p,"internal-error")}}class Jt extends Ve{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Jt(m)}}function Ka(y,p,m){var w;G((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),G(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(G(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(G(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Bn(){return(Bn=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),x={requestType:"PASSWORD_RESET",email:p};m&&Ka(w,x,m),yield Ti(w,x)})).apply(this,arguments)}function xo(){return(xo=(0,l.Z)(function*(y,p,m){yield li((0,N.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Ro(){return(Ro=(0,l.Z)(function*(y,p){yield Ul((0,N.m9)(y),{oobCode:p})})).apply(this,arguments)}function la(y,p){return ca.apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y),w=yield li(m,{oobCode:p}),x=w.requestType;switch(G(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(w.mfaInfo,m,"internal-error");default:G(w.email,m,"internal-error")}let V=null;return w.mfaInfo&&(V=Ve._fromServerResponse(Nn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:V},operation:x}})).apply(this,arguments)}function Wl(){return(Wl=(0,l.Z)(function*(y,p){const{data:m}=yield la((0,N.m9)(y),p);return m.email})).apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(y,p,m){const w=Nn(y),x=yield Io(w,{returnSecureToken:!0,email:p,password:m}),V=yield xi._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(V.user),V})).apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),x={requestType:"EMAIL_SIGNIN",email:p};G(m.handleCodeInApp,w,"argument-error"),m&&Ka(w,x,m),yield us(w,x)})).apply(this,arguments)}function ua(){return(ua=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),x=Gr.credentialWithLink(p,m||He());return G(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),kn(w,x)})).apply(this,arguments)}function rh(y,p){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(y,p){return St(y,"POST","/v1/accounts:createAuthUri",jt(y,p))})).apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(y,p){const w={identifier:p,continueUri:yt()?He():"http://localhost"},{signinMethods:x}=yield rh((0,N.m9)(y),w);return x||[]})).apply(this,arguments)}function ha(){return(ha=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y),x={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Ka(m.auth,x,p);const{email:V}=yield wn(m.auth,x);V!==y.email&&(yield y.reload())})).apply(this,arguments)}function fa(){return(fa=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Ka(w.auth,V,m);const{email:de}=yield jl(w.auth,V);de!==y.email&&(yield y.reload())})).apply(this,arguments)}function tl(y,p){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,l.Z)(function*(y,p){return St(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function nl(){return(nl=(0,l.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,N.m9)(y),V={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},de=yield mi(w,tl(w.auth,V));w.displayName=de.displayName||null,w.photoURL=de.photoUrl||null;const Ne=w.providerData.find(({providerId:Xe})=>"password"===Xe);Ne&&(Ne.displayName=w.displayName,Ne.photoURL=w.photoURL),yield w._updateTokensIfNecessary(de)})).apply(this,arguments)}function io(y,p,m){return rl.apply(this,arguments)}function rl(){return(rl=(0,l.Z)(function*(y,p,m){const{auth:w}=y,V={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(V.email=p),m&&(V.password=m);const de=yield mi(y,bn(w,V));yield y._updateTokensIfNecessary(de,!0)})).apply(this,arguments)}class tr{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Mn extends tr{constructor(p,m,w,x){super(p,m,w),this.username=x}}class $c extends tr{constructor(p,m){super(p,"facebook.com",m)}}class Xl extends Mn{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class qu extends tr{constructor(p,m){super(p,"google.com",m)}}class ec extends Mn{constructor(p,m,w){super(p,"twitter.com",m,w)}}function sl(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function vi(y){var p,m;if(!y)return null;const{providerId:w}=y,x=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},V=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const de=null===(m=null===(p=bt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(de)return new tr(V,"anonymous"!==de&&"custom"!==de?de:null)}if(!w)return null;switch(w){case"facebook.com":return new $c(V,x);case"github.com":return new Xl(V,x);case"google.com":return new qu(V,x);case"twitter.com":return new ec(V,x,y.screenName||null);case"custom":case"anonymous":return new tr(V,null);default:return new tr(V,w,x)}}(m)}class ro{constructor(p,m,w){this.type=p,this.credential=m,this.auth=w}static _fromIdtoken(p,m){return new ro("enroll",p,m)}static _fromMfaPendingCredential(p){return new ro("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return ro._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return ro._fromIdtoken(p.multiFactorSession.idToken)}return null}}class pa{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=Nn(p),x=m.customData._serverResponse,V=(x.mfaInfo||[]).map(Ne=>Ve._fromServerResponse(w,Ne));G(x.mfaPendingCredential,w,"internal-error");const de=ro._fromMfaPendingCredential(x.mfaPendingCredential);return new pa(de,V,function(){var Ne=(0,l.Z)(function*(Xe){const ft=yield Xe._process(w,de);delete x.mfaInfo,delete x.mfaPendingCredential;const Rt=Object.assign(Object.assign({},x),{idToken:ft.idToken,refreshToken:ft.refreshToken});switch(m.operationType){case"signIn":const Ct=yield xi._fromIdTokenResponse(w,m.operationType,Rt);return yield w._updateCurrentUser(Ct.user),Ct;case"reauthenticate":return G(m.user,w,"internal-error"),xi._forOperation(m.user,m.operationType,Rt);default:ke(w,"internal-error")}});return function(Xe){return Ne.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}function ol(y,p){return St(y,"POST","/v2/accounts/mfaEnrollment:start",jt(y,p))}class Fo{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Ve._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Fo(p)}getSession(){var p=this;return(0,l.Z)(function*(){return ro._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var w=this;return(0,l.Z)(function*(){const x=p,V=yield w.getSession(),de=yield mi(w.user,x._process(w.user.auth,V,m));return yield w.user._updateTokensIfNecessary(de),w.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){var w;const x="string"==typeof p?p:p.uid,V=yield m.user.getIdToken(),de=yield mi(m.user,function Ar(y,p){return St(y,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(y,p))}(m.user.auth,{idToken:V,mfaEnrollmentId:x}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Ne})=>Ne!==x),yield m.user._updateTokensIfNecessary(de);try{yield m.user.reload()}catch(Ne){if("auth/user-token-expired"!==(null===(w=Ne)||void 0===w?void 0:w.code))throw Ne}})()}}const so=new WeakMap,oo="__sak";class ll{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(oo,"1"),this.storage.removeItem(oo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const E=(()=>{class y extends ll{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ga(){const y=(0,N.z$)();return si(y)||pn(y)}()&&function Yt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),V=this.localCache[w];x!==V&&m(w,V,x)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((Ne,Xe,ft)=>{this.notifyListeners(Ne,ft)});const x=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ne=this.storage.getItem(x);if(m.newValue!==Ne)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!w)return}const V=()=>{const Ne=this.storage.getItem(x);!w&&this.localCache[x]===Ne||this.notifyListeners(x,Ne)},de=this.storage.getItem(x);!function ai(){return(0,N.w1)()&&10===document.documentMode}()||de===m.newValue||m.newValue===m.oldValue?V():setTimeout(V,10)}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const V of Array.from(x))V(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var x=()=>super._set,V=this;return(0,l.Z)(function*(){yield x().call(V,m,w),V.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,x=this;return(0,l.Z)(function*(){const V=yield w().call(x,m);return x.localCache[m]=JSON.stringify(V),V})()}_remove(m){var w=()=>super._remove,x=this;return(0,l.Z)(function*(){yield w().call(x,m),delete x.localCache[m]})()}}return y.type="LOCAL",y})(),P=(()=>{class y extends ll{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let xe=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(V=>V.isListeningto(m));if(w)return w;const x=new y(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,l.Z)(function*(){const x=m,{eventId:V,eventType:de,data:Ne}=x.data,Xe=w.handlersMap[de];if(!Xe?.size)return;x.ports[0].postMessage({status:"ack",eventId:V,eventType:de});const ft=Array.from(Xe).map(function(){var Ct=(0,l.Z)(function*(Pi){return Pi(x.origin,Ne)});return function(Pi){return Ct.apply(this,arguments)}}()),Rt=yield function J(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(ft);x.ports[0].postMessage({status:"done",eventId:V,eventType:de,response:Rt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ct(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class Pn{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var x=this;return(0,l.Z)(function*(){const V=typeof MessageChannel<"u"?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let de,Ne;return new Promise((Xe,ft)=>{const Rt=ct("",20);V.port1.start();const Ct=setTimeout(()=>{ft(new Error("unsupported_event"))},w);Ne={messageChannel:V,onMessage(Pi){const Gs=Pi;if(Gs.data.eventId===Rt)switch(Gs.data.status){case"ack":clearTimeout(Ct),de=setTimeout(()=>{ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(de),Xe(Gs.data.response);break;default:clearTimeout(Ct),clearTimeout(de),ft(new Error("invalid_response"))}}},x.handlers.add(Ne),V.port1.addEventListener("message",Ne.onMessage),x.target.postMessage({eventType:p,eventId:Rt,data:m},[V.port2])}).finally(()=>{Ne&&x.removeMessageHandler(Ne)})})()}}function gn(){return window}function _s(){return typeof gn().WorkerGlobalScope<"u"&&"function"==typeof gn().importScripts}function rc(){return(rc=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Vo="firebaseLocalStorageDb",Bo="firebaseLocalStorage",Yc="fbase_key";class ma{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function sc(y,p){return y.transaction([Bo],p?"readwrite":"readonly").objectStore(Bo)}function cl(){const y=indexedDB.open(Vo,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Bo,{keyPath:Yc})}catch(x){m(x)}}),y.addEventListener("success",(0,l.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Bo)?p(w):(w.close(),yield function oh(){const y=indexedDB.deleteDatabase(Vo);return new ma(y).toPromise()}(),p(yield cl()))}))})}function ao(y,p,m){return zu.apply(this,arguments)}function zu(){return(zu=(0,l.Z)(function*(y,p,m){const w=sc(y,!0).put({[Yc]:p,value:m});return new ma(w).toPromise()})).apply(this,arguments)}function oc(){return(oc=(0,l.Z)(function*(y,p){const m=sc(y,!1).get(p),w=yield new ma(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function _a(y,p){const m=sc(y,!0).delete(p);return new ma(m).toPromise()}const ul=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield cl()),m.db})()}_withRetries(m){var w=this;return(0,l.Z)(function*(){let x=0;for(;;)try{const V=yield w._openDb();return yield m(V)}catch(V){if(x++>3)throw V;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return _s()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=xe._getInstance(function Kc(){return _s()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(x,V){return{keyProcessed:(yield m._poll()).includes(V.key)}});return function(x,V){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(x,V){return["keyChanged"]});return function(x,V){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var w,x;if(m.activeServiceWorker=yield function ys(){return rc.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Pn(m.activeServiceWorker);const V=yield m.sender._send("ping",{},800);!V||(null===(w=V[0])||void 0===w?void 0:w.fulfilled)&&(null===(x=V[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Wc(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield cl();return yield ao(m,oo,"1"),yield _a(m,oo),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var x=this;return(0,l.Z)(function*(){return x._withPendingWrite((0,l.Z)(function*(){return yield x._withRetries(V=>ao(V,m,w)),x.localCache[m]=w,x.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,l.Z)(function*(){const x=yield w._withRetries(V=>function Qc(y,p){return oc.apply(this,arguments)}(V,m));return w.localCache[m]=x,x})()}_remove(m){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(x=>_a(x,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const w=yield m._withRetries(de=>{const Ne=sc(de,!1).getAll();return new ma(Ne).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const x=[],V=new Set;for(const{fbase_key:de,value:Ne}of w)V.add(de),JSON.stringify(m.localCache[de])!==JSON.stringify(Ne)&&(m.notifyListeners(de,Ne),x.push(de));for(const de of Object.keys(m.localCache))m.localCache[de]&&!V.has(de)&&(m.notifyListeners(de,null),x.push(de));return x})()}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const V of Array.from(x))V(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function dl(y,p){return St(y,"POST","/v2/accounts/mfaSignIn:start",jt(y,p))}function Uo(){return(Uo=(0,l.Z)(function*(y){return(yield St(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fl(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=x=>{const V=Se("internal-error");V.customData=x,m(V)},w.type="text/javascript",w.charset="UTF-8",function hl(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function eu(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ac=1e12;class Fn{constructor(p){this.auth=p,this.counter=ac,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Hg(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||ac;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||ac))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var w;return null===(w=m._widgets.get(p||ac))||void 0===w||w.execute(),""})()}}class Hg{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof p?document.getElementById(p):p;G(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _y(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Gg=eu("rcb"),yy=new tn(3e4,6e4);class Af{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=gn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return G(function rw(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(gn().grecaptcha):new Promise((w,x)=>{const V=gn().setTimeout(()=>{x(Se(p,"network-request-failed"))},yy.get());gn()[Gg]=()=>{gn().clearTimeout(V),delete gn()[Gg];const Ne=gn().grecaptcha;if(!Ne)return void x(Se(p,"internal-error"));const Xe=Ne.render;Ne.render=(ft,Rt)=>{const Ct=Xe(ft,Rt);return this.counter++,Ct},this.hostLanguage=m,w(Ne)},fl(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Gg,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(V),x(Se(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=gn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gl{load(p){return(0,l.Z)(function*(){return new Fn(p)})()}clearedOneInstance(){}}const $g="recaptcha",qg={theme:"light",type:"image"};class Gi{constructor(p,m=Object.assign({},qg),w){this.parameters=m,this.type=$g,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nn(w),this.isInvisible="invisible"===this.parameters.size,G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof p?document.getElementById(p):p;G(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gl:new Af,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(V=>{const de=Ne=>{!Ne||(p.tokenChangeListeners.delete(de),V(Ne))};p.tokenChangeListeners.add(de),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=gn()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){G(yt()&&!_s(),p.auth,"internal-error"),yield function Sn(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Nr(y){return Uo.apply(this,arguments)}(p.auth);G(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Mr{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Rs._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function hn(){return(hn=(0,l.Z)(function*(y,p,m){const w=Nn(y),x=yield jo(w,p,(0,N.m9)(m));return new Mr(x,V=>kn(w,V))})).apply(this,arguments)}function vs(){return(vs=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);yield on(!1,w,"phone");const x=yield jo(w.auth,p,(0,N.m9)(m));return new Mr(x,V=>oa(w,V))})).apply(this,arguments)}function bi(){return(bi=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),x=yield jo(w.auth,p,(0,N.m9)(m));return new Mr(x,V=>Za(w,V))})).apply(this,arguments)}function jo(y,p,m){return tu.apply(this,arguments)}function tu(){return(tu=(0,l.Z)(function*(y,p,m){var w;const x=yield m.verify();try{let V;if(G("string"==typeof x,y,"argument-error"),G(m.type===$g,y,"argument-error"),V="string"==typeof p?{phoneNumber:p}:p,"session"in V){const de=V.session;if("phoneNumber"in V)return G("enroll"===de.type,y,"internal-error"),(yield ol(y,{idToken:de.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{G("signin"===de.type,y,"internal-error");const Ne=(null===(w=V.multiFactorHint)||void 0===w?void 0:w.uid)||V.multiFactorUid;return G(Ne,y,"missing-multi-factor-info"),(yield dl(y,{mfaPendingCredential:de.credential,mfaEnrollmentId:Ne,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:de}=yield ju(y,{phoneNumber:V.phoneNumber,recaptchaToken:x});return de}}finally{m._reset()}})).apply(this,arguments)}function Wu(){return(Wu=(0,l.Z)(function*(y,p){yield No((0,N.m9)(y),p)})).apply(this,arguments)}let cc=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Nn(m)}verifyPhoneNumber(m,w){return jo(this.auth,m,(0,N.m9)(w))}static credential(m,w){return Rs._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:x}=m;return w&&x?Rs._fromTokenResponse(w,x):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ml(y,p){return p?fe(p):(G(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class co extends Oi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return yi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return yi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return yi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function ht(y){return Sr(y.auth,new co(y),y.bypassAuthState)}function uc(y){const{auth:p,user:m}=y;return G(m,p,"internal-error"),eo(m,new co(y),y.bypassAuthState)}function Ho(y){return _l.apply(this,arguments)}function _l(){return(_l=(0,l.Z)(function*(y){const{auth:p,user:m}=y;return G(m,p,"internal-error"),No(m,new co(y),y.bypassAuthState)})).apply(this,arguments)}class yl{constructor(p,m,w,x,V=!1){this.auth=p,this.resolver=w,this.user=x,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(w,x){p.pendingPromise={resolve:w,reject:x};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(V){p.reject(V)}});return function(w,x){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:V,tenantId:de,error:Ne,type:Xe}=p;if(Ne)return void m.reject(Ne);const ft={auth:m.auth,requestUri:w,sessionId:x,tenantId:de||void 0,postBody:V||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Xe)(ft))}catch(Rt){m.reject(Rt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ht;case"linkViaPopup":case"linkViaRedirect":return Ho;case"reauthViaPopup":case"reauthViaRedirect":return uc;default:ke(this.auth,"internal-error")}}resolve(p){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Un=new tn(2e3,1e4);function Go(){return(Go=(0,l.Z)(function*(y,p,m){const w=Nn(y);Re(y,p,hs);const x=ml(w,m);return new Fs(w,"signInViaPopup",p,x).executeNotNull()})).apply(this,arguments)}function Yu(){return(Yu=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Re(w.auth,p,hs);const x=ml(w.auth,m);return new Fs(w.auth,"reauthViaPopup",p,x,w).executeNotNull()})).apply(this,arguments)}function dc(){return(dc=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Re(w.auth,p,hs);const x=ml(w.auth,m);return new Fs(w.auth,"linkViaPopup",p,x,w).executeNotNull()})).apply(this,arguments)}let Fs=(()=>{class y extends yl{constructor(m,w,x,V,de){super(m,w,V,de),this.provider=x,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const w=yield m.execute();return G(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,l.Z)(function*(){ee(1===m.filter.length,"Popup operations only handle one event");const w=ct();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(Se(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,x;this.pollId=null!==(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Un.get())};m()}}return y.currentPopupAction=null,y})();const bs=new Map;class Qu extends yl{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let w=bs.get(m.auth._key());if(!w){try{const V=(yield function Or(y,p){return xr.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(V)}catch(x){w=()=>Promise.reject(x)}bs.set(m.auth._key(),w)}return m.bypassAuthState||bs.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const x=yield w.auth._redirectUserForId(p.eventId);if(x)return w.user=x,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function xr(){return(xr=(0,l.Z)(function*(y,p){const m=ci(p),w=uo(y);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(m));return yield w._remove(m),x})).apply(this,arguments)}function Rr(y,p){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,l.Z)(function*(y,p){return uo(y)._set(ci(p),"true")})).apply(this,arguments)}function $o(y,p){bs.set(y._key(),p)}function uo(y){return fe(y._redirectPersistence)}function ci(y){return _i("pendingRedirect",y.config.apiKey,y.name)}function S(){return(S=(0,l.Z)(function*(y,p,m){const w=Nn(y);Re(y,p,hs);const x=ml(w,m);return yield Rr(x,w),x._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function K(){return(K=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Re(w.auth,p,hs);const x=ml(w.auth,m);yield Rr(x,w.auth);const V=yield Et(w);return x._openRedirect(w.auth,p,"reauthViaRedirect",V)})).apply(this,arguments)}function Fe(){return(Fe=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Re(w.auth,p,hs);const x=ml(w.auth,m);yield on(!1,w,p.providerId),yield Rr(x,w.auth);const V=yield Et(w);return x._openRedirect(w.auth,p,"linkViaRedirect",V)})).apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(y,p){return yield Nn(y)._initializationPromise,Ot(y,p,!1)})).apply(this,arguments)}function Ot(y,p){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,l.Z)(function*(y,p,m=!1){const w=Nn(y),x=ml(w,p),de=yield new Qu(w,x,m).execute();return de&&!m&&(delete de.user._redirectEventId,yield w._persistUserIfCurrent(de.user),yield w._setRedirectUser(null,p)),de})).apply(this,arguments)}function Et(y){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(y){const p=ct(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class ba{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Vs(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ut(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!Ut(p)){const x=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Se(this.auth,x))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qo(p))}saveEventToCache(p){this.cachedEventUids.add(qo(p)),this.lastProcessedEventTime=Date.now()}}function qo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Ut({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function zo(y){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(y,p={}){return St(y,"GET","/v1/projects",p)})).apply(this,arguments)}const vl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wa=/^https?/;function Nf(){return(Nf=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield zo(y);for(const m of p)try{if(Wg(m))return}catch{}ke(y,"unauthorized-domain")})).apply(this,arguments)}function Wg(y){const p=He(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const de=new URL(y);return""===de.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&de.hostname===w}if(!wa.test(m))return!1;if(vl.test(y))return w===y;const x=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const Kg=new tn(3e4,6e4);function by(){const y=gn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Bs=null;function Mf(y){return Bs=Bs||function ki(y){return new Promise((p,m)=>{var w,x,V;function de(){by(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{by(),m(Se(y,"network-request-failed"))},timeout:Kg.get()})}if(null!==(x=null===(w=gn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==x&&x.Iframe)p(gapi.iframes.getContext());else{if(null===(V=gn().gapi)||void 0===V||!V.load){const Ne=eu("iframefcb");return gn()[Ne]=()=>{gapi.load?de():m(Se(y,"network-request-failed"))},fl(`https://apis.google.com/js/api.js?onload=${Ne}`).catch(Xe=>m(Xe))}de()}}).catch(p=>{throw Bs=null,p})}(y),Bs}const Yg=new tn(5e3,15e3),wy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qg(y){const p=y.config;G(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?xn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:B.SDK_VERSION},x=xf.get(y.config.apiHost);x&&(w.eid=x);const V=y._getFrameworks();return V.length&&(w.fw=V.join(",")),`${m}?${(0,N.xO)(w).slice(1)}`}function hc(){return hc=(0,l.Z)(function*(y){const p=yield Mf(y),m=gn().gapi;return G(m,y,"internal-error"),p.open({where:document.body,url:Qg(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wy,dontclear:!0},w=>new Promise(function(){var x=(0,l.Z)(function*(V,de){yield w.restyle({setHideOnLeave:!1});const Ne=Se(y,"network-request-failed"),Xe=gn().setTimeout(()=>{de(Ne)},Yg.get());function ft(){gn().clearTimeout(Xe),V(w)}w.ping(ft).then(ft,()=>{de(Ne)})});return function(V,de){return x.apply(this,arguments)}}()))}),hc.apply(this,arguments)}const ah={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ju{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ca(y,p,m,w,x,V){G(y.config.authDomain,y,"auth-domain-config-required"),G(y.config.apiKey,y,"invalid-api-key");const de={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:B.SDK_VERSION,eventId:x};if(p instanceof hs){p.setDefaultLanguage(y.languageCode),de.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(de.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Xe,ft]of Object.entries(V||{}))de[Xe]=ft}if(p instanceof lr){const Xe=p.getScopes().filter(ft=>""!==ft);Xe.length>0&&(de.scopes=Xe.join(","))}y.tenantId&&(de.tid=y.tenantId);const Ne=de;for(const Xe of Object.keys(Ne))void 0===Ne[Xe]&&delete Ne[Xe];return`${function uh({config:y}){return y.emulator?xn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(Ne).slice(1)}`}const pc="webStorageSupport";class Ds extends class Dy{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return _e("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ds(p)}_finalizeEnroll(p,m,w){return function al(y,p){return St(y,"POST","/v2/accounts/mfaEnrollment:finalize",jt(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Xc(y,p){return St(y,"POST","/v2/accounts/mfaSignIn:finalize",jt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ta=(()=>{class y{constructor(){}static assertion(m){return Ds._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var kf="@firebase/auth";class Ey{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var x;p((null===(x=w)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bl(){return window}function Lf(){return(Lf=(0,l.Z)(function*(y,p,m){var w;const{BuildInfo:x}=bl();ee(p.sessionId,"AuthEvent did not contain a session ID");const V=yield Ny(p.sessionId),de={};return pn()?de.ibi=x.packageName:oi()?de.apn=x.packageName:ke(y,"operation-not-supported-in-this-environment"),x.displayName&&(de.appDisplayName=x.displayName),de.sessionId=V,Ca(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,de)})).apply(this,arguments)}function wl(){return(wl=(0,l.Z)(function*(y){const{BuildInfo:p}=bl(),m={};pn()?m.iosBundleId=p.packageName:oi()?m.androidPackageName=p.packageName:ke(y,"operation-not-supported-in-this-environment"),yield zo(y,m)})).apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(function*(y,p,m){const{cordova:w}=bl();let x=()=>{};try{yield new Promise((V,de)=>{let Ne=null;function Xe(){var Ct;V();const Pi=null===(Ct=w.plugins.browsertab)||void 0===Ct?void 0:Ct.close;"function"==typeof Pi&&Pi(),"function"==typeof m?.close&&m.close()}function ft(){Ne||(Ne=window.setTimeout(()=>{de(Se(y,"redirect-cancelled-by-user"))},2e3))}function Rt(){"visible"===document?.visibilityState&&ft()}p.addPassiveListener(Xe),document.addEventListener("resume",ft,!1),oi()&&document.addEventListener("visibilitychange",Rt,!1),x=()=>{p.removePassiveListener(Xe),document.removeEventListener("resume",ft,!1),document.removeEventListener("visibilitychange",Rt,!1),Ne&&window.clearTimeout(Ne)}})}finally{x()}})).apply(this,arguments)}function Ny(y){return tm.apply(this,arguments)}function tm(){return(tm=(0,l.Z)(function*(y){const p=ow(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ow(y){if(ee(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}!function Ty(y){(0,B._registerComponent)(new Z.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),x=p.getProvider("heartbeat"),{apiKey:V,authDomain:de}=w.options;return((Ne,Xe)=>{G(V&&!V.includes(":"),"invalid-api-key",{appName:Ne.name}),G(!de?.includes(":"),"argument-error",{appName:Ne.name});const ft={apiKey:V,authDomain:de,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ns(y)},Rt=new $t(Ne,Xe,ft);return function Ge(y,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(fe);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(Rt,m),Rt})(w,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new Z.wA("auth-internal",p=>{const m=Nn(p.getProvider("auth").getImmediate());return new Ey(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(kf,"0.20.7",function Cy(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,B.registerVersion)(kf,"0.20.7","esm2017")}("Browser");class gc extends ba{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function nm(y){return nd.apply(this,arguments)}function nd(){return(nd=(0,l.Z)(function*(y){const p=yield Vf()._get(Bf(y));return p&&(yield Vf()._remove(Bf(y))),p})).apply(this,arguments)}function iu(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function Vf(){return fe(E)}function Bf(y){return _i("authEvent",y.config.apiKey,y.name)}function _c(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,N.zd)(m.join("?"))}function jf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Se("no-auth-event")}}function ho(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Gf(y=(0,N.z$)()){return!("file:"!==ho()&&"ionic:"!==ho()&&"capacitor:"!==ho()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function gh(){try{const y=self.localStorage,p=ct();if(y)return y.setItem(p,"1"),y.removeItem(p),!function id(y=(0,N.z$)()){return function lw(){return(0,N.w1)()&&11===document?.documentMode}()||function cw(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch{return mh()&&(0,N.hl)()}return!1}function mh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _h(){return(function ph(){return"http:"===ho()||"https:"===ho()}()||(0,N.ru)()||Gf())&&!function Oy(){return(0,N.b$)()||(0,N.UG)()}()&&gh()&&!mh()}function $f(){return Gf()&&typeof document<"u"}function yh(){return(yh=(0,l.Z)(function*(){return!!$f()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const vr={LOCAL:"local",NONE:"none",SESSION:"session"},vh=G,qf="persistence";function ru(y){return js.apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(y){yield y._initializationPromise;const p=zf(),m=_i(qf,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function zf(){var y;try{return(null===(y=function sm(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const bh=G;class fo{constructor(){this.browserResolver=fe(class em{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P,this._completeRedirectFn=Ot,this._overrideRedirectResult=$o}_openPopup(p,m,w,x){var V=this;return(0,l.Z)(function*(){var de;ee(null===(de=V.eventManagers[p._key()])||void 0===de?void 0:de.manager,"_initialize() not called before _openPopup()");const Ne=Ca(p,m,w,He(),x);return function Ea(y,p,m,w=500,x=600){const V=Math.max((window.screen.availHeight-x)/2,0).toString(),de=Math.max((window.screen.availWidth-w)/2,0).toString();let Ne="";const Xe=Object.assign(Object.assign({},ah),{width:w.toString(),height:x.toString(),top:V,left:de}),ft=(0,N.z$)().toLowerCase();m&&(Ne=Ur(ft)?"_blank":m),Rn(ft)&&(p=p||"http://localhost",Xe.scrollbars="yes");const Rt=Object.entries(Xe).reduce((Pi,[Gs,ou])=>`${Pi}${Gs}=${ou},`,"");if(function ji(y=(0,N.z$)()){var p;return pn(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ft)&&"_self"!==Ne)return function Xg(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",Ne),new Ju(null);const Ct=window.open(p||"",Ne,Rt);G(Ct,y,"popup-blocked");try{Ct.focus()}catch{}return new Ju(Ct)}(p,Ne,ct())})()}_openRedirect(p,m,w,x){var V=this;return(0,l.Z)(function*(){return yield V._originValidation(p),function In(y){gn().location.href=y}(Ca(p,m,w,He(),x)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:x,promise:V}=this.eventManagers[m];return x?Promise.resolve(x):(ee(V,"If manager is not set, promise should be"),V)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const w=yield function Jg(y){return hc.apply(this,arguments)}(p),x=new ba(p);return w.register("authEvent",V=>(G(V?.authEvent,p,"invalid-auth-event"),{status:x.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:x},m.iframes[p._key()]=w,x})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(pc,{type:pc},x=>{var V;const de=null===(V=x?.[0])||void 0===V?void 0:V[pc];void 0!==de&&m(!!de),ke(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ws(y){return Nf.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return jr()||si()||pn()}}),this.cordovaResolver=fe(class My{constructor(){this._redirectPersistence=P,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ot,this._overrideRedirectResult=$o}_initialize(p){var m=this;return(0,l.Z)(function*(){const w=p._key();let x=m.eventManagers.get(w);return x||(x=new gc(p),m.eventManagers.set(w,x),m.attachCallbackListeners(p,x)),x})()}_openPopup(p){ke(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,x){var V=this;return(0,l.Z)(function*(){!function dh(y){var p,m,w,x,V,de,Ne,Xe,ft,Rt;const Ct=bl();G("function"==typeof(null===(p=Ct?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),G(typeof(null===(m=Ct?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),G("function"==typeof(null===(V=null===(x=null===(w=Ct?.cordova)||void 0===w?void 0:w.plugins)||void 0===x?void 0:x.browsertab)||void 0===V?void 0:V.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(Xe=null===(Ne=null===(de=Ct?.cordova)||void 0===de?void 0:de.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===Xe?void 0:Xe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(Rt=null===(ft=Ct?.cordova)||void 0===ft?void 0:ft.InAppBrowser)||void 0===Rt?void 0:Rt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const de=yield V._initialize(p);yield de.initialized(),de.resetRedirect(),function Ri(){bs.clear()}(),yield V._originValidation(p);const Ne=function mc(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:iu(),postBody:null,tenantId:y.tenantId,error:Se(y,"no-auth-event")}}(p,w,x);yield function td(y,p){return Vf()._set(Bf(y),p)}(p,Ne);const Xe=yield function Sy(y,p,m){return Lf.apply(this,arguments)}(p,Ne,m),ft=yield function Us(y){const{cordova:p}=bl();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let x=null;w?p.plugins.browsertab.openUrl(y):x=p.InAppBrowser.open(y,function Ji(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(x)})})}(Xe);return function ed(y,p,m){return Zo.apply(this,arguments)}(p,de,ft)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ay(y){return wl.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:x,BuildInfo:V}=bl(),de=setTimeout((0,l.Z)(function*(){yield nm(p),m.onEvent(jf())}),500),Ne=function(){var Rt=(0,l.Z)(function*(Ct){clearTimeout(de);const Pi=yield nm(p);let Gs=null;Pi&&Ct?.url&&(Gs=function im(y,p){var m,w;const x=function hh(y){const p=_c(y),m=p.link?decodeURIComponent(p.link):void 0,w=_c(m).link,x=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return _c(x).link||x||w||m||y}(p);if(x.includes("/__/auth/callback")){const V=_c(x),de=V.firebaseError?function Uf(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(V.firebaseError)):null,Ne=null===(w=null===(m=de?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Xe=Ne?Se(Ne):null;return Xe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Xe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:x,postBody:null}}return null}(Pi,Ct.url)),m.onEvent(Gs||jf())});return function(Pi){return Rt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,Ne);const Xe=x,ft=`${V.packageName.toLowerCase()}://`;bl().handleOpenURL=function(){var Rt=(0,l.Z)(function*(Ct){if(Ct.toLowerCase().startsWith(ft)&&Ne({url:Ct}),"function"==typeof Xe)try{Xe(Ct)}catch(Pi){console.error(Pi)}});return function(Ct){return Rt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P,this._completeRedirectFn=Ot,this._overrideRedirectResult=$o}_initialize(p){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,x){var V=this;return(0,l.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._openPopup(p,m,w,x)})()}_openRedirect(p,m,w,x){var V=this;return(0,l.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._openRedirect(p,m,w,x)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return $f()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const m=yield function xy(){return yh.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Dl(y){return y.unwrap()}function Dh(y){return Eh(y)}function Eh(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return cc.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=ja;break;case"facebook.com":w=sa;break;case"github.com":w=Ha;break;case"twitter.com":w=cr;break;default:const{oauthIdToken:x,oauthAccessToken:V,oauthTokenSecret:de,pendingToken:Ne,nonce:Xe}=p;return V||de||x||Ne?Ne?m.startsWith("saml.")?zn._create(m,Ne):ds._fromParams({providerId:m,signInMethod:m,pendingToken:Ne,idToken:x,accessToken:V}):new $r(m).credential({idToken:x,accessToken:V,rawNonce:Xe}):null}return y instanceof N.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function ir(y,p){return p.catch(m=>{throw m instanceof N.ZR&&function Ko(y,p){var m,w;const x=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=p)||void 0===w?void 0:w.code))p.resolver=new Th(y,function Kn(y,p){var m;const w=(0,N.m9)(y),x=p;return G(p.customData.operationType,w,"argument-error"),G(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),pa._fromError(w,x)}(y,p));else if(x){const V=Eh(p),de=p;V&&(de.credential=V,de.tenantId=x.tenantId||void 0,de.email=x.email||void 0,de.phoneNumber=x.phoneNumber||void 0)}}(y,m),m}).then(m=>{const x=m.user;return{operationType:m.operationType,credential:Dh(m),additionalUserInfo:sl(m),user:Wr.getOrCreate(x)}})}function Ch(y,p){return sd.apply(this,arguments)}function sd(){return(sd=(0,l.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>ir(y,m.confirm(w))}})).apply(this,arguments)}class Th{constructor(p,m){this.resolver=m,this.auth=function wh(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return ir(Dl(this.auth),this.resolver.resolveSignIn(p))}}class Wr{constructor(p){this._delegate=p,this.multiFactor=function Lo(y){const p=(0,N.m9)(y);return so.has(p)||so.set(p,Fo._fromUser(p)),so.get(p)}(p)}static getOrCreate(p){return Wr.USER_MAP.has(p)||Wr.USER_MAP.set(p,new Wr(p)),Wr.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,l.Z)(function*(){return ir(m.auth,oa(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,l.Z)(function*(){return Ch(w.auth,function mn(y,p,m){return vs.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,l.Z)(function*(){return ir(m.auth,function nu(y,p,m){return dc.apply(this,arguments)}(m._delegate,p,fo))})()}linkWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield ru(Nn(m.auth)),function ge(y,p,m){return function De(y,p,m){return Fe.apply(this,arguments)}(y,p,m)}(m._delegate,p,fo)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,l.Z)(function*(){return ir(m.auth,Za(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Ch(this.auth,function lc(y,p,m){return bi.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return ir(this.auth,function Zg(y,p,m){return Yu.apply(this,arguments)}(this._delegate,p,fo))}reauthenticateWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield ru(Nn(m.auth)),function A(y,p,m){return function F(y,p,m){return K.apply(this,arguments)}(y,p,m)}(m._delegate,p,fo)})()}sendEmailVerification(p){return function Yl(y,p){return ha.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,l.Z)(function*(){return yield function Hi(y,p){return Ao.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function il(y,p){return io((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function no(y,p){return io((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function zg(y,p){return Wu.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Jl(y,p){return nl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function el(y,p,m){return fa.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wr.USER_MAP=new WeakMap;const Ia=G;let om=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=m.options;Ia(x,"invalid-api-key",{appName:m.name}),Ia(x,"invalid-api-key",{appName:m.name});const V=typeof window<"u"?fo:void 0;this._delegate=w.initialize({options:{persistence:Zf(x,m.name),popupRedirectResolver:V}}),this._delegate._updateErrorMap(be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Vl(y,p,m){const w=Nn(y);G(w._canInitEmulator,w,"emulator-config-failed"),G(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const x=!!m?.disableWarnings,V=Hr(p),{host:de,port:Ne}=function ni(y){const p=Hr(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const V=x[1];return{host:V,port:Ms(w.substr(V.length+1))}}{const[V,de]=w.split(":");return{host:V,port:Ms(de)}}}(p);w.config.emulator={url:`${V}//${de}${null===Ne?"":`:${Ne}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:de,port:Ne,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function cs(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function mr(y,p){return Ro.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return la(this._delegate,m)}confirmPasswordReset(m,w){return function Ya(y,p,m){return xo.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var x=this;return(0,l.Z)(function*(){return ir(x._delegate,function to(y,p,m){return Wn.apply(this,arguments)}(x._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Xa(y,p){return da.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function ms(y,p){return"EMAIL_SIGNIN"===Xs.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){Ia(_h(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function We(y,p){return mt.apply(this,arguments)}(m._delegate,fo);return w?ir(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function rm(y,p){Nn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,x){const{next:V,error:de,complete:Ne}=am(m,w,x);return this._delegate.onAuthStateChanged(V,de,Ne)}onIdTokenChanged(m,w,x){const{next:V,error:de,complete:Ne}=am(m,w,x);return this._delegate.onIdTokenChanged(V,de,Ne)}sendSignInLinkToEmail(m,w){return function Kl(y,p,m){return zr.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function Oo(y,p,m){return Bn.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,l.Z)(function*(){let x;switch(function rd(y,p){vh(Object.values(vr).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?vh(p!==vr.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?vh(p===vr.NONE,y,"unsupported-persistence-type"):mh()?vh(p===vr.NONE||p===vr.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):vh(p===vr.NONE||gh(),y,"unsupported-persistence-type")}(w._delegate,m),m){case vr.SESSION:x=P;break;case vr.LOCAL:x=(yield fe(ul)._isAvailable())?ul:E;break;case vr.NONE:x=ln;break;default:return ke("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return ir(this._delegate,function So(y){return Zn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return ir(this._delegate,kn(this._delegate,m))}signInWithCustomToken(m){return ir(this._delegate,function Zl(y,p){return aa.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return ir(this._delegate,function qr(y,p,m){return kn((0,N.m9)(y),Gr.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return ir(this._delegate,function ih(y,p,m){return ua.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Ch(this._delegate,function gt(y,p,m){return hn.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,l.Z)(function*(){return Ia(_h(),w._delegate,"operation-not-supported-in-this-environment"),ir(w._delegate,function Ku(y,p,m){return Go.apply(this,arguments)}(w._delegate,m,fo))})()}signInWithRedirect(m){var w=this;return(0,l.Z)(function*(){return Ia(_h(),w._delegate,"operation-not-supported-in-this-environment"),yield ru(w._delegate),function nn(y,p,m){return function va(y,p,m){return S.apply(this,arguments)}(y,p,m)}(w._delegate,m,fo)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Qa(y,p){return Wl.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=vr,y})();function am(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const x=w;return{next:de=>x(de&&Wr.getOrCreate(de)),error:p,complete:m}}function Zf(y,p){const m=function Hs(y,p){const m=zf();if(!m)return[];const w=_i(qf,y,p);switch(m.getItem(w)){case vr.NONE:return[ln];case vr.LOCAL:return[ul,P];case vr.SESSION:return[P];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(ul)&&m.push(ul),typeof window<"u")for(const w of[E,P])m.includes(w)||m.push(w);return m.includes(ln)||m.push(ln),m}class su{constructor(){this.providerId="phone",this._delegate=new cc(Dl(R.Z.auth()))}static credential(p,m){return cc.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}su.PHONE_SIGN_IN_METHOD=cc.PHONE_SIGN_IN_METHOD,su.PROVIDER_ID=cc.PROVIDER_ID;const lm=G;class Wf{constructor(p,m,w=R.Z.app()){var x;lm(null===(x=w.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Gi(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function um(y){y.INTERNAL.registerComponent(new Z.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new om(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Gr,FacebookAuthProvider:sa,GithubAuthProvider:Ha,GoogleAuthProvider:ja,OAuthProvider:$r,SAMLAuthProvider:gr,PhoneAuthProvider:su,PhoneMultiFactorGenerator:Ta,RecaptchaVerifier:Wf,TwitterAuthProvider:cr,Auth:om,AuthCredential:Oi,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.20")}(R.Z)},9751:(qe,H,k)=>{"use strict";k.d(H,{y:()=>Q});var l=k(930),R=k(727),N=k(8822),B=k(9635),j=k(2416),q=k(576),Z=k(2806);let Q=(()=>{class X{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const be=new X;return be.source=this,be.operator=Ee,be}subscribe(Ee,be,Ze){const me=function Y(X){return X&&X instanceof l.Lv||function W(X){return X&&(0,q.m)(X.next)&&(0,q.m)(X.error)&&(0,q.m)(X.complete)}(X)&&(0,R.Nn)(X)}(Ee)?Ee:new l.Hp(Ee,be,Ze);return(0,Z.x)(()=>{const{operator:pe,source:Ae}=this;me.add(pe?pe.call(me,Ae):Ae?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(be){Ee.error(be)}}forEach(Ee,be){return new(be=le(be))((Ze,me)=>{const pe=new l.Hp({next:Ae=>{try{Ee(Ae)}catch(Be){me(Be),pe.unsubscribe()}},error:me,complete:Ze});this.subscribe(pe)})}_subscribe(Ee){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(Ee)}[N.L](){return this}pipe(...Ee){return(0,B.U)(Ee)(this)}toPromise(Ee){return new(Ee=le(Ee))((be,Ze)=>{let me;this.subscribe(pe=>me=pe,pe=>Ze(pe),()=>be(me))})}}return X.create=Te=>new X(Te),X})();function le(X){var Te;return null!==(Te=X??j.v.Promise)&&void 0!==Te?Te:Promise}},7579:(qe,H,k)=>{"use strict";k.d(H,{x:()=>Z});var l=k(9751),R=k(727);const B=(0,k(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var j=k(8737),q=k(2806);let Z=(()=>{class le extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const X=new Q(this,this);return X.operator=Y,X}_throwIfClosed(){if(this.closed)throw new B}next(Y){(0,q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(Y)}})}error(Y){(0,q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:X}=this;for(;X.length;)X.shift().error(Y)}})}complete(){(0,q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:X,isStopped:Te,observers:Ee}=this;return X||Te?R.Lc:(this.currentObservers=null,Ee.push(Y),new R.w0(()=>{this.currentObservers=null,(0,j.P)(Ee,Y)}))}_checkFinalizedStatuses(Y){const{hasError:X,thrownError:Te,isStopped:Ee}=this;X?Y.error(Te):Ee&&Y.complete()}asObservable(){const Y=new l.y;return Y.source=this,Y}}return le.create=(W,Y)=>new Q(W,Y),le})();class Q extends Z{constructor(W,Y){super(),this.destination=W,this.source=Y}next(W){var Y,X;null===(X=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===X||X.call(Y,W)}error(W){var Y,X;null===(X=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===X||X.call(Y,W)}complete(){var W,Y;null===(Y=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===Y||Y.call(W)}_subscribe(W){var Y,X;return null!==(X=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(W))&&void 0!==X?X:R.Lc}}},930:(qe,H,k)=>{"use strict";k.d(H,{Hp:()=>Ze,Lv:()=>X});var l=k(576),R=k(727),N=k(2416),B=k(7849),j=k(5032);const q=le("C",void 0,void 0);function le(ke,Se,ye){return{kind:ke,value:Se,error:ye}}var W=k(3410),Y=k(2806);class X extends R.w0{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,R.Nn)(Se)&&Se.add(this)):this.destination=Be}static create(Se,ye,Re){return new Ze(Se,ye,Re)}next(Se){this.isStopped?Ae(function Q(ke){return le("N",ke,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?Ae(function Z(ke){return le("E",void 0,ke)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?Ae(q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Te=Function.prototype.bind;function Ee(ke,Se){return Te.call(ke,Se)}class be{constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:ye}=this;if(ye.next)try{ye.next(Se)}catch(Re){me(Re)}}error(Se){const{partialObserver:ye}=this;if(ye.error)try{ye.error(Se)}catch(Re){me(Re)}else me(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(ye){me(ye)}}}class Ze extends X{constructor(Se,ye,Re){let Me;if(super(),(0,l.m)(Se)||!Se)Me={next:Se??void 0,error:ye??void 0,complete:Re??void 0};else{let G;this&&N.v.useDeprecatedNextContext?(G=Object.create(Se),G.unsubscribe=()=>this.unsubscribe(),Me={next:Se.next&&Ee(Se.next,G),error:Se.error&&Ee(Se.error,G),complete:Se.complete&&Ee(Se.complete,G)}):Me=Se}this.destination=new be(Me)}}function me(ke){N.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(ke):(0,B.h)(ke)}function Ae(ke,Se){const{onStoppedNotification:ye}=N.v;ye&&W.z.setTimeout(()=>ye(ke,Se))}const Be={closed:!0,next:j.Z,error:function pe(ke){throw ke},complete:j.Z}},727:(qe,H,k)=>{"use strict";k.d(H,{Lc:()=>q,w0:()=>j,Nn:()=>Z});var l=k(576);const N=(0,k(3888).d)(le=>function(Y){le(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((X,Te)=>`${Te+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var B=k(8737);class j{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Ee of Y)Ee.remove(this);else Y.remove(this);const{initialTeardown:X}=this;if((0,l.m)(X))try{X()}catch(Ee){W=Ee instanceof N?Ee.errors:[Ee]}const{_finalizers:Te}=this;if(Te){this._finalizers=null;for(const Ee of Te)try{Q(Ee)}catch(be){W=W??[],be instanceof N?W=[...W,...be.errors]:W.push(be)}}if(W)throw new N(W)}}add(W){var Y;if(W&&W!==this)if(this.closed)Q(W);else{if(W instanceof j){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(W)}}_hasParent(W){const{_parentage:Y}=this;return Y===W||Array.isArray(Y)&&Y.includes(W)}_addParent(W){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(W),Y):Y?[Y,W]:W}_removeParent(W){const{_parentage:Y}=this;Y===W?this._parentage=null:Array.isArray(Y)&&(0,B.P)(Y,W)}remove(W){const{_finalizers:Y}=this;Y&&(0,B.P)(Y,W),W instanceof j&&W._removeParent(this)}}j.EMPTY=(()=>{const le=new j;return le.closed=!0,le})();const q=j.EMPTY;function Z(le){return le instanceof j||le&&"closed"in le&&(0,l.m)(le.remove)&&(0,l.m)(le.add)&&(0,l.m)(le.unsubscribe)}function Q(le){(0,l.m)(le)?le():le.unsubscribe()}},2416:(qe,H,k)=>{"use strict";k.d(H,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(qe,H,k)=>{"use strict";k.d(H,{E:()=>R});const R=new(k(9751).y)(j=>j.complete())},8996:(qe,H,k)=>{"use strict";k.d(H,{D:()=>Se});var l=k(8421),R=k(5363),N=k(9468),q=k(9751),Q=k(2202),le=k(576),W=k(9672);function X(ye,Re){if(!ye)throw new Error("Iterable cannot be null");return new q.y(Me=>{(0,W.f)(Me,Re,()=>{const G=ye[Symbol.asyncIterator]();(0,W.f)(Me,Re,()=>{G.next().then(_e=>{_e.done?Me.complete():Me.next(_e.value)})},0,!0)})})}var Te=k(3670),Ee=k(8239),be=k(1144),Ze=k(6495),me=k(2206),pe=k(4532),Ae=k(3260);function Se(ye,Re){return Re?function ke(ye,Re){if(null!=ye){if((0,Te.c)(ye))return function B(ye,Re){return(0,l.Xf)(ye).pipe((0,N.R)(Re),(0,R.Q)(Re))}(ye,Re);if((0,be.z)(ye))return function Z(ye,Re){return new q.y(Me=>{let G=0;return Re.schedule(function(){G===ye.length?Me.complete():(Me.next(ye[G++]),Me.closed||this.schedule())})})}(ye,Re);if((0,Ee.t)(ye))return function j(ye,Re){return(0,l.Xf)(ye).pipe((0,N.R)(Re),(0,R.Q)(Re))}(ye,Re);if((0,me.D)(ye))return X(ye,Re);if((0,Ze.T)(ye))return function Y(ye,Re){return new q.y(Me=>{let G;return(0,W.f)(Me,Re,()=>{G=ye[Q.h](),(0,W.f)(Me,Re,()=>{let _e,ee;try{({value:_e,done:ee}=G.next())}catch(ie){return void Me.error(ie)}ee?Me.complete():Me.next(_e)},0,!0)}),()=>(0,le.m)(G?.return)&&G.return()})}(ye,Re);if((0,Ae.L)(ye))return function Be(ye,Re){return X((0,Ae.Q)(ye),Re)}(ye,Re)}throw(0,pe.z)(ye)}(ye,Re):(0,l.Xf)(ye)}},8421:(qe,H,k)=>{"use strict";k.d(H,{Xf:()=>Te});var l=k(655),R=k(1144),N=k(8239),B=k(9751),j=k(3670),q=k(2206),Z=k(4532),Q=k(6495),le=k(3260),W=k(576),Y=k(7849),X=k(8822);function Te(ke){if(ke instanceof B.y)return ke;if(null!=ke){if((0,j.c)(ke))return function Ee(ke){return new B.y(Se=>{const ye=ke[X.L]();if((0,W.m)(ye.subscribe))return ye.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,R.z)(ke))return function be(ke){return new B.y(Se=>{for(let ye=0;ye<ke.length&&!Se.closed;ye++)Se.next(ke[ye]);Se.complete()})}(ke);if((0,N.t)(ke))return function Ze(ke){return new B.y(Se=>{ke.then(ye=>{Se.closed||(Se.next(ye),Se.complete())},ye=>Se.error(ye)).then(null,Y.h)})}(ke);if((0,q.D)(ke))return pe(ke);if((0,Q.T)(ke))return function me(ke){return new B.y(Se=>{for(const ye of ke)if(Se.next(ye),Se.closed)return;Se.complete()})}(ke);if((0,le.L)(ke))return function Ae(ke){return pe((0,le.Q)(ke))}(ke)}throw(0,Z.z)(ke)}function pe(ke){return new B.y(Se=>{(function Be(ke,Se){var ye,Re,Me,G;return(0,l.mG)(this,void 0,void 0,function*(){try{for(ye=(0,l.KL)(ke);!(Re=yield ye.next()).done;)if(Se.next(Re.value),Se.closed)return}catch(_e){Me={error:_e}}finally{try{Re&&!Re.done&&(G=ye.return)&&(yield G.call(ye))}finally{if(Me)throw Me.error}}Se.complete()})})(ke,Se).catch(ye=>Se.error(ye))})}},6451:(qe,H,k)=>{"use strict";k.d(H,{T:()=>q});var l=k(8189),R=k(8421),N=k(515),B=k(3269),j=k(8996);function q(...Z){const Q=(0,B.yG)(Z),le=(0,B._6)(Z,1/0),W=Z;return W.length?1===W.length?(0,R.Xf)(W[0]):(0,l.J)(le)((0,j.D)(W,Q)):N.E}},5403:(qe,H,k)=>{"use strict";k.d(H,{x:()=>R});var l=k(930);function R(B,j,q,Z,Q){return new N(B,j,q,Z,Q)}class N extends l.Lv{constructor(j,q,Z,Q,le,W){super(j),this.onFinalize=le,this.shouldUnsubscribe=W,this._next=q?function(Y){try{q(Y)}catch(X){j.error(X)}}:super._next,this._error=Q?function(Y){try{Q(Y)}catch(X){j.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(Y){j.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var j;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:q}=this;super.unsubscribe(),!q&&(null===(j=this.onFinalize)||void 0===j||j.call(this))}}}},4004:(qe,H,k)=>{"use strict";k.d(H,{U:()=>N});var l=k(4482),R=k(5403);function N(B,j){return(0,l.e)((q,Z)=>{let Q=0;q.subscribe((0,R.x)(Z,le=>{Z.next(B.call(j,le,Q++))}))})}},8189:(qe,H,k)=>{"use strict";k.d(H,{J:()=>N});var l=k(5577),R=k(4671);function N(B=1/0){return(0,l.z)(R.y,B)}},5577:(qe,H,k)=>{"use strict";k.d(H,{z:()=>Q});var l=k(4004),R=k(8421),N=k(4482),B=k(9672),j=k(5403),Z=k(576);function Q(le,W,Y=1/0){return(0,Z.m)(W)?Q((X,Te)=>(0,l.U)((Ee,be)=>W(X,Ee,Te,be))((0,R.Xf)(le(X,Te))),Y):("number"==typeof W&&(Y=W),(0,N.e)((X,Te)=>function q(le,W,Y,X,Te,Ee,be,Ze){const me=[];let pe=0,Ae=0,Be=!1;const ke=()=>{Be&&!me.length&&!pe&&W.complete()},Se=Re=>pe<X?ye(Re):me.push(Re),ye=Re=>{Ee&&W.next(Re),pe++;let Me=!1;(0,R.Xf)(Y(Re,Ae++)).subscribe((0,j.x)(W,G=>{Te?.(G),Ee?Se(G):W.next(G)},()=>{Me=!0},void 0,()=>{if(Me)try{for(pe--;me.length&&pe<X;){const G=me.shift();be?(0,B.f)(W,be,()=>ye(G)):ye(G)}ke()}catch(G){W.error(G)}}))};return le.subscribe((0,j.x)(W,Se,()=>{Be=!0,ke()})),()=>{Ze?.()}}(X,Te,le,Y)))}},5363:(qe,H,k)=>{"use strict";k.d(H,{Q:()=>B});var l=k(9672),R=k(4482),N=k(5403);function B(j,q=0){return(0,R.e)((Z,Q)=>{Z.subscribe((0,N.x)(Q,le=>(0,l.f)(Q,j,()=>Q.next(le),q),()=>(0,l.f)(Q,j,()=>Q.complete(),q),le=>(0,l.f)(Q,j,()=>Q.error(le),q)))})}},3099:(qe,H,k)=>{"use strict";k.d(H,{B:()=>j});var l=k(8421),R=k(7579),N=k(930),B=k(4482);function j(Z={}){const{connector:Q=(()=>new R.x),resetOnError:le=!0,resetOnComplete:W=!0,resetOnRefCountZero:Y=!0}=Z;return X=>{let Te,Ee,be,Ze=0,me=!1,pe=!1;const Ae=()=>{Ee?.unsubscribe(),Ee=void 0},Be=()=>{Ae(),Te=be=void 0,me=pe=!1},ke=()=>{const Se=Te;Be(),Se?.unsubscribe()};return(0,B.e)((Se,ye)=>{Ze++,!pe&&!me&&Ae();const Re=be=be??Q();ye.add(()=>{Ze--,0===Ze&&!pe&&!me&&(Ee=q(ke,Y))}),Re.subscribe(ye),!Te&&Ze>0&&(Te=new N.Hp({next:Me=>Re.next(Me),error:Me=>{pe=!0,Ae(),Ee=q(Be,le,Me),Re.error(Me)},complete:()=>{me=!0,Ae(),Ee=q(Be,W),Re.complete()}}),(0,l.Xf)(Se).subscribe(Te))})(X)}}function q(Z,Q,...le){if(!0===Q)return void Z();if(!1===Q)return;const W=new N.Hp({next:()=>{W.unsubscribe(),Z()}});return Q(...le).subscribe(W)}},9468:(qe,H,k)=>{"use strict";k.d(H,{R:()=>R});var l=k(4482);function R(N,B=0){return(0,l.e)((j,q)=>{q.add(N.schedule(()=>j.subscribe(q),B))})}},8505:(qe,H,k)=>{"use strict";k.d(H,{b:()=>j});var l=k(576),R=k(4482),N=k(5403),B=k(4671);function j(q,Z,Q){const le=(0,l.m)(q)||Z||Q?{next:q,error:Z,complete:Q}:q;return le?(0,R.e)((W,Y)=>{var X;null===(X=le.subscribe)||void 0===X||X.call(le);let Te=!0;W.subscribe((0,N.x)(Y,Ee=>{var be;null===(be=le.next)||void 0===be||be.call(le,Ee),Y.next(Ee)},()=>{var Ee;Te=!1,null===(Ee=le.complete)||void 0===Ee||Ee.call(le),Y.complete()},Ee=>{var be;Te=!1,null===(be=le.error)||void 0===be||be.call(le,Ee),Y.error(Ee)},()=>{var Ee,be;Te&&(null===(Ee=le.unsubscribe)||void 0===Ee||Ee.call(le)),null===(be=le.finalize)||void 0===be||be.call(le)}))}):B.y}},4408:(qe,H,k)=>{"use strict";k.d(H,{o:()=>j});var l=k(727);class R extends l.w0{constructor(Z,Q){super()}schedule(Z,Q=0){return this}}const N={setInterval(q,Z,...Q){const{delegate:le}=N;return le?.setInterval?le.setInterval(q,Z,...Q):setInterval(q,Z,...Q)},clearInterval(q){const{delegate:Z}=N;return(Z?.clearInterval||clearInterval)(q)},delegate:void 0};var B=k(8737);class j extends R{constructor(Z,Q){super(Z,Q),this.scheduler=Z,this.work=Q,this.pending=!1}schedule(Z,Q=0){if(this.closed)return this;this.state=Z;const le=this.id,W=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(W,le,Q)),this.pending=!0,this.delay=Q,this.id=this.id||this.requestAsyncId(W,this.id,Q),this}requestAsyncId(Z,Q,le=0){return N.setInterval(Z.flush.bind(Z,this),le)}recycleAsyncId(Z,Q,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return Q;N.clearInterval(Q)}execute(Z,Q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(Z,Q);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Z,Q){let W,le=!1;try{this.work(Z)}catch(Y){le=!0,W=Y||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:Z,scheduler:Q}=this,{actions:le}=Q;this.work=this.state=this.scheduler=null,this.pending=!1,(0,B.P)(le,this),null!=Z&&(this.id=this.recycleAsyncId(Q,Z,null)),this.delay=null,super.unsubscribe()}}}},7565:(qe,H,k)=>{"use strict";k.d(H,{v:()=>N});var l=k(6063);class R{constructor(j,q=R.now){this.schedulerActionCtor=j,this.now=q}schedule(j,q=0,Z){return new this.schedulerActionCtor(this,j).schedule(Z,q)}}R.now=l.l.now;class N extends R{constructor(j,q=R.now){super(j,q),this.actions=[],this._active=!1,this._scheduled=void 0}flush(j){const{actions:q}=this;if(this._active)return void q.push(j);let Z;this._active=!0;do{if(Z=j.execute(j.state,j.delay))break}while(j=q.shift());if(this._active=!1,Z){for(;j=q.shift();)j.unsubscribe();throw Z}}}},4986:(qe,H,k)=>{"use strict";k.d(H,{P:()=>B,z:()=>N});var l=k(4408);const N=new(k(7565).v)(l.o),B=N},6063:(qe,H,k)=>{"use strict";k.d(H,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(qe,H,k)=>{"use strict";k.d(H,{z:()=>l});const l={setTimeout(R,N,...B){const{delegate:j}=l;return j?.setTimeout?j.setTimeout(R,N,...B):setTimeout(R,N,...B)},clearTimeout(R){const{delegate:N}=l;return(N?.clearTimeout||clearTimeout)(R)},delegate:void 0}},2202:(qe,H,k)=>{"use strict";k.d(H,{h:()=>R});const R=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(qe,H,k)=>{"use strict";k.d(H,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(qe,H,k)=>{"use strict";k.d(H,{_6:()=>q,jO:()=>B,yG:()=>j});var l=k(576),R=k(3532);function N(Z){return Z[Z.length-1]}function B(Z){return(0,l.m)(N(Z))?Z.pop():void 0}function j(Z){return(0,R.K)(N(Z))?Z.pop():void 0}function q(Z,Q){return"number"==typeof N(Z)?Z.pop():Q}},8737:(qe,H,k)=>{"use strict";function l(R,N){if(R){const B=R.indexOf(N);0<=B&&R.splice(B,1)}}k.d(H,{P:()=>l})},3888:(qe,H,k)=>{"use strict";function l(R){const B=R(j=>{Error.call(j),j.stack=(new Error).stack});return B.prototype=Object.create(Error.prototype),B.prototype.constructor=B,B}k.d(H,{d:()=>l})},2806:(qe,H,k)=>{"use strict";k.d(H,{O:()=>B,x:()=>N});var l=k(2416);let R=null;function N(j){if(l.v.useDeprecatedSynchronousErrorHandling){const q=!R;if(q&&(R={errorThrown:!1,error:null}),j(),q){const{errorThrown:Z,error:Q}=R;if(R=null,Z)throw Q}}else j()}function B(j){l.v.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=j)}},9672:(qe,H,k)=>{"use strict";function l(R,N,B,j=0,q=!1){const Z=N.schedule(function(){B(),q?R.add(this.schedule(null,j)):this.unsubscribe()},j);if(R.add(Z),!q)return Z}k.d(H,{f:()=>l})},4671:(qe,H,k)=>{"use strict";function l(R){return R}k.d(H,{y:()=>l})},1144:(qe,H,k)=>{"use strict";k.d(H,{z:()=>l});const l=R=>R&&"number"==typeof R.length&&"function"!=typeof R},2206:(qe,H,k)=>{"use strict";k.d(H,{D:()=>R});var l=k(576);function R(N){return Symbol.asyncIterator&&(0,l.m)(N?.[Symbol.asyncIterator])}},576:(qe,H,k)=>{"use strict";function l(R){return"function"==typeof R}k.d(H,{m:()=>l})},3670:(qe,H,k)=>{"use strict";k.d(H,{c:()=>N});var l=k(8822),R=k(576);function N(B){return(0,R.m)(B[l.L])}},6495:(qe,H,k)=>{"use strict";k.d(H,{T:()=>N});var l=k(2202),R=k(576);function N(B){return(0,R.m)(B?.[l.h])}},8239:(qe,H,k)=>{"use strict";k.d(H,{t:()=>R});var l=k(576);function R(N){return(0,l.m)(N?.then)}},3260:(qe,H,k)=>{"use strict";k.d(H,{L:()=>B,Q:()=>N});var l=k(655),R=k(576);function N(j){return(0,l.FC)(this,arguments,function*(){const Z=j.getReader();try{for(;;){const{value:Q,done:le}=yield(0,l.qq)(Z.read());if(le)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Q)}}finally{Z.releaseLock()}})}function B(j){return(0,R.m)(j?.getReader)}},3532:(qe,H,k)=>{"use strict";k.d(H,{K:()=>R});var l=k(576);function R(N){return N&&(0,l.m)(N.schedule)}},4482:(qe,H,k)=>{"use strict";k.d(H,{A:()=>R,e:()=>N});var l=k(576);function R(B){return(0,l.m)(B?.lift)}function N(B){return j=>{if(R(j))return j.lift(function(q){try{return B(q,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(qe,H,k)=>{"use strict";function l(){}k.d(H,{Z:()=>l})},9635:(qe,H,k)=>{"use strict";k.d(H,{U:()=>N,z:()=>R});var l=k(4671);function R(...B){return N(B)}function N(B){return 0===B.length?l.y:1===B.length?B[0]:function(q){return B.reduce((Z,Q)=>Q(Z),q)}}},7849:(qe,H,k)=>{"use strict";k.d(H,{h:()=>N});var l=k(2416),R=k(3410);function N(B){R.z.setTimeout(()=>{const{onUnhandledError:j}=l.v;if(!j)throw B;j(B)})}},4532:(qe,H,k)=>{"use strict";function l(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(H,{z:()=>l})},5226:function(qe){qe.exports=function(){"use strict";var H={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const l=E=>{const C={};for(const P in E)C[E[P]]="swal2-"+E[P];return C},R=l(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),N=l(["success","warning","info","question","error"]),B="SweetAlert2:",q=E=>E.charAt(0).toUpperCase()+E.slice(1),Z=E=>{console.warn("".concat(B," ").concat("object"==typeof E?E.join(" "):E))},Q=E=>{console.error("".concat(B," ").concat(E))},le=[],Y=(E,C)=>{(E=>{le.includes(E)||(le.push(E),Z(E))})('"'.concat(E,'" is deprecated and will be removed in the next major release. Please use "').concat(C,'" instead.'))},X=E=>"function"==typeof E?E():E,Te=E=>E&&"function"==typeof E.toPromise,Ee=E=>Te(E)?E.toPromise():Promise.resolve(E),be=E=>E&&Promise.resolve(E)===E,Ze=()=>document.body.querySelector(".".concat(R.container)),me=E=>{const C=Ze();return C?C.querySelector(E):null},pe=E=>me(".".concat(E)),Ae=()=>pe(R.popup),Be=()=>pe(R.icon),ke=()=>pe(R.title),Se=()=>pe(R["html-container"]),ye=()=>pe(R.image),Re=()=>pe(R["progress-steps"]),Me=()=>pe(R["validation-message"]),G=()=>me(".".concat(R.actions," .").concat(R.confirm)),_e=()=>me(".".concat(R.actions," .").concat(R.deny)),ie=()=>me(".".concat(R.loader)),fe=()=>me(".".concat(R.actions," .").concat(R.cancel)),ue=()=>pe(R.actions),Ge=()=>pe(R.footer),He=()=>pe(R["timer-progress-bar"]),yt=()=>pe(R.close),qt=()=>{const E=Array.from(Ae().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((P,J)=>{const xe=parseInt(P.getAttribute("tabindex")),ct=parseInt(J.getAttribute("tabindex"));return xe>ct?1:xe<ct?-1:0}),C=Array.from(Ae().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(P=>"-1"!==P.getAttribute("tabindex"));return(E=>{const C=[];for(let P=0;P<E.length;P++)-1===C.indexOf(E[P])&&C.push(E[P]);return C})(E.concat(C)).filter(P=>qn(P))},tt=()=>En(document.body,R.shown)&&!En(document.body,R["toast-shown"])&&!En(document.body,R["no-backdrop"]),tn=()=>Ae()&&En(Ae(),R.toast),zt={previousBodyPadding:null},Ft=(E,C)=>{if(E.textContent="",C){const J=(new DOMParser).parseFromString(C,"text/html");Array.from(J.querySelector("head").childNodes).forEach(xe=>{E.appendChild(xe)}),Array.from(J.querySelector("body").childNodes).forEach(xe=>{xe instanceof HTMLVideoElement||xe instanceof HTMLAudioElement?E.appendChild(xe.cloneNode(!0)):E.appendChild(xe)})}},En=(E,C)=>{if(!C)return!1;const P=C.split(/\s+/);for(let J=0;J<P.length;J++)if(!E.classList.contains(P[J]))return!1;return!0},St=(E,C,P)=>{if(((E,C)=>{Array.from(E.classList).forEach(P=>{!Object.values(R).includes(P)&&!Object.values(N).includes(P)&&!Object.values(C.showClass).includes(P)&&E.classList.remove(P)})})(E,C),C.customClass&&C.customClass[P]){if("string"!=typeof C.customClass[P]&&!C.customClass[P].forEach)return void Z("Invalid type of customClass.".concat(P,'! Expected string or iterable object, got "').concat(typeof C.customClass[P],'"'));xt(E,C.customClass[P])}},wi=(E,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return E.querySelector(".".concat(R.popup," > .").concat(R[C]));case"checkbox":return E.querySelector(".".concat(R.popup," > .").concat(R.checkbox," input"));case"radio":return E.querySelector(".".concat(R.popup," > .").concat(R.radio," input:checked"))||E.querySelector(".".concat(R.popup," > .").concat(R.radio," input:first-child"));case"range":return E.querySelector(".".concat(R.popup," > .").concat(R.range," input"));default:return E.querySelector(".".concat(R.popup," > .").concat(R.input))}},Gn=E=>{if(E.focus(),"file"!==E.type){const C=E.value;E.value="",E.value=C}},ei=(E,C,P)=>{!E||!C||("string"==typeof C&&(C=C.split(/\s+/).filter(Boolean)),C.forEach(J=>{Array.isArray(E)?E.forEach(xe=>{P?xe.classList.add(J):xe.classList.remove(J)}):P?E.classList.add(J):E.classList.remove(J)}))},xt=(E,C)=>{ei(E,C,!0)},Di=(E,C)=>{ei(E,C,!1)},Ei=(E,C)=>{const P=Array.from(E.children);for(let J=0;J<P.length;J++){const xe=P[J];if(xe instanceof HTMLElement&&En(xe,C))return xe}},pi=(E,C,P)=>{P==="".concat(parseInt(P))&&(P=parseInt(P)),P||0===parseInt(P)?E.style[C]="number"==typeof P?"".concat(P,"px"):P:E.style.removeProperty(C)},yn=function(E){E.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},$n=E=>{E.style.display="none"},lt=(E,C,P,J)=>{const xe=E.querySelector(C);xe&&(xe.style[P]=J)},Mi=function(E,C){C?yn(E,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):$n(E)},qn=E=>!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)),pr=E=>E.scrollHeight>E.clientHeight,ar=E=>{const C=window.getComputedStyle(E),P=parseFloat(C.getPropertyValue("animation-duration")||"0"),J=parseFloat(C.getPropertyValue("transition-duration")||"0");return P>0||J>0},Vn=function(E){let C=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const P=He();qn(P)&&(C&&(P.style.transition="none",P.style.width="100%"),setTimeout(()=>{P.style.transition="width ".concat(E/1e3,"s linear"),P.style.width="0%"},10))},Je={},vn=E=>new Promise(C=>{if(!E)return C();const P=window.scrollX,J=window.scrollY;Je.restoreFocusTimeout=setTimeout(()=>{Je.previousActiveElement instanceof HTMLElement?(Je.previousActiveElement.focus(),Je.previousActiveElement=null):document.body&&document.body.focus(),C()},100),window.scrollTo(P,J)}),mi=()=>typeof window>"u"||typeof document>"u",Ci='\n <div aria-labelledby="'.concat(R.title,'" aria-describedby="').concat(R["html-container"],'" class="').concat(R.popup,'" tabindex="-1">\n   <button type="button" class="').concat(R.close,'"></button>\n   <ul class="').concat(R["progress-steps"],'"></ul>\n   <div class="').concat(R.icon,'"></div>\n   <img class="').concat(R.image,'" />\n   <h2 class="').concat(R.title,'" id="').concat(R.title,'"></h2>\n   <div class="').concat(R["html-container"],'" id="').concat(R["html-container"],'"></div>\n   <input class="').concat(R.input,'" />\n   <input type="file" class="').concat(R.file,'" />\n   <div class="').concat(R.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(R.select,'"></select>\n   <div class="').concat(R.radio,'"></div>\n   <label for="').concat(R.checkbox,'" class="').concat(R.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(R.label,'"></span>\n   </label>\n   <textarea class="').concat(R.textarea,'"></textarea>\n   <div class="').concat(R["validation-message"],'" id="').concat(R["validation-message"],'"></div>\n   <div class="').concat(R.actions,'">\n     <div class="').concat(R.loader,'"></div>\n     <button type="button" class="').concat(R.confirm,'"></button>\n     <button type="button" class="').concat(R.deny,'"></button>\n     <button type="button" class="').concat(R.cancel,'"></button>\n   </div>\n   <div class="').concat(R.footer,'"></div>\n   <div class="').concat(R["timer-progress-bar-container"],'">\n     <div class="').concat(R["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),It=()=>{Je.currentInstance.resetValidationMessage()},ce=E=>{const C=(()=>{const E=Ze();return!!E&&(E.remove(),Di([document.documentElement,document.body],[R["no-backdrop"],R["toast-shown"],R["has-column"]]),!0)})();if(mi())return void Q("SweetAlert2 requires document to initialize");const P=document.createElement("div");P.className=R.container,C&&xt(P,R["no-transition"]),Ft(P,Ci);const J=(E=>"string"==typeof E?document.querySelector(E):E)(E.target);J.appendChild(P),(E=>{const C=Ae();C.setAttribute("role",E.toast?"alert":"dialog"),C.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||C.setAttribute("aria-modal","true")})(E),(E=>{"rtl"===window.getComputedStyle(E).direction&&xt(Ze(),R.rtl)})(J),(()=>{const E=Ae(),C=Ei(E,R.input),P=Ei(E,R.file),J=E.querySelector(".".concat(R.range," input")),xe=E.querySelector(".".concat(R.range," output")),ct=Ei(E,R.select),Pn=E.querySelector(".".concat(R.checkbox," input")),gn=Ei(E,R.textarea);C.oninput=It,P.onchange=It,ct.onchange=It,Pn.onchange=It,gn.oninput=It,J.oninput=()=>{It(),xe.value=J.value},J.onchange=()=>{It(),xe.value=J.value}})()},re=(E,C)=>{E instanceof HTMLElement?C.appendChild(E):"object"==typeof E?te(E,C):E&&Ft(C,E)},te=(E,C)=>{E.jquery?se(C,E):Ft(C,E.toString())},se=(E,C)=>{if(E.textContent="",0 in C)for(let P=0;P in C;P++)E.appendChild(C[P].cloneNode(!0));else E.appendChild(C.cloneNode(!0))},oe=(()=>{if(mi())return!1;const E=document.createElement("div"),C={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const P in C)if(Object.prototype.hasOwnProperty.call(C,P)&&typeof E.style[P]<"u")return C[P];return!1})(),et=(E,C)=>{const P=ue(),J=ie();C.showConfirmButton||C.showDenyButton||C.showCancelButton?yn(P):$n(P),St(P,C,"actions"),function vt(E,C,P){const J=G(),xe=_e(),ct=fe();ln(J,"confirm",P),ln(xe,"deny",P),ln(ct,"cancel",P),function Tn(E,C,P,J){J.buttonsStyling?(xt([E,C,P],R.styled),J.confirmButtonColor&&(E.style.backgroundColor=J.confirmButtonColor,xt(E,R["default-outline"])),J.denyButtonColor&&(C.style.backgroundColor=J.denyButtonColor,xt(C,R["default-outline"])),J.cancelButtonColor&&(P.style.backgroundColor=J.cancelButtonColor,xt(P,R["default-outline"]))):Di([E,C,P],R.styled)}(J,xe,ct,P),P.reverseButtons&&(P.toast?(E.insertBefore(ct,J),E.insertBefore(xe,J)):(E.insertBefore(ct,C),E.insertBefore(xe,C),E.insertBefore(J,C)))}(P,J,C),Ft(J,C.loaderHtml),St(J,C,"loader")};function ln(E,C,P){Mi(E,P["show".concat(q(C),"Button")],"inline-block"),Ft(E,P["".concat(C,"ButtonText")]),E.setAttribute("aria-label",P["".concat(C,"ButtonAriaLabel")]),E.className=R[C],St(E,P,"".concat(C,"Button")),xt(E,P["".concat(C,"ButtonClass")])}const Qt=(E,C)=>{const P=Ze();!P||(function Gt(E,C){"string"==typeof C?E.style.background=C:C||xt([document.documentElement,document.body],R["no-backdrop"])}(P,C.backdrop),function Rn(E,C){C in R?xt(E,R[C]):(Z('The "position" parameter is not valid, defaulting to "center"'),xt(E,R.center))}(P,C.position),function si(E,C){if(C&&"string"==typeof C){const P="grow-".concat(C);P in R&&xt(E,R[P])}}(P,C.grow),St(P,C,"container"))};const Ur=["input","file","range","select","radio","checkbox","textarea"],oi=E=>{if(!Yt[E.input])return void Q('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(E.input,'"'));const C=ai(E.input),P=Yt[E.input](C,E);yn(C),setTimeout(()=>{Gn(P)})},At=(E,C)=>{const P=wi(Ae(),E);if(P){(E=>{for(let C=0;C<E.attributes.length;C++){const P=E.attributes[C].name;["type","value","style"].includes(P)||E.removeAttribute(P)}})(P);for(const J in C)P.setAttribute(J,C[J])}},pn=E=>{const C=ai(E.input);"object"==typeof E.customClass&&xt(C,E.customClass.input)},Ji=(E,C)=>{(!E.placeholder||C.inputPlaceholder)&&(E.placeholder=C.inputPlaceholder)},ji=(E,C,P)=>{if(P.inputLabel){E.id=R.input;const J=document.createElement("label"),xe=R["input-label"];J.setAttribute("for",E.id),J.className=xe,"object"==typeof P.customClass&&xt(J,P.customClass.inputLabel),J.innerText=P.inputLabel,C.insertAdjacentElement("beforebegin",J)}},ai=E=>Ei(Ae(),R[E]||R.input),jr=(E,C)=>{["string","number"].includes(typeof C)?E.value="".concat(C):be(C)||Z('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof C,'"'))},Yt={};Yt.text=Yt.email=Yt.password=Yt.number=Yt.tel=Yt.url=(E,C)=>(jr(E,C.inputValue),ji(E,E,C),Ji(E,C),E.type=C.input,E),Yt.file=(E,C)=>(ji(E,E,C),Ji(E,C),E),Yt.range=(E,C)=>{const P=E.querySelector("input"),J=E.querySelector("output");return jr(P,C.inputValue),P.type=C.input,jr(J,C.inputValue),ji(P,E,C),E},Yt.select=(E,C)=>{if(E.textContent="",C.inputPlaceholder){const P=document.createElement("option");Ft(P,C.inputPlaceholder),P.value="",P.disabled=!0,P.selected=!0,E.appendChild(P)}return ji(E,E,C),E},Yt.radio=E=>(E.textContent="",E),Yt.checkbox=(E,C)=>{const P=wi(Ae(),"checkbox");P.value="1",P.id=R.checkbox,P.checked=Boolean(C.inputValue);const J=E.querySelector("span");return Ft(J,C.inputPlaceholder),P},Yt.textarea=(E,C)=>{jr(E,C.inputValue),Ji(E,C),ji(E,E,C);return setTimeout(()=>{if("MutationObserver"in window){const J=parseInt(window.getComputedStyle(Ae()).width);new MutationObserver(()=>{const ct=E.offsetWidth+(J=>parseInt(window.getComputedStyle(J).marginLeft)+parseInt(window.getComputedStyle(J).marginRight))(E);Ae().style.width=ct>J?"".concat(ct,"px"):null}).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};const Ns=(E,C)=>{const P=Se();St(P,C,"htmlContainer"),C.html?(re(C.html,P),yn(P,"block")):C.text?(P.textContent=C.text,yn(P,"block")):$n(P),((E,C)=>{const P=Ae(),J=H.innerParams.get(E),xe=!J||C.input!==J.input;Ur.forEach(ct=>{const Pn=Ei(P,R[ct]);At(ct,C.inputAttributes),Pn.className=R[ct],xe&&$n(Pn)}),C.input&&(xe&&oi(C),pn(C))})(E,C)},Nn=(E,C)=>{for(const P in N)C.icon!==P&&Di(E,N[P]);xt(E,N[C.icon]),Ms(E,C),Ys(),St(E,C,"icon")},Ys=()=>{const E=Ae(),C=window.getComputedStyle(E).getPropertyValue("background-color"),P=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let J=0;J<P.length;J++)P[J].style.backgroundColor=C},ni=(E,C)=>{let J,P=E.innerHTML;C.iconHtml?J=cs(C.iconHtml):"success"===C.icon?(J='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',P=P.replace(/ style=".*?"/g,"")):J="error"===C.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':cs({question:"?",warning:"!",info:"i"}[C.icon]),P.trim()!==J.trim()&&Ft(E,J)},Ms=(E,C)=>{if(C.iconColor){E.style.color=C.iconColor,E.style.borderColor=C.iconColor;for(const P of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])lt(E,P,"backgroundColor",C.iconColor);lt(E,".swal2-success-ring","borderColor",C.iconColor)}},cs=E=>'<div class="'.concat(R["icon-content"],'">').concat(E,"</div>"),Va=(E,C)=>{E.className="".concat(R.popup," ").concat(qn(E)?C.showClass.popup:""),C.toast?(xt([document.documentElement,document.body],R["toast-shown"]),xt(E,R.toast)):xt(E,R.modal),St(E,C,"popup"),"string"==typeof C.customClass&&xt(E,C.customClass),C.icon&&xt(E,R["icon-".concat(C.icon)])},Bl=E=>{const C=document.createElement("li");return xt(C,R["progress-step"]),Ft(C,E),C},Ul=E=>{const C=document.createElement("li");return xt(C,R["progress-step-line"]),E.progressStepsDistance&&pi(C,"width",E.progressStepsDistance),C},Co=(E,C)=>{((E,C)=>{const P=Ze(),J=Ae();C.toast?(pi(P,"width",C.width),J.style.width="100%",J.insertBefore(ie(),Be())):pi(J,"width",C.width),pi(J,"padding",C.padding),C.color&&(J.style.color=C.color),C.background&&(J.style.background=C.background),$n(Me()),Va(J,C)})(0,C),Qt(0,C),((E,C)=>{const P=Re();C.progressSteps&&0!==C.progressSteps.length?(yn(P),P.textContent="",C.currentProgressStep>=C.progressSteps.length&&Z("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.progressSteps.forEach((J,xe)=>{const ct=Bl(J);if(P.appendChild(ct),xe===C.currentProgressStep&&xt(ct,R["active-progress-step"]),xe!==C.progressSteps.length-1){const Pn=Ul(C);P.appendChild(Pn)}})):$n(P)})(0,C),((E,C)=>{const P=H.innerParams.get(E),J=Be();P&&C.icon===P.icon?(ni(J,C),Nn(J,C)):C.icon||C.iconHtml?C.icon&&-1===Object.keys(N).indexOf(C.icon)?(Q('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(C.icon,'"')),$n(J)):(yn(J),ni(J,C),Nn(J,C),xt(J,C.showClass.icon)):$n(J)})(E,C),((E,C)=>{const P=ye();C.imageUrl?(yn(P,""),P.setAttribute("src",C.imageUrl),P.setAttribute("alt",C.imageAlt),pi(P,"width",C.imageWidth),pi(P,"height",C.imageHeight),P.className=R.image,St(P,C,"image")):$n(P)})(0,C),((E,C)=>{const P=ke();Mi(P,C.title||C.titleText,"block"),C.title&&re(C.title,P),C.titleText&&(P.innerText=C.titleText),St(P,C,"title")})(0,C),((E,C)=>{const P=yt();Ft(P,C.closeButtonHtml),St(P,C,"closeButton"),Mi(P,C.showCloseButton),P.setAttribute("aria-label",C.closeButtonAriaLabel)})(0,C),Ns(E,C),et(0,C),((E,C)=>{const P=Ge();Mi(P,C.footer),C.footer&&re(C.footer,P),St(P,C,"footer")})(0,C),"function"==typeof C.didRender&&C.didRender(Ae())};function Xi(){const E=H.innerParams.get(this);if(!E)return;const C=H.domCache.get(this);$n(C.loader),tn()?E.icon&&yn(Be()):Os(C),Di([C.popup,C.actions],R.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}const Os=E=>{const C=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));C.length?yn(C[0],"inline-block"):!qn(G())&&!qn(_e())&&!qn(fe())&&$n(E.actions)};const Ba=()=>G()&&G().click(),us=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),To=E=>{E.keydownTarget&&E.keydownHandlerAdded&&(E.keydownTarget.removeEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!1)},Ii=(E,C,P)=>{const J=qt();if(J.length)return(C+=P)===J.length?C=0:-1===C&&(C=J.length-1),J[C].focus();Ae().focus()},Lc=["ArrowRight","ArrowDown"],Vc=["ArrowLeft","ArrowUp"],Uu=(E,C,P)=>{const J=H.innerParams.get(E);!J||C.isComposing||229===C.keyCode||(J.stopKeydownPropagation&&C.stopPropagation(),"Enter"===C.key?Js(E,C,J):"Tab"===C.key?Hl(C,J):[...Lc,...Vc].includes(C.key)?yi(C.key):"Escape"===C.key&&Bc(C,J,P))},Js=(E,C,P)=>{if(X(P.allowEnterKey)&&C.target&&E.getInput()&&C.target instanceof HTMLElement&&C.target.outerHTML===E.getInput().outerHTML){if(["textarea","file"].includes(P.input))return;Ba(),C.preventDefault()}},Hl=(E,C)=>{const P=E.target,J=qt();let xe=-1;for(let ct=0;ct<J.length;ct++)if(P===J[ct]){xe=ct;break}Ii(0,xe,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},yi=E=>{const C=G(),P=_e(),J=fe();if(document.activeElement instanceof HTMLElement&&![C,P,J].includes(document.activeElement))return;const xe=Lc.includes(E)?"nextElementSibling":"previousElementSibling";let ct=document.activeElement;for(let Pn=0;Pn<ue().children.length;Pn++){if(ct=ct[xe],!ct)return;if(ct instanceof HTMLButtonElement&&qn(ct))break}ct instanceof HTMLButtonElement&&ct.focus()},Bc=(E,C,P)=>{X(C.allowEscapeKey)&&(E.preventDefault(),P(us.esc))};var Ua={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ju=()=>{Array.from(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})},Gl=()=>{const E=navigator.userAgent,C=!!E.match(/iPad/i)||!!E.match(/iPhone/i),P=!!E.match(/WebKit/i);C&&P&&!E.match(/CriOS/i)&&Ae().scrollHeight>window.innerHeight-44&&(Ze().style.paddingBottom="".concat(44,"px"))},xs=()=>{const E=Ze();let C;E.ontouchstart=P=>{C=eh(P)},E.ontouchmove=P=>{C&&(P.preventDefault(),P.stopPropagation())}},eh=E=>{const C=E.target,P=Ze();return!Uc(E)&&!th(E)&&(C===P||!pr(P)&&C instanceof HTMLElement&&"INPUT"!==C.tagName&&"TEXTAREA"!==C.tagName&&!(pr(Se())&&Se().contains(C)))},Uc=E=>E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType,th=E=>E.touches&&E.touches.length>1,jc=()=>{null===zt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(zt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(zt.previousBodyPadding+(()=>{const E=document.createElement("div");E.className=R["scrollbar-measure"],document.body.appendChild(E);const C=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),C})(),"px"))};function $l(E,C,P,J){tn()?Ha(E,J):(vn(P).then(()=>Ha(E,J)),To(Je)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),tt()&&(null!==zt.previousBodyPadding&&(document.body.style.paddingRight="".concat(zt.previousBodyPadding,"px"),zt.previousBodyPadding=null),(()=>{if(En(document.body,R.iosfix)){const E=parseInt(document.body.style.top,10);Di(document.body,R.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}})(),ju()),function Hc(){Di([document.documentElement,document.body],[R.shown,R["height-auto"],R["no-backdrop"],R["toast-shown"]])}()}function Xs(E){E=$r(E);const C=Ua.swalPromiseResolve.get(this),P=Gr(this);this.isAwaitingPromise()?E.isDismissed||(lr(this),C(E)):P&&C(E)}const Gr=E=>{const C=Ae();if(!C)return!1;const P=H.innerParams.get(E);if(!P||En(C,P.hideClass.popup))return!1;Di(C,P.showClass.popup),xt(C,P.hideClass.popup);const J=Ze();return Di(J,P.showClass.backdrop),xt(J,P.hideClass.backdrop),sa(E,C,P),!0};const lr=E=>{E.isAwaitingPromise()&&(H.awaitingPromise.delete(E),H.innerParams.get(E)||E._destroy())},$r=E=>typeof E>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E),sa=(E,C,P)=>{const J=Ze(),xe=oe&&ar(C);"function"==typeof P.willClose&&P.willClose(C),xe?ja(E,C,J,P.returnFocus,P.didClose):$l(E,J,P.returnFocus,P.didClose)},ja=(E,C,P,J,xe)=>{Je.swalCloseEventFinishedCallback=$l.bind(null,E,P,J,xe),C.addEventListener(oe,function(ct){ct.target===C&&(Je.swalCloseEventFinishedCallback(),delete Je.swalCloseEventFinishedCallback)})},Ha=(E,C)=>{setTimeout(()=>{"function"==typeof C&&C.bind(E.params)(),E._destroy()})};function Gc(E,C,P){const J=H.domCache.get(E);C.forEach(xe=>{J[xe].disabled=P})}function zn(E,C){if(E)if("radio"===E.type){const J=E.parentNode.parentNode.querySelectorAll("input");for(let xe=0;xe<J.length;xe++)J[xe].disabled=C}else E.disabled=C}const So={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Zn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ga={},$u=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ur=E=>Object.prototype.hasOwnProperty.call(So,E),Hi=E=>-1!==Zn.indexOf(E),Ao=E=>Ga[E],No=E=>{ur(E)||Z('Unknown parameter "'.concat(E,'"'))},ps=E=>{$u.includes(E)&&Z('The parameter "'.concat(E,'" is incompatible with toasts'))},on=E=>{Ao(E)&&Y(E,Ao(E))};const qa=E=>{const C={};return Object.keys(E).forEach(P=>{Hi(P)?C[P]=E[P]:Z("Invalid parameter to update: ".concat(P))}),C};const za=E=>{kn(E),delete E.params,delete Je.keydownHandler,delete Je.keydownTarget,delete Je.currentInstance},kn=E=>{E.isAwaitingPromise()?(Nt(H,E),H.awaitingPromise.set(E,!0)):(Nt(Ua,E),Nt(H,E))},Nt=(E,C)=>{for(const P in E)E[P].delete(C)};var oa=Object.freeze({hideLoading:Xi,disableLoading:Xi,getInput:function Ir(E){const C=H.innerParams.get(E||this),P=H.domCache.get(E||this);return P?wi(P.popup,C.input):null},close:Xs,isAwaitingPromise:function Hu(){return!!H.awaitingPromise.get(this)},rejectPromise:function hs(E){const C=Ua.swalPromiseReject.get(this);lr(this),C&&C(E)},handleAwaitingPromise:lr,closePopup:Xs,closeModal:Xs,closeToast:Xs,enableButtons:function fs(){Gc(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function gr(){Gc(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function cr(){zn(this.getInput(),!1)},disableInput:function Io(){zn(this.getInput(),!0)},showValidationMessage:function ql(E){const C=H.domCache.get(this),P=H.innerParams.get(this);Ft(C.validationMessage,E),C.validationMessage.className=R["validation-message"],P.customClass&&P.customClass.validationMessage&&xt(C.validationMessage,P.customClass.validationMessage),yn(C.validationMessage);const J=this.getInput();J&&(J.setAttribute("aria-invalid",!0),J.setAttribute("aria-describedby",R["validation-message"]),Gn(J),xt(J,R.inputerror))},resetValidationMessage:function xi(){const E=H.domCache.get(this);E.validationMessage&&$n(E.validationMessage);const C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),Di(C,R.inputerror))},getProgressSteps:function Gu(){return H.domCache.get(this).progressSteps},update:function eo(E){const C=Ae(),P=H.innerParams.get(this);if(!C||En(C,P.hideClass.popup))return Z("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const J=qa(E),xe=Object.assign({},P,J);Co(this,xe),H.innerParams.set(this,xe),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})},_destroy:function Sr(){const E=H.domCache.get(this),C=H.innerParams.get(this);C?(E.popup&&Je.swalCloseEventFinishedCallback&&(Je.swalCloseEventFinishedCallback(),delete Je.swalCloseEventFinishedCallback),"function"==typeof C.didDestroy&&C.didDestroy(),za(this)):kn(this)}});const Mo=E=>{let C=Ae();C||new ii,C=Ae();const P=ie();tn()?$n(Be()):Za(C,E),yn(P),C.setAttribute("data-loading","true"),C.setAttribute("aria-busy","true"),C.focus()},Za=(E,C)=>{const P=ue(),J=ie();!C&&qn(G())&&(C=G()),yn(P),C&&($n(C),J.setAttribute("data-button-to-replace",C.className)),J.parentNode.insertBefore(J,C),xt([E,P],R.loading)},gs=E=>E.checked?1:0,Zl=E=>E.checked?E.value:null,aa=E=>E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null,Ve=(E,C)=>{const P=Ae(),J=xe=>{Ka[C.input](P,Oo(xe),C)};Te(C.inputOptions)||be(C.inputOptions)?(Mo(G()),Ee(C.inputOptions).then(xe=>{E.hideLoading(),J(xe)})):"object"==typeof C.inputOptions?J(C.inputOptions):Q("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof C.inputOptions))},Jt=(E,C)=>{const P=E.getInput();$n(P),Ee(C.inputValue).then(J=>{P.value="".concat("number"===C.input?parseFloat(J)||0:J),yn(P),P.focus(),E.hideLoading()}).catch(J=>{Q("Error in inputValue promise: ".concat(J)),P.value="",yn(P),P.focus(),E.hideLoading()})},Ka={select:(E,C,P)=>{const J=Ei(E,R.select),xe=(ct,Pn,gn)=>{const In=document.createElement("option");In.value=gn,Ft(In,Pn),In.selected=Bn(gn,P.inputValue),ct.appendChild(In)};C.forEach(ct=>{const Pn=ct[0],gn=ct[1];if(Array.isArray(gn)){const In=document.createElement("optgroup");In.label=Pn,In.disabled=!1,J.appendChild(In),gn.forEach(_s=>xe(In,_s[1],_s[0]))}else xe(J,gn,Pn)}),J.focus()},radio:(E,C,P)=>{const J=Ei(E,R.radio);C.forEach(ct=>{const Pn=ct[0],gn=ct[1],In=document.createElement("input"),_s=document.createElement("label");In.type="radio",In.name=R.radio,In.value=Pn,Bn(Pn,P.inputValue)&&(In.checked=!0);const ys=document.createElement("span");Ft(ys,gn),ys.className=R.label,_s.appendChild(In),_s.appendChild(ys),J.appendChild(_s)});const xe=J.querySelectorAll("input");xe.length&&xe[0].focus()}},Oo=E=>{const C=[];return typeof Map<"u"&&E instanceof Map?E.forEach((P,J)=>{let xe=P;"object"==typeof xe&&(xe=Oo(xe)),C.push([J,xe])}):Object.keys(E).forEach(P=>{let J=E[P];"object"==typeof J&&(J=Oo(J)),C.push([P,J])}),C},Bn=(E,C)=>C&&C.toString()===E.toString(),Ro=(E,C)=>{const P=H.innerParams.get(E);if(!P.input)return void Q('The "input" parameter is needed to be set when using returnInputValueOn'.concat(q(C)));const J=((E,C)=>{const P=E.getInput();if(!P)return null;switch(C.input){case"checkbox":return gs(P);case"radio":return Zl(P);case"file":return aa(P);default:return C.inputAutoTrim?P.value.trim():P.value}})(E,P);P.inputValidator?la(E,J,C):E.getInput().checkValidity()?"deny"===C?ca(E,J):to(E,J):(E.enableButtons(),E.showValidationMessage(P.validationMessage))},la=(E,C,P)=>{const J=H.innerParams.get(E);E.disableInput(),Promise.resolve().then(()=>Ee(J.inputValidator(C,J.validationMessage))).then(ct=>{E.enableButtons(),E.enableInput(),ct?E.showValidationMessage(ct):"deny"===P?ca(E,C):to(E,C)})},ca=(E,C)=>{const P=H.innerParams.get(E||void 0);P.showLoaderOnDeny&&Mo(_e()),P.preDeny?(H.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>Ee(P.preDeny(C,P.validationMessage))).then(xe=>{!1===xe?(E.hideLoading(),lr(E)):E.close({isDenied:!0,value:typeof xe>"u"?C:xe})}).catch(xe=>Wl(E||void 0,xe))):E.close({isDenied:!0,value:C})},Qa=(E,C)=>{E.close({isConfirmed:!0,value:C})},Wl=(E,C)=>{E.rejectPromise(C)},to=(E,C)=>{const P=H.innerParams.get(E||void 0);P.showLoaderOnConfirm&&Mo(),P.preConfirm?(E.resetValidationMessage(),H.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>Ee(P.preConfirm(C,P.validationMessage))).then(xe=>{qn(Me())||!1===xe?(E.hideLoading(),lr(E)):Qa(E,typeof xe>"u"?C:xe)}).catch(xe=>Wl(E||void 0,xe))):Qa(E,C)},qr=(E,C,P)=>{C.popup.onclick=()=>{const J=H.innerParams.get(E);J&&(Kl(J)||J.timer||J.input)||P(us.close)}},Kl=E=>E.showConfirmButton||E.showDenyButton||E.showCancelButton||E.showCloseButton;let zr=!1;const ms=E=>{E.popup.onmousedown=()=>{E.container.onmouseup=function(C){E.container.onmouseup=void 0,C.target===E.container&&(zr=!0)}}},ih=E=>{E.container.onmousedown=()=>{E.popup.onmouseup=function(C){E.popup.onmouseup=void 0,(C.target===E.popup||E.popup.contains(C.target))&&(zr=!0)}}},ua=(E,C,P)=>{C.container.onclick=J=>{const xe=H.innerParams.get(E);zr?zr=!1:J.target===C.container&&X(xe.allowOutsideClick)&&P(us.backdrop)}},Ja=E=>E instanceof Element||(E=>"object"==typeof E&&E.jquery)(E);const el=()=>{if(Je.timeout)return(()=>{const E=He(),C=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";const J=C/parseInt(window.getComputedStyle(E).width)*100;E.style.removeProperty("transition"),E.style.width="".concat(J,"%")})(),Je.timeout.stop()},fa=()=>{if(Je.timeout){const E=Je.timeout.start();return Vn(E),E}};let nl=!1;const il={};const io=E=>{for(let C=E.target;C&&C!==document;C=C.parentNode)for(const P in il){const J=C.getAttribute(P);if(J)return void il[P].fire({template:J})}};var rl=Object.freeze({isValidParameter:ur,isUpdatableParameter:Hi,isDeprecatedParameter:Ao,argsToParams:E=>{const C={};return"object"!=typeof E[0]||Ja(E[0])?["title","html","icon"].forEach((P,J)=>{const xe=E[J];"string"==typeof xe||Ja(xe)?C[P]=xe:void 0!==xe&&Q("Unexpected type of ".concat(P,'! Expected "string" or "Element", got ').concat(typeof xe))}):Object.assign(C,E[0]),C},isVisible:()=>qn(Ae()),clickConfirm:Ba,clickDeny:()=>_e()&&_e().click(),clickCancel:()=>fe()&&fe().click(),getContainer:Ze,getPopup:Ae,getTitle:ke,getHtmlContainer:Se,getImage:ye,getIcon:Be,getInputLabel:()=>pe(R["input-label"]),getCloseButton:yt,getActions:ue,getConfirmButton:G,getDenyButton:_e,getCancelButton:fe,getLoader:ie,getFooter:Ge,getTimerProgressBar:He,getFocusableElements:qt,getValidationMessage:Me,isLoading:()=>Ae().hasAttribute("data-loading"),fire:function da(){const E=this;for(var C=arguments.length,P=new Array(C),J=0;J<C;J++)P[J]=arguments[J];return new E(...P)},mixin:function Yl(E){return class C extends(this){_main(J,xe){return super._main(J,Object.assign({},E,xe))}}},showLoading:Mo,enableLoading:Mo,getTimerLeft:()=>Je.timeout&&Je.timeout.getTimerLeft(),stopTimer:el,resumeTimer:fa,toggleTimer:()=>{const E=Je.timeout;return E&&(E.running?el():fa())},increaseTimer:E=>{if(Je.timeout){const C=Je.timeout.increase(E);return Vn(C,!0),C}},isTimerRunning:()=>Je.timeout&&Je.timeout.isRunning(),bindClickHandler:function no(){il[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,nl||(document.body.addEventListener("click",io),nl=!0)}});class vi{constructor(C,P){this.callback=C,this.remaining=P,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(C){const P=this.running;return P&&this.stop(),this.remaining+=C,P&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const tr=["swal-title","swal-html","swal-footer"],$c=E=>{const C={};return Array.from(E.querySelectorAll("swal-param")).forEach(J=>{_r(J,["name","value"]);const xe=J.getAttribute("name"),ct=J.getAttribute("value");C[xe]="boolean"==typeof So[xe]?"false"!==ct:"object"==typeof So[xe]?JSON.parse(ct):ct}),C},Xl=E=>{const C={};return Array.from(E.querySelectorAll("swal-function-param")).forEach(J=>{const xe=J.getAttribute("name"),ct=J.getAttribute("value");C[xe]=new Function("return ".concat(ct))()}),C},qu=E=>{const C={};return Array.from(E.querySelectorAll("swal-button")).forEach(J=>{_r(J,["type","color","aria-label"]);const xe=J.getAttribute("type");C["".concat(xe,"ButtonText")]=J.innerHTML,C["show".concat(q(xe),"Button")]=!0,J.hasAttribute("color")&&(C["".concat(xe,"ButtonColor")]=J.getAttribute("color")),J.hasAttribute("aria-label")&&(C["".concat(xe,"ButtonAriaLabel")]=J.getAttribute("aria-label"))}),C},ec=E=>{const C={},P=E.querySelector("swal-image");return P&&(_r(P,["src","width","height","alt"]),P.hasAttribute("src")&&(C.imageUrl=P.getAttribute("src")),P.hasAttribute("width")&&(C.imageWidth=P.getAttribute("width")),P.hasAttribute("height")&&(C.imageHeight=P.getAttribute("height")),P.hasAttribute("alt")&&(C.imageAlt=P.getAttribute("alt"))),C},sl=E=>{const C={},P=E.querySelector("swal-icon");return P&&(_r(P,["type","color"]),P.hasAttribute("type")&&(C.icon=P.getAttribute("type")),P.hasAttribute("color")&&(C.iconColor=P.getAttribute("color")),C.iconHtml=P.innerHTML),C},qc=E=>{const C={},P=E.querySelector("swal-input");P&&(_r(P,["type","label","placeholder","value"]),C.input=P.getAttribute("type")||"text",P.hasAttribute("label")&&(C.inputLabel=P.getAttribute("label")),P.hasAttribute("placeholder")&&(C.inputPlaceholder=P.getAttribute("placeholder")),P.hasAttribute("value")&&(C.inputValue=P.getAttribute("value")));const J=Array.from(E.querySelectorAll("swal-input-option"));return J.length&&(C.inputOptions={},J.forEach(xe=>{_r(xe,["value"]);const ct=xe.getAttribute("value");C.inputOptions[ct]=xe.innerHTML})),C},tc=(E,C)=>{const P={};for(const J in C){const xe=C[J],ct=E.querySelector(xe);ct&&(_r(ct,[]),P[xe.replace(/^swal-/,"")]=ct.innerHTML.trim())}return P},ko=E=>{const C=tr.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(E.children).forEach(P=>{const J=P.tagName.toLowerCase();C.includes(J)||Z("Unrecognized element <".concat(J,">"))})},_r=(E,C)=>{Array.from(E.attributes).forEach(P=>{-1===C.indexOf(P.name)&&Z(['Unrecognized attribute "'.concat(P.name,'" on <').concat(E.tagName.toLowerCase(),">."),"".concat(C.length?"Allowed attributes are: ".concat(C.join(", ")):"To set the value, use HTML within the element.")])})},Po=E=>{const C=Ze(),P=Ae();"function"==typeof E.willOpen&&E.willOpen(P);const xe=window.getComputedStyle(document.body).overflowY;ro(C,P,E),setTimeout(()=>{ks(C,P)},10),tt()&&(Ps(C,E.scrollbarPadding,xe),Array.from(document.body.children).forEach(C=>{C===Ze()||C.contains(Ze())||(C.hasAttribute("aria-hidden")&&C.setAttribute("data-previous-aria-hidden",C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))})),!tn()&&!Je.previousActiveElement&&(Je.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(()=>E.didOpen(P)),Di(C,R["no-transition"])},ic=E=>{const C=Ae();if(E.target!==C)return;const P=Ze();C.removeEventListener(oe,ic),P.style.overflowY="auto"},ks=(E,C)=>{oe&&ar(C)?(E.style.overflowY="hidden",C.addEventListener(oe,ic)):E.style.overflowY="auto"},Ps=(E,C,P)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!En(document.body,R.iosfix)){const C=document.body.scrollTop;document.body.style.top="".concat(-1*C,"px"),xt(document.body,R.iosfix),xs(),Gl()}})(),C&&"hidden"!==P&&jc(),setTimeout(()=>{E.scrollTop=0})},ro=(E,C,P)=>{xt(E,P.showClass.backdrop),C.style.setProperty("opacity","0","important"),yn(C,"grid"),setTimeout(()=>{xt(C,P.showClass.popup),C.style.removeProperty("opacity")},10),xt([document.documentElement,document.body],R.shown),P.heightAuto&&P.backdrop&&!P.toast&&xt([document.documentElement,document.body],R["height-auto"])};var pa={email:(E,C)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(E)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(E,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function al(E){(function Kn(E){E.inputValidator||Object.keys(pa).forEach(C=>{E.input===C&&(E.inputValidator=pa[C])})})(E),E.showLoaderOnConfirm&&!E.preConfirm&&Z("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function ol(E){(!E.target||"string"==typeof E.target&&!document.querySelector(E.target)||"string"!=typeof E.target&&!E.target.appendChild)&&(Z('Target parameter is not valid, defaulting to "body"'),E.target="body")}(E),"string"==typeof E.title&&(E.title=E.title.split("\n").join("<br />")),ce(E)}let Ar;class Fo{constructor(){if(typeof window>"u")return;Ar=this;for(var C=arguments.length,P=new Array(C),J=0;J<C;J++)P[J]=arguments[J];const xe=Object.freeze(this.constructor.argsToParams(P));Object.defineProperties(this,{params:{value:xe,writable:!1,enumerable:!0,configurable:!0}});const ct=Ar._main(Ar.params);H.promise.set(this,ct)}_main(C){let P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(E=>{!E.backdrop&&E.allowOutsideClick&&Z('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const C in E)No(C),E.toast&&ps(C),on(C)})(Object.assign({},P,C)),Je.currentInstance&&(Je.currentInstance._destroy(),tt()&&ju()),Je.currentInstance=Ar;const J=Lo(C,P);al(J),Object.freeze(J),Je.timeout&&(Je.timeout.stop(),delete Je.timeout),clearTimeout(Je.restoreFocusTimeout);const xe=oo(Ar);return Co(Ar,J),H.innerParams.set(Ar,J),so(Ar,xe,J)}then(C){return H.promise.get(this).then(C)}finally(C){return H.promise.get(this).finally(C)}}const so=(E,C,P)=>new Promise((J,xe)=>{const ct=Pn=>{E.close({isDismissed:!0,dismiss:Pn})};Ua.swalPromiseResolve.set(E,J),Ua.swalPromiseReject.set(E,xe),C.confirmButton.onclick=()=>{(E=>{const C=H.innerParams.get(E);E.disableButtons(),C.input?Ro(E,"confirm"):to(E,!0)})(E)},C.denyButton.onclick=()=>{(E=>{const C=H.innerParams.get(E);E.disableButtons(),C.returnInputValueOnDeny?Ro(E,"deny"):ca(E,!1)})(E)},C.cancelButton.onclick=()=>{((E,C)=>{E.disableButtons(),C(us.cancel)})(E,ct)},C.closeButton.onclick=()=>{ct(us.close)},((E,C,P)=>{H.innerParams.get(E).toast?qr(E,C,P):(ms(C),ih(C),ua(E,C,P))})(E,C,ct),((E,C,P,J)=>{To(C),P.toast||(C.keydownHandler=xe=>Uu(E,xe,J),C.keydownTarget=P.keydownListenerCapture?window:Ae(),C.keydownListenerCapture=P.keydownListenerCapture,C.keydownTarget.addEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!0)})(E,Je,P,ct),((E,C)=>{"select"===C.input||"radio"===C.input?Ve(E,C):["text","email","number","tel","textarea"].includes(C.input)&&(Te(C.inputValue)||be(C.inputValue))&&(Mo(G()),Jt(E,C))})(E,P),Po(P),ll(Je,P,ct),ga(C,P),setTimeout(()=>{C.container.scrollTop=0})}),Lo=(E,C)=>{const P=(E=>{const C="string"==typeof E.template?document.querySelector(E.template):E.template;if(!C)return{};const P=C.content;return ko(P),Object.assign($c(P),Xl(P),qu(P),ec(P),sl(P),qc(P),tc(P,tr))})(E),J=Object.assign({},So,C,P,E);return J.showClass=Object.assign({},So.showClass,J.showClass),J.hideClass=Object.assign({},So.hideClass,J.hideClass),J},oo=E=>{const C={popup:Ae(),container:Ze(),actions:ue(),confirmButton:G(),denyButton:_e(),cancelButton:fe(),loader:ie(),closeButton:yt(),validationMessage:Me(),progressSteps:Re()};return H.domCache.set(E,C),C},ll=(E,C,P)=>{const J=He();$n(J),C.timer&&(E.timeout=new vi(()=>{P("timer"),delete E.timeout},C.timer),C.timerProgressBar&&(yn(J),St(J,C,"timerProgressBar"),setTimeout(()=>{E.timeout&&E.timeout.running&&Vn(C.timer)})))},ga=(E,C)=>{if(!C.toast){if(!X(C.allowEnterKey))return void Zc();zc(E,C)||Ii(0,-1,1)}},zc=(E,C)=>C.focusDeny&&qn(E.denyButton)?(E.denyButton.focus(),!0):C.focusCancel&&qn(E.cancelButton)?(E.cancelButton.focus(),!0):!(!C.focusConfirm||!qn(E.confirmButton)||(E.confirmButton.focus(),0)),Zc=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&(document.body.style.pointerEvents="none"),Object.assign(Fo.prototype,oa),Object.assign(Fo,rl),Object.keys(oa).forEach(E=>{Fo[E]=function(){if(Ar)return Ar[E](...arguments)}}),Fo.DismissReason=us,Fo.version="11.5.1";const ii=Fo;return ii.default=ii,ii}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(H,k){var l=H.createElement("style");if(H.getElementsByTagName("head")[0].appendChild(l),l.styleSheet)l.styleSheet.disabled||(l.styleSheet.cssText=k);else try{l.innerHTML=k}catch{l.innerText=k}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(qe,H,k)=>{"use strict";function B(ee,ie){var fe={};for(var ue in ee)Object.prototype.hasOwnProperty.call(ee,ue)&&ie.indexOf(ue)<0&&(fe[ue]=ee[ue]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var Ge=0;for(ue=Object.getOwnPropertySymbols(ee);Ge<ue.length;Ge++)ie.indexOf(ue[Ge])<0&&Object.prototype.propertyIsEnumerable.call(ee,ue[Ge])&&(fe[ue[Ge]]=ee[ue[Ge]])}return fe}function Q(ee,ie,fe,ue){return new(fe||(fe=Promise))(function(He,yt){function en(tn){try{tt(ue.next(tn))}catch(xn){yt(xn)}}function qt(tn){try{tt(ue.throw(tn))}catch(xn){yt(xn)}}function tt(tn){tn.done?He(tn.value):function Ge(He){return He instanceof fe?He:new fe(function(yt){yt(He)})}(tn.value).then(en,qt)}tt((ue=ue.apply(ee,ie||[])).next())})}function me(ee){return this instanceof me?(this.v=ee,this):new me(ee)}function pe(ee,ie,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,ue=fe.apply(ee,ie||[]),He=[];return Ge={},yt("next"),yt("throw"),yt("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge;function yt(zt){ue[zt]&&(Ge[zt]=function(Ft){return new Promise(function(En,jt){He.push([zt,Ft,En,jt])>1||en(zt,Ft)})})}function en(zt,Ft){try{!function qt(zt){zt.value instanceof me?Promise.resolve(zt.value.v).then(tt,tn):xn(He[0][2],zt)}(ue[zt](Ft))}catch(En){xn(He[0][3],En)}}function tt(zt){en("next",zt)}function tn(zt){en("throw",zt)}function xn(zt,Ft){zt(Ft),He.shift(),He.length&&en(He[0][0],He[0][1])}}function Be(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ie=ee[Symbol.asyncIterator];return ie?ie.call(ee):(ee=function X(ee){var ie="function"==typeof Symbol&&Symbol.iterator,fe=ie&&ee[ie],ue=0;if(fe)return fe.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&ue>=ee.length&&(ee=void 0),{value:ee&&ee[ue++],done:!ee}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),fe={},ue("next"),ue("throw"),ue("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function ue(He){fe[He]=ee[He]&&function(yt){return new Promise(function(en,qt){!function Ge(He,yt,en,qt){Promise.resolve(qt).then(function(tt){He({value:tt,done:en})},yt)}(en,qt,(yt=ee[He](yt)).done,yt.value)})}}}k.d(H,{FC:()=>pe,KL:()=>Be,_T:()=>B,mG:()=>Q,qq:()=>me})},4650:(qe,H,k)=>{"use strict";k.d(H,{$8M:()=>Xc,$Z:()=>ov,AFp:()=>z0,ALo:()=>Kp,AaK:()=>Q,BQk:()=>Hh,CHM:()=>Ka,CRH:()=>tE,CZH:()=>N_,CqO:()=>K1,D6c:()=>Zs,EJc:()=>CS,EiD:()=>_c,EpF:()=>W1,F$t:()=>Bm,F4k:()=>Sv,FYo:()=>Xe,FiY:()=>We,G48:()=>Tu,Gf:()=>qi,GfV:()=>Pi,Gpc:()=>Y,HOy:()=>zm,Hsn:()=>Um,Ikx:()=>Wm,JOm:()=>El,JVY:()=>Pf,KtG:()=>Oo,L6k:()=>Ey,LAX:()=>Ty,LFG:()=>nn,LMc:()=>HE,LSH:()=>fh,Lbi:()=>Wt,Lck:()=>Rd,MAs:()=>Np,MGl:()=>jm,MMx:()=>f_,NdJ:()=>Av,OlP:()=>Fn,Oqu:()=>qm,PXZ:()=>CE,Q6J:()=>_n,QGY:()=>Iv,QP$:()=>Ur,QbO:()=>fi,Qsj:()=>ft,QtT:()=>c_,R0b:()=>hr,RDi:()=>Qg,Rgc:()=>ea,SBq:()=>V,SDv:()=>g0,Sil:()=>Hd,Suo:()=>V0,TTD:()=>lr,TgZ:()=>Pm,Tol:()=>Vv,Udp:()=>$h,VKq:()=>A0,W1O:()=>eg,WLB:()=>GD,X6Q:()=>cg,XFs:()=>lt,Xpm:()=>se,Xts:()=>gh,Y36:()=>wc,YKP:()=>LD,YNc:()=>Pe,Yjl:()=>Qt,Yz7:()=>Ft,Z0I:()=>wi,ZZ4:()=>B_,_Bn:()=>xd,_UZ:()=>rr,_Vd:()=>m,_c5:()=>ub,_uU:()=>dD,aQg:()=>U_,c2e:()=>Lt,cJS:()=>jt,cg1:()=>Fp,d8E:()=>Km,dDg:()=>ib,dqk:()=>vn,eBb:()=>Cy,eFA:()=>IE,ekj:()=>Rp,eoX:()=>EE,f3M:()=>S,g9A:()=>W0,h0i:()=>Yh,hGG:()=>pf,hij:()=>Pp,iGM:()=>eE,ifc:()=>bt,ip1:()=>bE,jDz:()=>b0,kEZ:()=>Jh,kL8:()=>Lp,lG2:()=>_i,lcZ:()=>hi,lqb:()=>Ko,lri:()=>bu,mCW:()=>wl,n5z:()=>lo,oAB:()=>vt,oJD:()=>jf,oxw:()=>Lm,pB0:()=>Ff,pQV:()=>Kh,q3G:()=>ui,q4F:()=>Gs,qLn:()=>Kf,qOj:()=>Cv,qZA:()=>Fm,qzn:()=>Ta,rWj:()=>nb,s9C:()=>Mv,sBO:()=>Gd,sIi:()=>du,s_b:()=>v_,soG:()=>un,tb:()=>jd,tp0:()=>Ot,uIk:()=>Ip,vHH:()=>be,vpe:()=>Ol,wAp:()=>kt,xp6:()=>Uw,ynx:()=>Id,z2F:()=>Eu,z3N:()=>Ds,zSh:()=>bh,zs3:()=>hd});var l=k(7579),R=k(727),N=k(9751),B=k(6451),j=k(3099);function q(s){for(let o in s)if(s[o]===q)return o;throw Error("Could not find renamed property on target object.")}function Z(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function Q(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Q).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function le(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const W=q({__forward_ref__:q});function Y(s){return s.__forward_ref__=Y,s.toString=function(){return Q(this())},s}function X(s){return Te(s)?s():s}function Te(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===Y}class be extends Error{constructor(o,c){super(function Ze(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function Se(s,o){throw new be(-201,!1)}function tt(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}function Ft(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function jt(s){return{providers:s.providers||[],imports:s.imports||[]}}function St(s){return Gn(s,Ei)||Gn(s,yn)}function wi(s){return null!==St(s)}function Gn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Di(s){return s&&(s.hasOwnProperty(pi)||s.hasOwnProperty($n))?s[pi]:null}const Ei=q({\u0275prov:q}),pi=q({\u0275inj:q}),yn=q({ngInjectableDef:q}),$n=q({ngInjectorDef:q});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Mi;function ti(s){const o=Mi;return Mi=s,o}function pr(s,o,c){const d=St(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&lt.Optional?null:void 0!==o?o:void Se(Q(s))}function Vn(s){return{toString:s}.toString()}var gi=(()=>((gi=gi||{})[gi.OnPush=0]="OnPush",gi[gi.Default=1]="Default",gi))(),bt=(()=>{return(s=bt||(bt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",bt;var s})();const vn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yi={},It=[],ls=q({\u0275cmp:q}),dn=q({\u0275dir:q}),Tr=q({\u0275pipe:q}),cn=q({\u0275mod:q}),ce=q({\u0275fac:q}),re=q({__NG_ELEMENT_ID__:q});let te=0;function se(s){return Vn(()=>{const c=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===gi.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||It,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||bt.Emulated,id:"c"+te++,styles:s.styles||It,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return h.inputs=ln(s.inputs,d),h.outputs=ln(s.outputs),v&&v.forEach(D=>D(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(Le).filter(et):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(si).filter(et):null,h})}function Le(s){return Gt(s)||Rn(s)}function et(s){return null!==s}function vt(s){return Vn(()=>({type:s.type,bootstrap:s.bootstrap||It,declarations:s.declarations||It,imports:s.imports||It,exports:s.exports||It,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function ln(s,o){if(null==s)return Yi;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=d,o&&(o[h]=g)}return c}const _i=se;function Qt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Gt(s){return s[ls]||null}function Rn(s){return s[dn]||null}function si(s){return s[Tr]||null}function Ur(s){const o=Gt(s)||Rn(s)||si(s);return null!==o&&o.standalone}function Qi(s,o){const c=s[cn]||null;if(!c&&!0===o)throw new Error(`Type ${Q(s)} does not have '\u0275mod' property.`);return c}function Ti(s){return Array.isArray(s)&&"object"==typeof s[1]}function er(s){return Array.isArray(s)&&!0===s[1]}function us(s){return 0!=(8&s.flags)}function To(s){return 2==(2&s.flags)}function jl(s){return 1==(1&s.flags)}function Ii(s){return null!==s.template}function Lc(s){return 0!=(256&s[2])}function Gr(s,o){return s.hasOwnProperty(ce)?s[ce]:null}class hs{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function lr(){return $r}function $r(s){return s.type.prototype.ngOnChanges&&(s.setInput=ja),sa}function sa(){const s=Gc(this),o=s?.current;if(o){const c=s.previous;if(c===Yi)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function ja(s,o,c,d){const h=Gc(s)||function zn(s,o){return s[Ha]=o}(s,{previous:Yi,current:null}),g=h.current||(h.current={}),v=h.previous,D=this.declaredInputs[c],T=v[D];g[D]=new hs(T&&T.currentValue,o,v===Yi),s[d]=o}lr.ngInherit=!0;const Ha="__ngSimpleChanges__";function Gc(s){return s[Ha]||null}function Zn(s){for(;Array.isArray(s);)s=s[0];return s}function ur(s,o){return Zn(o[s])}function Hi(s,o){return Zn(o[s.index])}function No(s,o){return s.data[o]}function ps(s,o){return s[o]}function on(s,o){const c=o[s];return Ti(c)?c:c[0]}function eo(s){return 64==(64&s[2])}function Sr(s,o){return null==o?null:s[o]}function za(s){s[18]=0}function kn(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const Nt={lFrame:Jl(null),bindingsEnabled:!0};function gs(){return Nt.bindingsEnabled}function Ve(){return Nt.lFrame.lView}function Jt(){return Nt.lFrame.tView}function Ka(s){return Nt.lFrame.contextLView=s,s[8]}function Oo(s){return Nt.lFrame.contextLView=null,s}function Bn(){let s=Ya();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ya(){return Nt.lFrame.currentTNode}function xo(){const s=Nt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function mr(s,o){const c=Nt.lFrame;c.currentTNode=s,c.isParent=o}function Ro(){return Nt.lFrame.isParent}function la(){Nt.lFrame.isParent=!1}function Wn(){const s=Nt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function qr(){return Nt.lFrame.bindingIndex}function zr(){return Nt.lFrame.bindingIndex++}function ms(s){const o=Nt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function ua(s){Nt.lFrame.inI18n=s}function rh(s,o){const c=Nt.lFrame;c.bindingIndex=c.bindingRootIndex=s,Xa(o)}function Xa(s){Nt.lFrame.currentDirectiveIndex=s}function da(s){const o=Nt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Yl(){return Nt.lFrame.currentQueryIndex}function ha(s){Nt.lFrame.currentQueryIndex=s}function el(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function fa(s,o,c){if(c&lt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||c&lt.Host||(h=el(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Nt.lFrame=Ql();return d.currentTNode=o,d.lView=s,!0}function tl(s){const o=Ql(),c=s[1];Nt.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function Ql(){const s=Nt.lFrame,o=null===s?null:s.child;return null===o?Jl(s):o}function Jl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function nl(){const s=Nt.lFrame;return Nt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const il=nl;function no(){const s=nl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function vi(){return Nt.lFrame.selectedIndex}function tr(s){Nt.lFrame.selectedIndex=s}function Mn(){const s=Nt.lFrame;return No(s.tView,s.selectedIndex)}function tc(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:T,ngAfterViewChecked:O,ngOnDestroy:L}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-c,v),D&&((s.contentHooks||(s.contentHooks=[])).push(c,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,D)),T&&(s.viewHooks||(s.viewHooks=[])).push(-c,T),O&&((s.viewHooks||(s.viewHooks=[])).push(c,O),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,O)),null!=L&&(s.destroyHooks||(s.destroyHooks=[])).push(c,L)}}function ko(s,o,c){Po(s,o,3,c)}function _r(s,o,c,d){(3&s[2])===c&&Po(s,o,c,d)}function nc(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function Po(s,o,c,d){const g=d??-1,v=o.length-1;let D=0;for(let T=void 0!==d?65535&s[18]:0;T<v;T++)if("number"==typeof o[T+1]){if(D=o[T],null!=d&&D>=d)break}else o[T]<0&&(s[18]+=65536),(D<g||-1==g)&&(ic(s,c,o,T),s[18]=(4294901760&s[18])+T+2),T++}function ic(s,o,c,d){const h=c[d]<0,g=c[d+1],D=s[h?-c[d]:c[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(D)}finally{}}}else try{g.call(D)}finally{}}class Ps{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Lo(s,o,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const g=c[d++],v=c[d++],D=c[d++];s.setAttribute(o,v,D,g)}else{const g=h,v=c[++d];ll(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),d++}}return d}function oo(s){return 3===s||4===s||6===s}function ll(s){return 64===s.charCodeAt(0)}function ga(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?c=h:0===c||zc(s,c,h,null,-1===c||2===c?o[++d]:null)}}return s}function zc(s,o,c,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const D=s[g++];if("number"==typeof D){if(D===o){v=-1;break}if(D>o){v=g-1;break}}}for(;g<s.length;){const D=s[g];if("number"==typeof D)break;if(D===c){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,c),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function Zc(s){return-1!==s}function ii(s){return 32767&s}function C(s,o){let c=function E(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let P=!0;function J(s){const o=P;return P=s,o}let gn=0;const In={};function ys(s,o){const c=Wc(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,rc(d.data,s),rc(o,null),rc(d.blueprint,null));const h=Kc(s,o),g=s.injectorIndex;if(Zc(h)){const v=ii(h),D=C(h,o),T=D[1].data;for(let O=0;O<8;O++)o[g+O]=D[v+O]|T[v+O]}return o[g+8]=h,g}function rc(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Wc(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Kc(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=o;for(;null!==h;){if(d=dl(h),null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Vo(s,o,c){!function _s(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(re)&&(d=c[re]),null==d&&(d=c[re]=gn++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,c)}function Bo(s,o,c){if(c&lt.Optional||void 0!==s)return s;Se()}function Yc(s,o,c,d){if(c&lt.Optional&&void 0===d&&(d=null),0==(c&(lt.Self|lt.Host))){const h=s[9],g=ti(void 0);try{return h?h.get(o,d,c&lt.Optional):pr(o,d,c&lt.Optional)}finally{ti(g)}}return Bo(d,0,c)}function ma(s,o,c,d=lt.Default,h){if(null!==s){if(1024&o[2]){const v=function ul(s,o,c,d,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const D=sc(g,v,c,d|lt.Self,In);if(D!==In)return D;let T=g.parent;if(!T){const O=v[21];if(O){const L=O.get(c,In,d);if(L!==In)return L}T=dl(v),v=v[15]}g=T}return h}(s,o,c,d,In);if(v!==In)return v}const g=sc(s,o,c,d,In);if(g!==In)return g}return Yc(o,c,d,h)}function sc(s,o,c,d,h){const g=function zu(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(re)?s[re]:void 0;return"number"==typeof o?o>=0?255&o:Zu:o}(c);if("function"==typeof g){if(!fa(o,s,d))return d&lt.Host?Bo(h,0,d):Yc(o,c,d,h);try{const v=g(d);if(null!=v||d&lt.Optional)return v;Se()}finally{il()}}else if("number"==typeof g){let v=null,D=Wc(s,o),T=-1,O=d&lt.Host?o[16][6]:null;for((-1===D||d&lt.SkipSelf)&&(T=-1===D?Kc(s,o):o[D+8],-1!==T&&oc(d,!1)?(v=o[1],D=ii(T),o=C(T,o)):D=-1);-1!==D;){const L=o[1];if(Qc(g,D,L.data)){const $=oh(D,o,c,v,d,O);if($!==In)return $}T=o[D+8],-1!==T&&oc(d,o[1].data[D+8]===O)&&Qc(g,D,o)?(v=L,D=ii(T),o=C(T,o)):D=-1}}return h}function oh(s,o,c,d,h,g){const v=o[1],D=v.data[s+8],L=cl(D,v,c,null==d?To(D)&&P:d!=v&&0!=(3&D.type),h&lt.Host&&g===D);return null!==L?ao(o,v,L,D):In}function cl(s,o,c,d,h){const g=s.providerIndexes,v=o.data,D=1048575&g,T=s.directiveStart,L=g>>20,ae=h?D+L:s.directiveEnd;for(let ve=d?D:D+L;ve<ae;ve++){const Ie=v[ve];if(ve<T&&c===Ie||ve>=T&&Ie.type===c)return ve}if(h){const ve=v[T];if(ve&&Ii(ve)&&ve.type===c)return T}return null}function ao(s,o,c,d){let h=s[c];const g=o.data;if(function ro(s){return s instanceof Ps}(h)){const v=h;v.resolving&&function Ae(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new be(-200,`Circular dependency in DI detected for ${s}${c}`)}(function pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}(g[c]));const D=J(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?ti(v.injectImpl):null;fa(s,d,lt.Default);try{h=s[c]=v.factory(void 0,g,s,d),o.firstCreatePass&&c>=d.directiveStart&&function qc(s,o,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=$r(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,g))}(c,g[c],o)}finally{null!==T&&ti(T),J(D),v.resolving=!1,il()}}return h}function Qc(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function oc(s,o){return!(s&lt.Self||s&lt.Host&&o)}class _a{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return ma(this._tNode,this._lView,o,d,c)}}function Zu(){return new _a(Bn(),Ve())}function lo(s){return Vn(()=>{const o=s.prototype.constructor,c=o[ce]||Jc(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[ce]||Jc(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Jc(s){return Te(s)?()=>{const o=Jc(X(s));return o&&o()}:Gr(s)}function dl(s){const o=s[1],c=o.type;return 2===c?o.declTNode:1===c?s[6]:null}function Xc(s){return function sh(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const g=c[h];if(oo(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(g===o)return c[h+1];h+=2}}}return null}(Bn(),s)}const Uo="__parameters__";function pl(s,o,c){return Vn(()=>{const d=function eu(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return D.annotation=v,D;function D(T,O,L){const $=T.hasOwnProperty(Uo)?T[Uo]:Object.defineProperty(T,Uo,{value:[]})[Uo];for(;$.length<=L;)$.push(null);return($[L]=$[L]||[]).push(v),T}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Fn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Ft({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function mn(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),mn(d,o)):o!==s&&o.push(d)}return o}function vs(s,o){s.forEach(c=>Array.isArray(c)?vs(c,o):o(c))}function lc(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function bi(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function jo(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function ht(s,o,c){let d=Ho(s,o);return d>=0?s[1|d]=c:(d=~d,function Wu(s,o,c,d){let h=s.length;if(h==o)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function uc(s,o){const c=Ho(s,o);if(c>=0)return s[1|c]}function Ho(s,o){return function yl(s,o,c){let d=0,h=s.length>>c;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<c];if(o===v)return g<<c;v>o?h=g:d=g+1}return~(h<<c)}(s,o,1)}const bs={},Qu="__NG_DI_FLAG__",Or="ngTempTokenPath",Rr=/\n/gm,Ri="__source";let $o;function uo(s){const o=$o;return $o=s,o}function ci(s,o=lt.Default){if(void 0===$o)throw new be(-203,!1);return null===$o?pr(s,void 0,o):$o.get(s,o&lt.Optional?null:void 0,o)}function nn(s,o=lt.Default){return(function qn(){return Mi}()||ci)(X(s),o)}function S(s,o=lt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),nn(s,o)}function A(s){const o=[];for(let c=0;c<s.length;c++){const d=X(s[c]);if(Array.isArray(d)){if(0===d.length)throw new be(900,!1);let h,g=lt.Default;for(let v=0;v<d.length;v++){const D=d[v],T=K(D);"number"==typeof T?-1===T?h=D.token:g|=T:h=D}o.push(nn(h,g))}else o.push(nn(d))}return o}function F(s,o){return s[Qu]=o,s.prototype[Qu]=o,s}function K(s){return s[Qu]}const We=F(pl("Optional"),8),Ot=F(pl("SkipSelf"),4);let xf,hc,Ju;function Qg(s){xf=s}function Jg(){return void 0!==xf?xf:typeof document<"u"?document:void 0}function Da(s){return function ah(){if(void 0===hc&&(hc=null,vn.trustedTypes))try{hc=vn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return hc}()?.createHTML(s)||s}function Xg(s){return function Ea(){if(void 0===Ju&&(Ju=null,vn.trustedTypes))try{Ju=vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ju}()?.createHTML(s)||s}class Ca{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class uh extends Ca{getTypeName(){return"HTML"}}class pc extends Ca{getTypeName(){return"Style"}}class em extends Ca{getTypeName(){return"Script"}}class Xu extends Ca{getTypeName(){return"URL"}}class Dy extends Ca{getTypeName(){return"ResourceURL"}}function Ds(s){return s instanceof Ca?s.changingThisBreaksApplicationSecurity:s}function Ta(s,o){const c=function kf(s){return s instanceof Ca&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function Pf(s){return new uh(s)}function Ey(s){return new pc(s)}function Cy(s){return new em(s)}function Ty(s){return new Xu(s)}function Ff(s){return new Dy(s)}function bl(s){const o=new Sy(s);return function Lf(){try{return!!(new window.DOMParser).parseFromString(Da(""),"text/html")}catch{return!1}}()?new Iy(o):o}class Iy{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Da(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class Sy{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Da(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Da(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let h=c.length-1;0<h;h--){const v=c.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Ay=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function wl(s){return(s=String(s)).match(Ay)?s:"unsafe:"+s}function Us(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function ed(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const Zo=Us("area,br,col,hr,img,wbr"),dh=Us("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ny=Us("rp,rt"),gc=ed(Zo,ed(dh,Us("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ed(Ny,Us("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ed(Ny,dh)),mc=Us("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nd=ed(mc,Us("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Us("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),im=Us("script,style,template");class iu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!gc.hasOwnProperty(c))return this.sanitizedSomething=!0,!im.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,D=v.toLowerCase();if(!nd.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let T=g.value;mc[D]&&(T=wl(T)),this.buf.push(" ",v,'="',Uf(T),'"')}return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();gc.hasOwnProperty(c)&&!Zo.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(Uf(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const Vf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bf=/([^\#-~ |!])/g;function Uf(s){return s.replace(/&/g,"&amp;").replace(Vf,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Bf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hh;function _c(s,o){let c=null;try{hh=hh||bl(s);let d=o?String(o):"";c=hh.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=c.innerHTML,c=hh.getInertBodyElement(d)}while(d!==g);return Da((new iu).sanitizeChildren(yc(c)||c))}finally{if(c){const d=yc(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function yc(s){return"content"in s&&function My(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ui=(()=>((ui=ui||{})[ui.NONE=0]="NONE",ui[ui.HTML=1]="HTML",ui[ui.STYLE=2]="STYLE",ui[ui.SCRIPT=3]="SCRIPT",ui[ui.URL=4]="URL",ui[ui.RESOURCE_URL=5]="RESOURCE_URL",ui))();function jf(s){const o=id();return o?Xg(o.sanitize(ui.HTML,s)||""):Ta(s,"HTML")?Xg(Ds(s)):_c(Jg(),me(s))}function fh(s){const o=id();return o?o.sanitize(ui.URL,s)||"":Ta(s,"URL")?Ds(s):wl(me(s))}function id(){const s=Ve();return s&&s[12]}const gh=new Fn("ENVIRONMENT_INITIALIZER"),mh=new Fn("INJECTOR",-1),_h=new Fn("INJECTOR_DEF_TYPES");class $f{get(o,c=bs){if(c===bs){const d=new Error(`NullInjectorError: No provider for ${Q(o)}!`);throw d.name="NullInjectorError",d}return c}}function xy(...s){return{\u0275providers:yh(0,s)}}function yh(s,...o){const c=[],d=new Set;let h;return vs(o,g=>{const v=g;vr(v,c,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&sm(h,c),c}function sm(s,o){for(let c=0;c<s.length;c++){const{providers:h}=s[c];vs(h,g=>{o.push(g)})}}function vr(s,o,c,d){if(!(s=X(s)))return!1;let h=null,g=Di(s);const v=!g&&Gt(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const T=s.ngModule;if(g=Di(T),!g)return!1;h=T}const D=d.has(h);if(v){if(D)return!1;if(d.add(h),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const O of T)vr(O,o,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!D){let O;d.add(h);try{vs(g.imports,L=>{vr(L,o,c,d)&&(O||(O=[]),O.push(L))})}finally{}void 0!==O&&sm(O,o)}if(!D){const O=Gr(h)||(()=>new h);o.push({provide:h,useFactory:O,deps:It},{provide:_h,useValue:h,multi:!0},{provide:gh,useValue:()=>nn(h),multi:!0})}const T=g.providers;null==T||D||vs(T,L=>{o.push(L)})}}return h!==s&&void 0!==s.providers}const qf=q({provide:String,useValue:q});function rd(s){return null!==s&&"object"==typeof s&&qf in s}function Hs(s){return"function"==typeof s}const bh=new Fn("Set Injector scope."),fo={},Dl={};let wh;function Dh(){return void 0===wh&&(wh=new $f),wh}class Ko{}class Eh extends Ko{constructor(o,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,su(o,v=>this.processProvider(v)),this.records.set(mh,Wr(void 0,this)),h.has("environment")&&this.records.set(Ko,Wr(void 0,this));const g=this.records.get(bh);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(_h.multi,It,lt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=uo(this),d=ti(void 0);try{return o()}finally{uo(c),ti(d)}}get(o,c=bs,d=lt.Default){this.assertNotDestroyed();const h=uo(this),g=ti(void 0);try{if(!(d&lt.SkipSelf)){let D=this.records.get(o);if(void 0===D){const T=function am(s){return"function"==typeof s||"object"==typeof s&&s instanceof Fn}(o)&&St(o);D=T&&this.injectableDefInScope(T)?Wr(ir(o),fo):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(d&lt.Self?Dh():this.parent).get(o,c=d&lt.Optional&&c===bs?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Or]=v[Or]||[]).unshift(Q(o)),h)throw v;return function ge(s,o,c,d){const h=s[Or];throw o[Ri]&&h.unshift(o[Ri]),s.message=function De(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=Q(o);if(Array.isArray(o))h=o.map(Q).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let D=o[v];g.push(v+":"+("string"==typeof D?JSON.stringify(D):Q(D)))}h=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(Rr,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[Or]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{ti(g),uo(h)}}resolveInjectorInitializers(){const o=uo(this),c=ti(void 0);try{const d=this.get(gh.multi,It,lt.Self);for(const h of d)h()}finally{uo(o),ti(c)}}toString(){const o=[],c=this.records;for(const d of c.keys())o.push(Q(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(o){let c=Hs(o=X(o))?o:X(o&&o.provide);const d=function sd(s){return rd(s)?Wr(void 0,s.useValue):Wr(Th(s),fo)}(o);if(Hs(o)||!0!==o.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=Wr(void 0,fo,!0),h.factory=()=>A(h.multi),this.records.set(c,h)),c=o,h.multi.push(o)}this.records.set(c,d)}hydrate(o,c){return c.value===fo&&(c.value=Dl,c.value=c.factory()),"object"==typeof c.value&&c.value&&function om(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=X(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function ir(s){const o=St(s),c=null!==o?o.factory:Gr(s);if(null!==c)return c;if(s instanceof Fn)throw new be(204,!1);if(s instanceof Function)return function Ch(s){const o=s.length;if(o>0)throw jo(o,"?"),new be(204,!1);const c=function ei(s){const o=s&&(s[Ei]||s[yn]);if(o){const c=function xt(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new be(204,!1)}function Th(s,o,c){let d;if(Hs(s)){const h=X(s);return Gr(h)||ir(h)}if(rd(s))d=()=>X(s.useValue);else if(function js(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...A(s.deps||[]));else if(function ru(s){return!(!s||!s.useExisting)}(s))d=()=>nn(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function Ia(s){return!!s.deps}(s))return Gr(h)||ir(h);d=()=>new h(...A(s.deps))}return d}function Wr(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function Zf(s){return!!s.\u0275providers}function su(s,o){for(const c of s)Array.isArray(c)?su(c,o):Zf(c)?su(c.\u0275providers,o):o(c)}class Wf{}class p{resolveComponentFactory(o){throw function cm(s){const o=Error(`No component factory found for ${Q(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let m=(()=>{class s{}return s.NULL=new p,s})();function w(){return x(Bn(),Ve())}function x(s,o){return new V(Hi(s,o))}let V=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=w,s})();function de(s){return s instanceof V?s.nativeElement:s}class Xe{}let ft=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Rt(){const s=Ve(),c=on(Bn().index,s);return(Ti(c)?c:s)[11]}(),s})(),Ct=(()=>{class s{}return s.\u0275prov=Ft({token:s,providedIn:"root",factory:()=>null}),s})();class Pi{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Gs=new Pi("14.2.2"),ou={};function Fy(s){return s.ngOriginalError}class Kf{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&Fy(o);for(;c&&Fy(c);)c=Fy(c);return c||null}}const tT=/^>|^->|<!--|-->|--!>|<!-$/g,FM=/(<|>)/;const Ly=new Map;let sT=0;const mm="__ngContext__";function br(s,o){Ti(o)?(s[mm]=o[20],function aT(s){Ly.set(s[20],s)}(o)):s[mm]=o}function bc(s){return s instanceof Function?s():s}var El=(()=>((El=El||{})[El.Important=1]="Important",El[El.DashCase=2]="DashCase",El))();let jy;function Hy(s,o){return jy(s,o)}function xh(s){const o=s[3];return er(o)?o[3]:o}function vm(s){return Dw(s[13])}function bm(s){return Dw(s[4])}function Dw(s){for(;null!==s&&!er(s);)s=s[4];return s}function Rh(s,o,c,d,h){if(null!=d){let g,v=!1;er(d)?g=d:Ti(d)&&(v=!0,d=d[0]);const D=Zn(d);0===s&&null!==c?null==h?Nw(o,c,D):Cl(o,c,D,h||null,!0):1===s&&null!==c?Cl(o,c,D,h||null,!0):2===s?wT(o,D,v):3===s&&o.destroyNode(D),null!=g&&function HM(s,o,c,d,h){const g=c[7];g!==Zn(c)&&Rh(o,s,d,g,h);for(let D=10;D<c.length;D++){const T=c[D];ud(T[1],T,s,o,d,g)}}(o,s,g,c,h)}}function $y(s,o){return s.createText(o)}function Ew(s,o,c){s.setValue(o,c)}function _T(s,o){return s.createComment(function fm(s){return s.replace(tT,o=>o.replace(FM,"\u200b$1\u200b"))}(o))}function wm(s,o,c){return s.createElement(o,c)}function Iw(s,o){const c=s[9],d=c.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,kn(h,-1)),c.splice(d,1)}function zy(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const h=d[17];null!==h&&h!==s&&Iw(h,d),o>0&&(s[c-1][4]=d[4]);const g=bi(s,10+o);!function qy(s,o){ud(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Jf(s,o){if(!(128&o[2])){const c=o[11];c.destroyNode&&ud(s,o,c,3,null,null),function UM(s){let o=s[13];if(!o)return Dm(s[1],s);for(;o;){let c=null;if(Ti(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)Ti(o)&&Dm(o[1],o),o=o[3];null===o&&(o=s),Ti(o)&&Dm(o[1],o),c=o&&o[4]}o=c}}(o)}}function Dm(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Wy(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=o[c[d]];if(!(h instanceof Ps)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const D=h[g[v]],T=g[v+1];try{T.call(D)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function Zy(s,o){const c=s.cleanup,d=o[7];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],D="function"==typeof v?v(o):Zn(o[v]),T=d[h=c[g+2]],O=c[g+3];"boolean"==typeof O?D.removeEventListener(c[g],T,O):O>=0?d[h=O]():d[h=-O].unsubscribe(),g+=2}else{const v=d[h=c[g+1]];c[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const c=o[17];if(null!==c&&er(o[3])){c!==o[3]&&Iw(c,o);const d=o[19];null!==d&&d.detachView(s)}!function lT(s){Ly.delete(s[20])}(o)}}function Sw(s,o,c){return Aw(s,o.parent,c)}function Aw(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===bt.None||h===bt.Emulated)return null}return Hi(d,c)}function Cl(s,o,c,d,h){s.insertBefore(o,c,d,h)}function Nw(s,o,c){s.appendChild(o,c)}function Mw(s,o,c,d,h){null!==d?Cl(s,o,c,d,h):Nw(s,o,c)}function Em(s,o){return s.parentNode(o)}function $i(s,o,c){return Ky(s,o,c)}function xw(s,o,c){return 40&s.type?Hi(s,c):null}let Xf,Ky=xw;function ep(s,o){Ky=s,Xf=o}function tp(s,o,c,d){const h=Sw(s,d,o),g=o[11],D=$i(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(c))for(let T=0;T<c.length;T++)Mw(g,h,c[T],D,!1);else Mw(g,h,c,D,!1);void 0!==Xf&&Xf(g,d,o,c,h)}function Cm(s,o){if(null!==o){const c=o.type;if(3&c)return Hi(o,s);if(4&c)return Rw(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return Cm(s,d);{const h=s[o.index];return er(h)?Rw(-1,h):Zn(h)}}if(32&c)return Hy(o,s)()||Zn(s[o.index]);{const d=Yy(s,o);return null!==d?Array.isArray(d)?d[0]:Cm(xh(s[16]),d):Cm(s,o.next)}}return null}function Yy(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Rw(s,o){const c=10+s+1;if(c<o.length){const d=o[c],h=d[1].firstChild;if(null!==h)return Cm(d,h)}return o[7]}function wT(s,o,c){const d=Em(s,o);d&&function bT(s,o,c,d){s.removeChild(o,c,d)}(s,d,o,c)}function Qy(s,o,c,d,h,g,v){for(;null!=c;){const D=d[c.index],T=c.type;if(v&&0===o&&(D&&br(Zn(D),d),c.flags|=4),64!=(64&c.flags))if(8&T)Qy(s,o,c.child,d,h,g,!1),Rh(o,s,h,D,g);else if(32&T){const O=Hy(c,d);let L;for(;L=O();)Rh(o,s,h,L,g);Rh(o,s,h,D,g)}else 16&T?np(s,o,d,c,h,g):Rh(o,s,h,D,g);c=v?c.projectionNext:c.next}}function ud(s,o,c,d,h,g){Qy(c,d,s.firstChild,o,h,g,!1)}function np(s,o,c,d,h,g){const v=c[16],T=v[6].projection[d.projection];if(Array.isArray(T))for(let O=0;O<T.length;O++)Rh(o,s,h,T[O],g);else Qy(s,o,T,v[3],h,g,!0)}function dd(s,o,c){s.setAttribute(o,"style",c)}function ip(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function DT(s,o,c){let d=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}c=h+1}}const Jy="ng-template";function Xy(s,o,c){let d=0;for(;d<s.length;){let h=s[d++];if(c&&"class"===h){if(h=s[d],-1!==DT(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Fw(s){return 4===s.type&&s.value!==Jy}function CT(s,o,c){return o===(4!==s.type||c?s.value:Jy)}function TT(s,o,c){let d=4;const h=s.attrs||[],g=function GM(s){for(let o=0;o<s.length;o++)if(oo(s[o]))return o;return s.length}(h);let v=!1;for(let D=0;D<o.length;D++){const T=o[D];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!CT(s,T,c)||""===T&&1===o.length){if(Yo(d))return!1;v=!0}}else{const O=8&d?T:o[++D];if(8&d&&null!==s.attrs){if(!Xy(s.attrs,O,c)){if(Yo(d))return!1;v=!0}continue}const $=IT(8&d?"class":T,h,Fw(s),c);if(-1===$){if(Yo(d))return!1;v=!0;continue}if(""!==O){let ae;ae=$>g?"":h[$+1].toLowerCase();const ve=8&d?ae:null;if(ve&&-1!==DT(ve,O,0)||2&d&&O!==ae){if(Yo(d))return!1;v=!0}}}}else{if(!v&&!Yo(d)&&!Yo(T))return!1;if(v&&Yo(T))continue;v=!1,d=T|1&d}}return Yo(d)||v}function Yo(s){return 0==(1&s)}function IT(s,o,c,d){if(null===o)return-1;let h=0;if(d||!c){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let D=o[++h];for(;"string"==typeof D;)D=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function Lw(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function ST(s,o,c=!1){for(let d=0;d<o.length;d++)if(TT(s,o[d],c))return!0;return!1}function AT(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function Vw(s,o){return s?":not("+o.trim()+")":o}function Bw(s){let o=s[0],c=1,d=2,h="",g=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&d){const D=s[++c];h+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Yo(v)&&(o+=Vw(g,h),h=""),d=v,g=g||!Yo(d);c++}return""!==h&&(o+=Vw(g,h)),o}const Kt={};function Uw(s){jw(Jt(),Ve(),vi()+s,!1)}function jw(s,o,c,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&ko(o,g,c)}else{const g=s.preOrderHooks;null!==g&&_r(o,g,0,c)}tr(c)}function $w(s,o=null,c=null,d){const h=qw(s,o,c,d);return h.resolveInjectorInitializers(),h}function qw(s,o=null,c=null,d,h=new Set){const g=[c||It,xy(s)];return d=d||("object"==typeof s?void 0:Q(s)),new Eh(g,o||Dh(),d||null,h)}let hd=(()=>{class s{static create(c,d){if(Array.isArray(c))return $w({name:""},d,c,"");{const h=c.name??"";return $w({name:h},c.parent,c.providers,h)}}}return s.THROW_IF_NOT_FOUND=bs,s.NULL=new $f,s.\u0275prov=Ft({token:s,providedIn:"any",factory:()=>nn(mh)}),s.__NG_ELEMENT_ID__=-1,s})();function wc(s,o=lt.Default){const c=Ve();return null===c?nn(s,o):ma(Bn(),c,X(s),o)}function ov(){throw new Error("invalid")}function ap(s,o){return s<<17|o<<2}function di(s){return s>>17&32767}function s1(s){return 2|s}function cu(s){return(131068&s)>>2}function md(s,o){return-131069&s|o<<2}function lp(s){return 1|s}function hv(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],g=c[d+1];if(-1!==g){const v=s.data[g];ha(h),v.contentQueries(2,o[g],g)}}}function Om(s,o,c,d,h,g,v,D,T,O,L){const $=o.blueprint.slice();return $[0]=h,$[2]=76|d,(null!==L||s&&1024&s[2])&&($[2]|=1024),za($),$[3]=$[15]=s,$[8]=c,$[10]=v||s&&s[10],$[11]=D||s&&s[11],$[12]=T||s&&s[12]||null,$[9]=O||s&&s[9]||null,$[6]=g,$[20]=function oT(){return sT++}(),$[21]=L,$[16]=2==o.type?s[16]:$,$}function fp(s,o,c,d,h){let g=s.data[o];if(null===g)g=fv(s,o,c,d,h),function ih(){return Nt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=h;const v=xo();g.injectorIndex=null===v?-1:v.injectorIndex}return mr(g,!0),g}function fv(s,o,c,d,h){const g=Ya(),v=Ro(),T=s.data[o]=function mp(s,o,c,d,h,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,o,d,h);return null===s.firstChild&&(s.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}function wd(s,o,c,d){if(0===c)return-1;const h=o.length;for(let g=0;g<c;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function _1(s,o,c){tl(o);try{const d=s.viewQuery;null!==d&&Dd(1,d,c);const h=s.template;null!==h&&y1(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&hv(s,o),s.staticViewQueries&&Dd(2,s.viewQuery,c);const g=s.components;null!==g&&function m1(s,o){for(let c=0;c<o.length;c++)O1(s,o[c])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,no()}}function Lh(s,o,c,d){const h=o[2];if(128!=(128&h)){tl(o);try{za(o),function Kl(s){return Nt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&y1(s,o,c,2,d);const v=3==(3&h);if(v){const O=s.preOrderCheckHooks;null!==O&&ko(o,O,null)}else{const O=s.preOrderHooks;null!==O&&_r(o,O,0,null),nc(o,0)}if(function vv(s){for(let o=vm(s);null!==o;o=bm(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const h=c[d],g=h[3];0==(512&h[2])&&kn(g,1),h[2]|=512}}}(o),function XT(s){for(let o=vm(s);null!==o;o=bm(o))for(let c=10;c<o.length;c++){const d=o[c],h=d[1];eo(d)&&Lh(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&hv(s,o),v){const O=s.contentCheckHooks;null!==O&&ko(o,O)}else{const O=s.contentHooks;null!==O&&_r(o,O,1),nc(o,1)}!function qT(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)tr(~h);else{const g=h,v=c[++d],D=c[++d];rh(v,g),D(2,o[g])}}}finally{tr(-1)}}(s,o);const D=s.components;null!==D&&function zT(s,o){for(let c=0;c<o.length;c++)eI(s,o[c])}(o,D);const T=s.viewQuery;if(null!==T&&Dd(2,T,d),v){const O=s.viewCheckHooks;null!==O&&ko(o,O)}else{const O=s.viewHooks;null!==O&&_r(o,O,2),nc(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,kn(o[3],-1))}finally{no()}}}function y1(s,o,c,d,h){const g=vi(),v=2&d;try{tr(-1),v&&o.length>22&&jw(s,o,22,!1),c(d,h)}finally{tr(g)}}function pv(s,o,c){if(us(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function pp(s,o,c){!gs()||(function T1(s,o,c,d){const h=c.directiveStart,g=c.directiveEnd;s.firstCreatePass||ys(c,o),br(d,o);const v=c.initialInputs;for(let D=h;D<g;D++){const T=s.data[D],O=Ii(T);O&&QT(o,c,T);const L=ao(o,s,D,c);br(L,o),null!==v&&JT(0,D-h,L,T,0,v),O&&(on(c.index,o)[8]=L)}}(s,o,c,Hi(c,o)),128==(128&c.flags)&&function Vh(s,o,c){const d=c.directiveStart,h=c.directiveEnd,g=c.index,v=function Ja(){return Nt.lFrame.currentDirectiveIndex}();try{tr(g);for(let D=d;D<h;D++){const T=s.data[D],O=o[D];Xa(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&I1(T,O)}}finally{tr(-1),Xa(v)}}(s,o,c))}function gv(s,o,c=Hi){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],D=-1===v?c(o,s):s[v];s[h++]=D}}}function ZT(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=mv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function mv(s,o,c,d,h,g,v,D,T,O){const L=22+d,$=L+h,ae=function gp(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:Kt);return c}(L,$),ve="function"==typeof O?O():O;return ae[1]={type:s,blueprint:ae,template:c,queries:null,viewQuery:D,declTNode:o,data:ae.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:ve,incompleteFirstPass:!1}}function _v(s,o,c,d){const h=R1(o);null===c?h.push(d):(h.push(c),s.firstCreatePass&&wv(s).push(d,h.length-1))}function WT(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,h):c[d]=[o,h]}return c}function w1(s,o){const d=o.directiveEnd,h=s.data,g=o.attrs,v=[];let D=null,T=null;for(let O=o.directiveStart;O<d;O++){const L=h[O],$=L.inputs,ae=null===g||Fw(o)?null:M1($,g);v.push(ae),D=WT($,O,D),T=WT(L.outputs,O,T)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=16),D.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=D,o.outputs=T}function Qo(s,o,c,d,h,g,v,D){const T=Hi(o,c);let L,O=o.inputs;!D&&null!=O&&(L=O[d])?(bp(s,c,L,d,h),To(o)&&KT(c,o.index)):3&o.type&&(d=function D1(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,g.setProperty(T,d,h))}function KT(s,o){const c=on(o,s);16&c[2]||(c[2]|=32)}function xm(s,o,c,d){let h=!1;if(gs()){const g=function Rm(s,o,c){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];ST(c,v.selectors,!1)&&(h||(h=[]),Vo(ys(c,o),s,v.type),Ii(v)?(S1(s,c),h.unshift(v)):h.push(v))}return h}(s,o,c),v=null===d?null:{"":-1};if(null!==g){h=!0,N1(c,s.data.length,g.length);for(let L=0;L<g.length;L++){const $=g[L];$.providersResolver&&$.providersResolver($)}let D=!1,T=!1,O=wd(s,o,g.length,null);for(let L=0;L<g.length;L++){const $=g[L];c.mergedAttrs=ga(c.mergedAttrs,$.hostAttrs),yv(s,c,o,O,$),A1(O,$,v),null!==$.contentQueries&&(c.flags|=8),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(c.flags|=128);const ae=$.type.prototype;!D&&(ae.ngOnChanges||ae.ngOnInit||ae.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),D=!0),!T&&(ae.ngOnChanges||ae.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),T=!0),O++}w1(s,c)}v&&function QM(s,o,c){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=c[o[h+1]];if(null==g)throw new be(-301,!1);d.push(o[h],g)}}}(c,d,v)}return c.mergedAttrs=ga(c.mergedAttrs,c.attrs),h}function E1(s,o,c,d,h,g){const v=g.hostBindings;if(v){let D=s.hostBindingOpCodes;null===D&&(D=s.hostBindingOpCodes=[]);const T=~o.index;(function C1(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(D)!=T&&D.push(T),D.push(d,h,v)}}function I1(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function S1(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function A1(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;Ii(o)&&(c[""]=s)}}function N1(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function yv(s,o,c,d,h){s.data[d]=h;const g=h.factory||(h.factory=Gr(h.type)),v=new Ps(g,Ii(h),wc);s.blueprint[d]=v,c[d]=v,E1(s,o,0,d,wd(s,c,h.hostVars,Kt),h)}function QT(s,o,c){const d=Hi(o,s),h=ZT(c),g=s[10],v=Ec(s,Om(s,h,null,c.onPush?32:16,d,o,g,g.createRenderer(d,c),null,null,null));s[o.index]=v}function _p(s,o,c,d,h,g,v){if(null==g)s.removeAttribute(o,h,c);else{const D=null==v?me(g):v(g,d||"",h);s.setAttribute(o,h,D,c)}}function JT(s,o,c,d,h,g){const v=g[o];if(null!==v){const D=d.setInput;for(let T=0;T<v.length;){const O=v[T++],L=v[T++],$=v[T++];null!==D?d.setInput(c,$,O,L):c[L]=$}}}function M1(s,o){let c=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return c}function uu(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function eI(s,o){const c=on(o,s);if(eo(c)){const d=c[1];48&c[2]?Lh(d,c,d.template,c[8]):c[5]>0&&yp(c)}}function yp(s){for(let d=vm(s);null!==d;d=bm(d))for(let h=10;h<d.length;h++){const g=d[h];if(eo(g))if(512&g[2]){const v=g[1];Lh(v,g,v.template,g[8])}else g[5]>0&&yp(g)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=on(c[d],s);eo(h)&&h[5]>0&&yp(h)}}function O1(s,o){const c=on(o,s),d=c[1];(function tI(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),_1(d,c,c[8])}function Ec(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function bv(s){for(;s;){s[2]|=32;const o=xh(s);if(Lc(s)&&!o)return s;s=o}return null}function vp(s,o,c,d=!0){const h=o[10];h.begin&&h.begin();try{Lh(s,o,s.template,c)}catch(v){throw d&&nI(o,v),v}finally{h.end&&h.end()}}function Dd(s,o,c){ha(0),o(s,c)}function R1(s){return s[7]||(s[7]=[])}function wv(s){return s.cleanup||(s.cleanup=[])}function nI(s,o){const c=s[9],d=c?c.get(Kf,null):null;d&&d.handleError(o)}function bp(s,o,c,d,h){for(let g=0;g<c.length;){const v=c[g++],D=c[g++],T=o[v],O=s.data[v];null!==O.setInput?O.setInput(T,h,d,D):T[D]=h}}function Aa(s,o,c){const d=ur(o,s);Ew(s[11],d,c)}function wp(s,o,c){let d=c?s.styles:null,h=c?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const D=o[v];"number"==typeof D?g=D:1==g?h=le(h,D):2==g&&(d=le(d,D+": "+o[++v]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}function Dp(s,o,c,d,h=!1){for(;null!==c;){const g=o[c.index];if(null!==g&&d.push(Zn(g)),er(g))for(let D=10;D<g.length;D++){const T=g[D],O=T[1].firstChild;null!==O&&Dp(T[1],T,O,d)}const v=c.type;if(8&v)Dp(s,o,c.child,d);else if(32&v){const D=Hy(c,o);let T;for(;T=D();)d.push(T)}else if(16&v){const D=Yy(o,c);if(Array.isArray(D))d.push(...D);else{const T=xh(o[16]);Dp(T[1],T,D,d,!0)}}c=h?c.projectionNext:c.next}return d}class Na{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return Dp(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(er(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(zy(o,d),bi(c,d))}this._attachedToViewContainer=!1}Jf(this._lView[1],this._lView)}onDestroy(o){_v(this._lView[1],this._lView,null,o)}markForCheck(){bv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){vp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tw(s,o){ud(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=o}}class iI extends Na{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;vp(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class km extends m{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=Gt(o);return new Ep(c,this.ngModule)}}function P1(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class rI{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,d){const h=this.injector.get(o,ou,d);return h!==ou||c===ou?h:this.parentInjector.get(o,c,d)}}class Ep extends Wf{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function NT(s){return s.map(Bw).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return P1(this.componentDef.inputs)}get outputs(){return P1(this.componentDef.outputs)}create(o,c,d,h){let g=(h=h||this.ngModule)instanceof Ko?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new rI(o,g):o,D=v.get(Xe,null);if(null===D)throw new be(407,!1);const T=v.get(Ct,null),O=D.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",$=d?function b1(s,o,c){return s.selectRootElement(o,c===bt.ShadowDom)}(O,d,this.componentDef.encapsulation):wm(D.createRenderer(null,this.componentDef),L,function F1(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(L)),ae=this.componentDef.onPush?288:272,ve=mv(0,null,null,1,0,null,null,null,null,null),Ie=Om(null,ve,null,ae,null,null,D,O,T,v,null);let Qe,rt;tl(Ie);try{const _t=function lI(s,o,c,d,h,g){const v=c[1];c[22]=s;const T=fp(v,22,2,"#host",null),O=T.mergedAttrs=o.hostAttrs;null!==O&&(wp(T,O,!0),null!==s&&(Lo(h,s,O),null!==T.classes&&ip(h,s,T.classes),null!==T.styles&&dd(h,s,T.styles)));const L=d.createRenderer(s,o),$=Om(c,ZT(o),null,o.onPush?32:16,c[22],T,d,L,g||null,null,null);return v.firstCreatePass&&(Vo(ys(T,c),v,o.type),S1(v,T),N1(T,c.length,1)),Ec(c,$),c[22]=$}($,this.componentDef,Ie,D,O);if($)if(d)Lo(O,$,["ng-version",Gs.full]);else{const{attrs:Mt,classes:Ue}=function MT(s){const o=[],c=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&c.push(g);else{if(!Yo(h))break;h=g}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Mt&&Lo(O,$,Mt),Ue&&Ue.length>0&&ip(O,$,Ue.join(" "))}if(rt=No(ve,22),void 0!==c){const Mt=rt.projection=[];for(let Ue=0;Ue<this.ngContentSelectors.length;Ue++){const Vt=c[Ue];Mt.push(null!=Vt?Array.from(Vt):null)}}Qe=function L1(s,o,c,d){const h=c[1],g=function YT(s,o,c){const d=Bn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),yv(s,d,o,wd(s,o,1,null),c),w1(s,d));const h=ao(o,s,d.directiveStart,d);br(h,o);const g=Hi(d,o);return g&&br(g,o),h}(h,c,o);if(s[8]=c[8]=g,null!==d)for(const D of d)D(g,o);if(o.contentQueries){const D=Bn();o.contentQueries(1,g,D.directiveStart)}const v=Bn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(tr(v.index),E1(c[1],v,0,v.directiveStart,v.directiveEnd,o),I1(o,g)),g}(_t,this.componentDef,Ie,[cI]),_1(ve,Ie,null)}finally{no()}return new oI(this.componentType,Qe,x(rt,Ie),Ie,rt)}}class oI extends class lm{}{constructor(o,c,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new iI(h),this.componentType=o}setInput(o,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const g=this._rootLView;bp(g[1],g,h,o,c),KT(g,this._tNode.index)}}get injector(){return new _a(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function cI(){const s=Bn();tc(Ve()[1],s)}function Cv(s){let o=function Ev(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let h;if(Ii(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new be(903,!1);h=o.\u0275dir}if(h){if(c){d.push(h);const v=s;v.inputs=B1(s.inputs),v.declaredInputs=B1(s.declaredInputs),v.outputs=B1(s.outputs);const D=h.hostBindings;D&&U1(s,D);const T=h.viewQuery,O=h.contentQueries;if(T&&eO(s,T),O&&tO(s,O),Z(s.inputs,h.inputs),Z(s.declaredInputs,h.declaredInputs),Z(s.outputs,h.outputs),Ii(h)&&h.data.animation){const L=s.data;L.animation=(L.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const D=g[v];D&&D.ngInherit&&D(s),D===Cv&&(c=!1)}}o=Object.getPrototypeOf(o)}!function V1(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=ga(h.hostAttrs,c=ga(c,h.hostAttrs))}}(d)}function B1(s){return s===Yi?{}:s===It?[]:s}function eO(s,o){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{o(d,h),c(d,h)}:o}function tO(s,o){const c=s.contentQueries;s.contentQueries=c?(d,h,g)=>{o(d,h,g),c(d,h,g)}:o}function U1(s,o){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{o(d,h),c(d,h)}:o}let Tv=null;function Bh(){if(!Tv){const s=vn.Symbol;if(s&&s.iterator)Tv=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Tv=d)}}}return Tv}function du(s){return!!G1(s)&&(Array.isArray(s)||!(s instanceof Map)&&Bh()in s)}function G1(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function po(s,o,c){return s[o]=c}function Qr(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function Ed(s,o,c,d){const h=Qr(s,o,c);return Qr(s,o+1,d)||h}function Ip(s,o,c,d){const h=Ve();return Qr(h,zr(),o)&&(Jt(),function Sa(s,o,c,d,h,g){const v=Hi(s,o);_p(o[11],v,g,s.value,c,d,h)}(Mn(),h,s,o,c,d)),Ip}function Jr(s,o,c,d){return Qr(s,zr(),c)?o+me(c)+d:Kt}function Uh(s,o,c,d,h,g,v,D,T,O){const $=function go(s,o,c,d,h,g){const v=Ed(s,o,c,d);return Ed(s,o+2,h,g)||v}(s,qr(),c,h,v,T);return ms(4),$?o+me(c)+d+me(h)+g+me(v)+D+me(T)+O:Kt}function Pe(s,o,c,d,h,g,v,D){const T=Ve(),O=Jt(),L=s+22,$=O.firstCreatePass?function sO(s,o,c,d,h,g,v,D,T){const O=o.consts,L=fp(o,s,4,v||null,Sr(O,D));xm(o,c,L,Sr(O,T)),tc(o,L);const $=L.tViews=mv(2,L,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,O);return null!==o.queries&&(o.queries.template(o,L),$.queries=o.queries.embeddedTView(L)),L}(L,O,T,o,c,d,h,g,v):O.data[L];mr($,!1);const ae=T[11].createComment("");tp(O,T,ae,$),br(ae,T),Ec(T,T[L]=uu(ae,T,ae,$)),jl($)&&pp(O,T,$),null!=v&&gv(T,$,D)}function Np(s){return ps(function Qa(){return Nt.lFrame.contextLView}(),22+s)}function _n(s,o,c){const d=Ve();return Qr(d,zr(),o)&&Qo(Jt(),Mn(),d,s,o,d[11],c,!1),_n}function Al(s,o,c,d,h){const v=h?"class":"style";bp(s,c,o.inputs[v],v,d)}function Pm(s,o,c,d){const h=Ve(),g=Jt(),v=22+s,D=h[11],T=h[v]=wm(D,o,function sl(){return Nt.lFrame.currentNamespace}()),O=g.firstCreatePass?function z1(s,o,c,d,h,g,v){const D=o.consts,O=fp(o,s,2,h,Sr(D,g));return xm(o,c,O,Sr(D,v)),null!==O.attrs&&wp(O,O.attrs,!1),null!==O.mergedAttrs&&wp(O,O.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,O),O}(v,g,h,0,o,c,d):g.data[v];mr(O,!0);const L=O.mergedAttrs;null!==L&&Lo(D,T,L);const $=O.classes;null!==$&&ip(D,T,$);const ae=O.styles;return null!==ae&&dd(D,T,ae),64!=(64&O.flags)&&tp(g,h,T,O),0===function Za(){return Nt.lFrame.elementDepthCount}()&&br(T,h),function Wa(){Nt.lFrame.elementDepthCount++}(),jl(O)&&(pp(g,h,O),pv(g,O,h)),null!==d&&gv(h,O),Pm}function Fm(){let s=Bn();Ro()?la():(s=s.parent,mr(s,!1));const o=s;!function zl(){Nt.lFrame.elementDepthCount--}();const c=Jt();return c.firstCreatePass&&(tc(c,s),us(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function al(s){return 0!=(16&s.flags)}(o)&&Al(c,o,Ve(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Ar(s){return 0!=(32&s.flags)}(o)&&Al(c,o,Ve(),o.stylesWithoutHost,!1),Fm}function rr(s,o,c,d){return Pm(s,o,c,d),Fm(),rr}function Id(s,o,c){const d=Ve(),h=Jt(),g=s+22,v=h.firstCreatePass?function Ma(s,o,c,d,h){const g=o.consts,v=Sr(g,d),D=fp(o,s,8,"ng-container",v);return null!==v&&wp(D,v,!0),xm(o,c,D,Sr(g,h)),null!==o.queries&&o.queries.elementStart(o,D),D}(g,h,d,o,c):h.data[g];mr(v,!0);const D=d[g]=d[11].createComment("");return tp(h,d,D,v),br(D,d),jl(v)&&(pp(h,d,v),pv(h,v,d)),null!=c&&gv(d,v),Id}function Hh(){let s=Bn();const o=Jt();return Ro()?la():(s=s.parent,mr(s,!1)),o.firstCreatePass&&(tc(o,s),us(s)&&o.queries.elementEnd(s)),Hh}function W1(){return Ve()}function Iv(s){return!!s&&"function"==typeof s.then}function Sv(s){return!!s&&"function"==typeof s.subscribe}const K1=Sv;function Av(s,o,c,d){const h=Ve(),g=Jt(),v=Bn();return function Xr(s,o,c,d,h,g,v,D){const T=jl(d),L=s.firstCreatePass&&wv(s),$=o[8],ae=R1(o);let ve=!0;if(3&d.type||D){const rt=Hi(d,o),_t=D?D(rt):rt,Mt=ae.length,Ue=D?Cn=>D(Zn(Cn[d.index])):d.index;let Vt=null;if(!D&&T&&(Vt=function bI(s,o,c,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===c&&h[g+1]===d){const D=o[7],T=h[g+2];return D.length>T?D[T]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==Vt)(Vt.__ngLastListenerFn__||Vt).__ngNextListenerFn__=g,Vt.__ngLastListenerFn__=g,ve=!1;else{g=Nv(d,o,$,g,!1);const Cn=c.listen(_t,h,g);ae.push(g,Cn),L&&L.push(h,Ue,Mt,Mt+1)}}else g=Nv(d,o,$,g,!1);const Ie=d.outputs;let Qe;if(ve&&null!==Ie&&(Qe=Ie[h])){const rt=Qe.length;if(rt)for(let _t=0;_t<rt;_t+=2){const Ln=o[Qe[_t]][Qe[_t+1]].subscribe(g),Ss=ae.length;ae.push(g,Ln),L&&L.push(h,d.index,Ss,-(Ss+1))}}}(g,h,h[11],v,s,o,0,d),Av}function Mp(s,o,c,d){try{return!1!==c(d)}catch(h){return nI(s,h),!1}}function Nv(s,o,c,d,h){return function g(v){if(v===Function)return d;bv(2&s.flags?on(s.index,o):o);let T=Mp(o,0,d,v),O=g.__ngNextListenerFn__;for(;O;)T=Mp(o,0,O,v)&&T,O=O.__ngNextListenerFn__;return h&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function Lm(s=1){return function io(s){return(Nt.lFrame.contextLView=function rl(s,o){for(;s>0;)o=o[15],s--;return o}(s,Nt.lFrame.contextLView))[8]}(s)}function Vm(s,o){let c=null;const d=function Tm(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?ST(s,g,!0):AT(d,g))return h}else c=h}return c}function Bm(s){const o=Ve()[16][6];if(!o.projection){const d=o.projection=jo(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?Vm(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function Um(s,o=0,c){const d=Ve(),h=Jt(),g=fp(h,22+s,16,null,c||null);null===g.projection&&(g.projection=o),la(),64!=(64&g.flags)&&function kw(s,o,c){np(o[11],0,o,c,Sw(s,c,o),$i(c.parent||o[6],c,o))}(h,d,g)}function Mv(s,o,c){return jm(s,"",o,"",c),Mv}function jm(s,o,c,d,h){const g=Ve(),v=Jr(g,o,c,d);return v!==Kt&&Qo(Jt(),Mn(),g,s,v,g[11],h,!1),jm}function Rv(s,o,c,d,h){const g=s[c+1],v=null===o;let D=d?di(g):cu(g),T=!1;for(;0!==D&&(!1===T||v);){const L=s[D+1];kv(s[D],o)&&(T=!0,s[D+1]=d?lp(L):s1(L)),D=d?di(L):cu(L)}T&&(s[c+1]=d?s1(g):lp(g))}function kv(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ho(s,o)>=0}const sr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Hm(s){return s.substring(sr.key,sr.keyEnd)}function nD(s,o){const c=sr.textEnd;return c===o?-1:(o=sr.keyEnd=function rD(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,sr.key=o,c),fu(s,o,c))}function fu(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function $h(s,o,c){return Xo(s,o,c,!1),$h}function Rp(s,o){return Xo(s,o,null,!0),Rp}function Vv(s){!function $s(s,o,c,d){const h=Jt(),g=ms(2);h.firstUpdatePass&&lD(h,null,g,d);const v=Ve();if(c!==Kt&&Qr(v,g,c)){const D=h.data[vi()];if(uD(D,d)&&!aD(h,g)){let T=d?D.classesWithoutHost:D.stylesWithoutHost;null!==T&&(c=le(T,c||"")),Al(h,D,v,c,d)}else!function $m(s,o,c,d,h,g,v,D){h===Kt&&(h=It);let T=0,O=0,L=0<h.length?h[0]:null,$=0<g.length?g[0]:null;for(;null!==L||null!==$;){const ae=T<h.length?h[T+1]:void 0,ve=O<g.length?g[O+1]:void 0;let Qe,Ie=null;L===$?(T+=2,O+=2,ae!==ve&&(Ie=$,Qe=ve)):null===$||null!==L&&L<$?(T+=2,Ie=L):(O+=2,Ie=$,Qe=ve),null!==Ie&&Uv(s,o,c,d,Ie,Qe,v,D),L=T<h.length?h[T]:null,$=O<g.length?g[O]:null}}(h,D,v,v[11],v[g+1],v[g+1]=function AI(s,o,c){if(null==c||""===c)return It;const d=[],h=Ds(c);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,c),d,g)}}(ht,Nl,s,!0)}function Nl(s,o){for(let c=function xp(s){return function iD(s){sr.key=0,sr.keyEnd=0,sr.value=0,sr.valueEnd=0,sr.textEnd=s.length}(s),nD(s,fu(s,0,sr.textEnd))}(o);c>=0;c=nD(o,c))ht(s,Hm(o),!0)}function Xo(s,o,c,d){const h=Ve(),g=Jt(),v=ms(2);g.firstUpdatePass&&lD(g,s,v,d),o!==Kt&&Qr(h,v,o)&&Uv(g,g.data[vi()],h,h[11],s,h[v+1]=function NI(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Q(Ds(s)))),s}(o,c),d,v)}function aD(s,o){return o>=s.expandoStartIndex}function lD(s,o,c,d){const h=s.data;if(null===h[c+1]){const g=h[vi()],v=aD(s,c);uD(g,d)&&null===o&&!v&&(o=!1),o=function CI(s,o,c,d){const h=da(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(c=kp(c=Bv(null,s,o,c,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(c=Bv(h,s,o,c,d),null===g){let T=function TI(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==cu(d))return s[di(d)]}(s,o,d);void 0!==T&&Array.isArray(T)&&(T=Bv(null,s,o,T[1],d),T=kp(T,o.attrs,d),function II(s,o,c,d){s[di(c?o.classBindings:o.styleBindings)]=d}(s,o,d,T))}else g=function SI(s,o,c){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=kp(d,s[g].hostAttrs,c);return kp(d,o.attrs,c)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),c}(h,g,o,d),function wI(s,o,c,d,h,g){let v=g?o.classBindings:o.styleBindings,D=di(v),T=cu(v);s[d]=c;let L,O=!1;if(Array.isArray(c)){const $=c;L=$[1],(null===L||Ho($,L)>0)&&(O=!0)}else L=c;if(h)if(0!==T){const ae=di(s[D+1]);s[d+1]=ap(ae,D),0!==ae&&(s[ae+1]=md(s[ae+1],d)),s[D+1]=function r1(s,o){return 131071&s|o<<17}(s[D+1],d)}else s[d+1]=ap(D,0),0!==D&&(s[D+1]=md(s[D+1],d)),D=d;else s[d+1]=ap(T,0),0===D?D=d:s[T+1]=md(s[T+1],d),T=d;O&&(s[d+1]=s1(s[d+1])),Rv(s,L,d,!0),Rv(s,L,d,!1),function DI(s,o,c,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Ho(g,o)>=0&&(c[d+1]=lp(c[d+1]))}(o,L,s,d,g),v=ap(D,T),g?o.classBindings=v:o.styleBindings=v}(h,g,o,c,v,d)}}function Bv(s,o,c,d,h){let g=null;const v=c.directiveEnd;let D=c.directiveStylingLast;for(-1===D?D=c.directiveStart:D++;D<v&&(g=o[D],d=kp(d,g.hostAttrs,h),g!==s);)D++;return null!==s&&(c.directiveStylingLast=D),d}function kp(s,o,c){const d=c?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ht(s,v,!!c||o[++g]))}return void 0===s?null:s}function Uv(s,o,c,d,h,g,v,D){if(!(3&o.type))return;const T=s.data,O=T[D+1];qh(function _d(s){return 1==(1&s)}(O)?jv(T,o,c,h,cu(O),v):void 0)||(qh(g)||function Dc(s){return 2==(2&s)}(O)&&(g=jv(T,null,c,h,D,v)),function Pw(s,o,c,d,h){if(o)h?s.addClass(c,d):s.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:El.DashCase;null==h?s.removeStyle(c,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=El.Important),s.setStyle(c,d,h,g))}}(d,v,ur(vi(),c),h,g))}function jv(s,o,c,d,h,g){const v=null===o;let D;for(;h>0;){const T=s[h],O=Array.isArray(T),L=O?T[1]:T,$=null===L;let ae=c[h+1];ae===Kt&&(ae=$?It:void 0);let ve=$?uc(ae,d):L===d?ae:void 0;if(O&&!qh(ve)&&(ve=uc(T,d)),qh(ve)&&(D=ve,v))return D;const Ie=s[h+1];h=v?di(Ie):cu(Ie)}if(null!==o){let T=g?o.residualClasses:o.residualStyles;null!=T&&(D=uc(T,d))}return D}function qh(s){return void 0!==s}function uD(s,o){return 0!=(s.flags&(o?16:32))}function dD(s,o=""){const c=Ve(),d=Jt(),h=s+22,g=d.firstCreatePass?fp(d,h,1,o,null):d.data[h],v=c[h]=$y(c[11],o);tp(d,c,v,g),mr(g,!1)}function qm(s){return Pp("",s,""),qm}function Pp(s,o,c){const d=Ve(),h=Jr(d,s,o,c);return h!==Kt&&Aa(d,vi(),h),Pp}function zm(s,o,c,d,h,g,v,D,T){const O=Ve(),L=Uh(O,s,o,c,d,h,g,v,D,T);return L!==Kt&&Aa(O,vi(),L),zm}function Wm(s,o,c){const d=Ve();return Qr(d,zr(),o)&&Qo(Jt(),Mn(),d,s,o,d[11],c,!0),Wm}function Km(s,o,c){const d=Ve();if(Qr(d,zr(),o)){const g=Jt(),v=Mn();Qo(g,v,d,s,o,function k1(s,o,c){return(null===s||Ii(s))&&(c=function Ga(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}(da(g.data),v,d),c,!0)}return Km}const pu=void 0;var Ym=["en",[["a","p"],["AM","PM"],pu],[["AM","PM"],pu,pu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pu,"{1} 'at' {0}",pu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _D(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let zh={};function Fp(s){const o=function $I(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=vD(o);if(c)return c;const d=o.split("-")[0];if(c=vD(d),c)return c;if("en"===d)return Ym;throw new be(701,!1)}function Lp(s){return Fp(s)[kt.PluralCase]}function vD(s){return s in zh||(zh[s]=vn.ng&&vn.ng.common&&vn.ng.common.locales&&vn.ng.common.locales[s]),zh[s]}var kt=(()=>((kt=kt||{})[kt.LocaleId=0]="LocaleId",kt[kt.DayPeriodsFormat=1]="DayPeriodsFormat",kt[kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",kt[kt.DaysFormat=3]="DaysFormat",kt[kt.DaysStandalone=4]="DaysStandalone",kt[kt.MonthsFormat=5]="MonthsFormat",kt[kt.MonthsStandalone=6]="MonthsStandalone",kt[kt.Eras=7]="Eras",kt[kt.FirstDayOfWeek=8]="FirstDayOfWeek",kt[kt.WeekendRange=9]="WeekendRange",kt[kt.DateFormat=10]="DateFormat",kt[kt.TimeFormat=11]="TimeFormat",kt[kt.DateTimeFormat=12]="DateTimeFormat",kt[kt.NumberSymbols=13]="NumberSymbols",kt[kt.NumberFormats=14]="NumberFormats",kt[kt.CurrencyCode=15]="CurrencyCode",kt[kt.CurrencySymbol=16]="CurrencySymbol",kt[kt.CurrencyName=17]="CurrencyName",kt[kt.Currencies=18]="Currencies",kt[kt.Directionality=19]="Directionality",kt[kt.PluralCase=20]="PluralCase",kt[kt.ExtraData=21]="ExtraData",kt))();const Tc=["zero","one","two","few","many"],gu="en-US",Sd={marker:"element"},Ad={marker:"ICU"};var ri=(()=>((ri=ri||{})[ri.SHIFT=2]="SHIFT",ri[ri.APPEND_EAGERLY=1]="APPEND_EAGERLY",ri[ri.COMMENT=2]="COMMENT",ri))();let Qm=gu;function bD(s){(function qt(s,o){null==s&&tt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Qm=s.toLowerCase().replace(/_/g,"-"))}function wD(s,o,c){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?xw(s,0,c):Zn(c[h])}function kr(s,o,c,d,h){const g=o.insertBeforeIndex;if(Array.isArray(g)){let v=d,D=null;if(3&o.type||(D=v,v=h),null!==v&&0==(2&o.flags))for(let T=1;T<g.length;T++)Cl(s,v,c[g[T]],D,!1)}}function Vp(s,o){if(s.push(o),s.length>1)for(let c=s.length-2;c>=0;c--){const d=s[c];wr(d)||mu(d,o)&&null===zI(d)&&ZI(d,o.index)}}function wr(s){return!(64&s.type)}function mu(s,o){return wr(o)||s.index>o.index}function zI(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function ZI(s,o){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=o:(ep(wD,kr),s.insertBeforeIndex=o)}function Zh(s,o){const c=s.data[o];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function es(s,o,c){const d=fv(s,c,64,null,null);return Vp(o,d),d}function Jm(s,o){const c=o[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function Bp(s){return s>>>17}function Qv(s){return(131070&s)>>>1}let qs=0,Nd=0;function Jv(s,o,c,d){const h=c[11];let v,g=null;for(let D=0;D<o.length;D++){const T=o[D];if("string"==typeof T){const O=o[++D];null===c[O]&&(c[O]=$y(h,T))}else if("number"==typeof T)switch(1&T){case 0:const O=Bp(T);let L,$;if(null===g&&(g=O,v=Em(h,d)),O===g?(L=d,$=v):(L=null,$=Zn(c[O])),null!==$){const Qe=Qv(T);Cl(h,$,c[Qe],L,!1);const _t=Zh(s,Qe);if(null!==_t&&"object"==typeof _t){const Mt=Jm(_t,c);null!==Mt&&Jv(s,_t.create[Mt],c,c[_t.anchorIdx])}}break;case 1:const ve=o[++D],Ie=o[++D];_p(h,ur(T>>>1,c),null,null,ve,Ie,null)}else switch(T){case Ad:const O=o[++D],L=o[++D];null===c[L]&&br(c[L]=_T(h,O),c);break;case Sd:const $=o[++D],ae=o[++D];null===c[ae]&&br(c[ae]=wm(h,$,null),c)}}}function t_(s,o,c,d,h){for(let g=0;g<c.length;g++){const v=c[g],D=c[++g];if(v&h){let T="";for(let O=g+1;O<=g+D;O++){const L=c[O];if("string"==typeof L)T+=L;else if("number"==typeof L)if(L<0)T+=me(o[d-L]);else{const $=L>>>2;switch(3&L){case 1:const ae=c[++O],ve=c[++O],Ie=s.data[$];"string"==typeof Ie?_p(o[11],o[$],null,Ie,ae,T,ve):Qo(s,Ie,o,ae,T,o[11],ve,!1);break;case 0:const Qe=o[$];null!==Qe&&Ew(o[11],Qe,T);break;case 2:YI(s,Zh(s,$),o,T);break;case 3:Xv(s,Zh(s,$),d,o)}}}}else{const T=c[g+1];if(T>0&&3==(3&T)){const L=Zh(s,T>>>2);o[L.currentCaseLViewIndex]<0&&Xv(s,L,d,o)}}g+=D}}function Xv(s,o,c,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let g=qs;h<0&&(h=d[o.currentCaseLViewIndex]=~h,g=-1),t_(s,d,o.update[h],c,g)}}function YI(s,o,c,d){const h=function n_(s,o){let c=s.cases.indexOf(o);if(-1===c)switch(s.type){case 1:{const d=function Tt(s,o){const c=Lp(o)(parseInt(s,10)),d=Tc[c];return void 0!==d?d:"other"}(o,function qI(){return Qm}());c=s.cases.indexOf(d),-1===c&&"other"!==d&&(c=s.cases.indexOf("other"));break}case 0:c=s.cases.indexOf("other")}return-1===c?null:c}(o,d);if(Jm(o,c)!==h&&(e0(s,o,c),c[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=c[o.anchorIdx];v&&Jv(s,o.create[h],c,v)}}function e0(s,o,c){let d=Jm(o,c);if(null!==d){const h=o.remove[d];for(let g=0;g<h.length;g++){const v=h[g];if(v>0){const D=ur(v,c);null!==D&&wT(c[11],D)}else e0(s,Zh(s,~v),c)}}}function t0(){const s=[];let c,d,o=-1;function g(D,T){o=0;const O=Jm(D,T);d=null!==O?D.remove[O]:It}function v(){if(o<d.length){const D=d[o++];return D>0?c[D]:(s.push(o,d),g(c[1].data[~D],c),v())}return 0===s.length?null:(d=s.pop(),o=s.pop(),v())}return function h(D,T){for(c=T;s.length;)s.pop();return g(D.value,T),v}}const Up=/\ufffd(\d+):?\d*\ufffd/gi,jp=/\ufffd(\d+)\ufffd/,TD=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,JI=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,XI=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,r_=/\uE500/g;function r0(s,o,c,d,h,g,v){const D=wd(s,d,1,null);let T=D<<ri.SHIFT,O=xo();o===O&&(O=null),null===O&&(T|=ri.APPEND_EAGERLY),v&&(T|=ri.COMMENT,function gT(s){void 0===jy&&(jy=s())}(t0)),h.push(T,null===g?"":g);const L=fv(s,D,v?32:1,null===g?"":g,null);Vp(c,L);const $=L.index;return mr(L,!1),null!==O&&o!==O&&function DD(s,o){let c=s.insertBeforeIndex;null===c?(ep(wD,kr),c=s.insertBeforeIndex=[null,o]):(function _e(s,o,c){s!=o&&tt(c,s,o,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(o))}(O,$),L}function SD(s,o,c,d,h,g,v){const D=v.match(Up),T=r0(s,o,c,g,d,D?null:v,!1);D&&Md(h,v,T.index,null,0,null)}function Md(s,o,c,d,h,g){const v=s.length,D=v+1;s.push(null,null);const T=v+2,O=o.split(Up);let L=0;for(let $=0;$<O.length;$++){const ae=O[$];if(1&$){const ve=h+parseInt(ae,10);s.push(-1-ve),L|=o_(ve)}else""!==ae&&s.push(ae)}return s.push(c<<2|(d?1:0)),d&&s.push(d,g),s[v]=L,s[D]=s.length-T,L}function o_(s){return 1<<Math.min(s,31)}function a0(s){let o,g,c="",d=0,h=!1;for(;null!==(o=JI.exec(s));)h?o[0]===`\ufffd/*${g}\ufffd`&&(d=o.index,h=!1):(c+=s.substring(d,o.index+o[0].length),g=o[1],h=!0);return c+=s.slice(d),c}function ND(s,o,c,d,h,g){let v=0;const D={type:h.type,currentCaseLViewIndex:wd(s,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function d0(s,o,c){s.push(o_(o.mainBinding),2,-1-o.mainBinding,c<<2|2)})(c,h,g),function Yv(s,o,c){const d=s.data[o];null===d?s.data[o]=c:d.value=c}(s,g,D);const T=h.values;for(let O=0;O<T.length;O++){const L=T[O],$=[];for(let ae=0;ae<L.length;ae++){const ve=L[ae];if("string"!=typeof ve){const Ie=$.push(ve)-1;L[ae]=`\x3c!--\ufffd${Ie}\ufffd--\x3e`}}v=l0(s,D,o,c,d,h.cases[O],L.join(""),$)|v}v&&function h0(s,o,c){s.push(o,1,c<<2|3)}(c,v,g)}function MD(s){const o=[],c=[];let d=1,h=0;const g=a_(s=s.replace(TD,function(v,D,T){return d="select"===T?0:1,h=parseInt(D.slice(1),10),""}));for(let v=0;v<g.length;){let D=g[v++].trim();1===d&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&o.push(D);const T=a_(g[v++]);o.length>c.length&&c.push(T)}return{type:d,mainBinding:h,cases:o,values:c}}function a_(s){if(!s)return[];let o=0;const c=[],d=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(s);){const D=g.index;if("}"==g[0]){if(c.pop(),0==c.length){const T=s.substring(o,D);TD.test(T)?d.push(MD(T)):d.push(T),o=D+1}}else{if(0==c.length){const T=s.substring(o,D);d.push(T),o=D+1}c.push("{")}}const v=s.substring(o);return d.push(v),d}function l0(s,o,c,d,h,g,v,D){const T=[],O=[],L=[];o.cases.push(g),o.create.push(T),o.remove.push(O),o.update.push(L);const ae=bl(Jg()).getInertBodyElement(v),ve=yc(ae)||ae;return ve?c0(s,o,c,d,T,O,L,ve,h,D,0):0}function c0(s,o,c,d,h,g,v,D,T,O,L){let $=0,ae=D.firstChild;for(;ae;){const ve=wd(s,c,1,null);switch(ae.nodeType){case Node.ELEMENT_NODE:const Ie=ae,Qe=Ie.tagName.toLowerCase();if(gc.hasOwnProperty(Qe)){or(h,Sd,Qe,T,ve),s.data[ve]=Qe;const Ue=Ie.attributes;for(let Vt=0;Vt<Ue.length;Vt++){const Cn=Ue.item(Vt),Ln=Cn.name.toLowerCase();Cn.value.match(Up)?nd.hasOwnProperty(Ln)&&Md(v,Cn.value,ve,Cn.name,0,mc[Ln]?wl:null):Pr(h,ve,Cn)}$=c0(s,o,c,d,h,g,v,ae,ve,O,L+1)|$,OD(g,ve,L)}break;case Node.TEXT_NODE:const rt=ae.textContent||"",_t=rt.match(Up);or(h,null,_t?"":rt,T,ve),OD(g,ve,L),_t&&($=Md(v,rt,ve,null,0,null)|$);break;case Node.COMMENT_NODE:const Mt=jp.exec(ae.textContent||"");if(Mt){const Vt=O[parseInt(Mt[1],10)];or(h,Ad,"",T,ve),ND(s,c,d,T,Vt,ve),u0(g,ve,L)}}ae=ae.nextSibling}return $}function OD(s,o,c){0===c&&s.push(o)}function u0(s,o,c){0===c&&(s.push(~o),s.push(o))}function or(s,o,c,d,h){null!==o&&s.push(o),s.push(c,h,function e_(s,o,c){return s|o<<17|c<<1}(0,d,h))}function Pr(s,o,c){s.push(o<<1|1,c.name,c.value)}function kD(s,o,c=-1){const d=Jt(),h=Ve(),g=22+s,v=Sr(d.consts,o),D=xo();d.firstCreatePass&&function ID(s,o,c,d,h,g){const v=xo(),D=[],T=[],O=[[]];h=function AD(s,o){if(function o0(s){return-1===s}(o))return a0(s);{const c=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return a0(s.substring(c,d))}}(h,g);const L=function n0(s){return s.replace(r_," ")}(h).split(XI);for(let $=0;$<L.length;$++){let ae=L[$];if(0==(1&$)){const ve=a_(ae);for(let Ie=0;Ie<ve.length;Ie++){let Qe=ve[Ie];if(0==(1&Ie)){const rt=Qe;""!==rt&&SD(s,v,O[0],D,T,c,rt)}else{const rt=Qe;if("object"!=typeof rt)throw new Error(`Unable to parse ICU expression in "${h}" message.`);ND(s,c,T,o,rt,r0(s,v,O[0],c,D,"",!0).index)}}}else{const ve=47===ae.charCodeAt(0),Qe=(ae.charCodeAt(ve?1:0),22+Number.parseInt(ae.substring(ve?2:1)));if(ve)O.shift(),mr(xo(),!1);else{const rt=es(s,O[0],Qe);O.unshift([]),mr(rt,!0)}}}s.data[d]={create:D,update:T}}(d,null===D?0:D.index,h,g,v,c);const T=d.data[g],L=Aw(d,D===h[6]?null:D,h);(function Wh(s,o,c,d){const h=s[11];for(let g=0;g<o.length;g++){const v=o[g++],D=o[g],T=(v&ri.COMMENT)===ri.COMMENT,O=(v&ri.APPEND_EAGERLY)===ri.APPEND_EAGERLY,L=v>>>ri.SHIFT;let $=s[L];null===$&&($=s[L]=T?h.createComment(D):$y(h,D)),O&&null!==c&&Cl(h,c,$,d,!1)}})(h,T.create,L,D&&8&D.type?h[D.index]:null),ua(!0)}function g0(s,o,c){kD(s,o,c),function l_(){ua(!1)}()}function Kh(s){return function WI(s){s&&(qs|=1<<Math.min(Nd,31)),Nd++}(Qr(Ve(),zr(),s)),Kh}function c_(s){!function KI(s,o,c){if(Nd>0){const d=s.data[c];t_(s,o,Array.isArray(d)?d:d.update,qr()-Nd-1,qs)}qs=0,Nd=0}(Jt(),Ve(),s+22)}function _0(s,o,c,d,h){if(s=X(s),Array.isArray(s))for(let g=0;g<s.length;g++)_0(s[g],o,c,d,h);else{const g=Jt(),v=Ve();let D=Hs(s)?s:X(s.provide),T=Th(s);const O=Bn(),L=1048575&O.providerIndexes,$=O.directiveStart,ae=O.providerIndexes>>20;if(Hs(s)||!s.multi){const ve=new Ps(T,h,wc),Ie=u_(D,o,h?L:L+ae,$);-1===Ie?(Vo(ys(O,v),g,D),Od(g,s,o.length),o.push(D),O.directiveStart++,O.directiveEnd++,h&&(O.providerIndexes+=1048576),c.push(ve),v.push(ve)):(c[Ie]=ve,v[Ie]=ve)}else{const ve=u_(D,o,L+ae,$),Ie=u_(D,o,L,L+ae),Qe=ve>=0&&c[ve],rt=Ie>=0&&c[Ie];if(h&&!rt||!h&&!Qe){Vo(ys(O,v),g,D);const _t=function sS(s,o,c,d,h){const g=new Ps(s,c,wc);return g.multi=[],g.index=o,g.componentProviders=0,y0(g,h,d&&!c),g}(h?d_:FD,c.length,h,d,T);!h&&rt&&(c[Ie].providerFactory=_t),Od(g,s,o.length,0),o.push(D),O.directiveStart++,O.directiveEnd++,h&&(O.providerIndexes+=1048576),c.push(_t),v.push(_t)}else Od(g,s,ve>-1?ve:Ie,y0(c[h?Ie:ve],T,!h&&d));!h&&d&&rt&&c[Ie].componentProviders++}}}function Od(s,o,c,d){const h=Hs(o),g=function zf(s){return!!s.useClass}(o);if(h||g){const T=(g?X(o.useClass):o).prototype.ngOnDestroy;if(T){const O=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const L=O.indexOf(c);-1===L?O.push(c,[d,T]):O[L+1].push(d,T)}else O.push(c,T)}}}function y0(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function u_(s,o,c,d){for(let h=c;h<d;h++)if(o[h]===s)return h;return-1}function FD(s,o,c,d){return v0(this.multi,[])}function d_(s,o,c,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=ao(c,c[1],this.providerFactory.index,d);g=D.slice(0,v),v0(h,g);for(let T=v;T<D.length;T++)g.push(D[T])}else g=[],v0(h,g);return g}function v0(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function xd(s,o=[]){return c=>{c.providersResolver=(d,h)=>function PD(s,o,c){const d=Jt();if(d.firstCreatePass){const h=Ii(s);_0(c,d.data,d.blueprint,h,!0),_0(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Yh{}class LD{}function Rd(s,o){return new Gp(s,o??null)}class Gp extends Yh{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new km(this);const d=Qi(o);this._bootstrapComponents=bc(d.bootstrap),this._r3Injector=qw(o,c,[{provide:Yh,useValue:this},{provide:m,useValue:this.componentFactoryResolver}],Q(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class h_ extends LD{constructor(o){super(),this.moduleType=o}create(o){return new Gp(this.moduleType,o)}}class $p extends Yh{constructor(o,c,d){super(),this.componentFactoryResolver=new km(this),this.instance=null;const h=new Eh([...o,{provide:Yh,useValue:this},{provide:m,useValue:this.componentFactoryResolver}],c||Dh(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function f_(s,o,c=null){return new $p(s,o,c).injector}let Ts=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=yh(0,c.type),h=d.length>0?f_([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Ft({token:s,providedIn:"environment",factory:()=>new s(nn(Ko))}),s})();function b0(s){s.getStandaloneInjector=o=>o.get(Ts).getOrCreateStandaloneInjector(s)}function A0(s,o,c,d){return M0(Ve(),Wn(),s,o,c,d)}function GD(s,o,c,d,h){return function O0(s,o,c,d,h,g,v){const D=o+c;return Ed(s,D,h,g)?po(s,D+2,v?d.call(v,h,g):d(h,g)):Wp(s,D+2)}(Ve(),Wn(),s,o,c,d,h)}function Jh(s,o,c,d,h,g){return function qD(s,o,c,d,h,g,v,D){const T=o+c;return function Tp(s,o,c,d,h){const g=Ed(s,o,c,d);return Qr(s,o+2,h)||g}(s,T,h,g,v)?po(s,T+3,D?d.call(D,h,g,v):d(h,g,v)):Wp(s,T+3)}(Ve(),Wn(),s,o,c,d,h,g)}function Wp(s,o){const c=s[o];return c===Kt?void 0:c}function M0(s,o,c,d,h,g){const v=o+c;return Qr(s,v,h)?po(s,v+1,g?d.call(g,h):d(h)):Wp(s,v+1)}function Kp(s,o){const c=Jt();let d;const h=s+22;c.firstCreatePass?(d=function __(s,o){if(o)for(let c=o.length-1;c>=0;c--){const d=o[c];if(s===d.name)return d}}(o,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const g=d.factory||(d.factory=Gr(d.type)),v=ti(wc);try{const D=J(!1),T=g();return J(D),function Td(s,o,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),o[c]=d}(c,Ve(),h,T),T}finally{ti(v)}}function hi(s,o,c){const d=s+22,h=Ve(),g=ps(h,d);return function Xh(s,o){return s[1].data[o].pure}(h,d)?M0(h,Wn(),o,g.transform,c,g):g.transform(c)}function x0(s){return o=>{setTimeout(s,void 0,o)}}const Ol=class dS extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){let h=o,g=c||(()=>null),v=d;if(o&&"object"==typeof o){const T=o;h=T.next?.bind(T),g=T.error?.bind(T),v=T.complete?.bind(T)}this.__isAsync&&(g=x0(g),h&&(h=x0(h)),v&&(v=x0(v)));const D=super.subscribe({next:h,error:g,complete:v});return o instanceof R.w0&&o.add(D),D}};function hS(){return this._results[Bh()]()}class Fd{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Bh(),d=Fd.prototype;d[c]||(d[c]=hS)}get changes(){return this._changes||(this._changes=new Ol)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const h=mn(o);(this._changesDetected=!function hn(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ea=(()=>{class s{}return s.__NG_ELEMENT_ID__=WD,s})();const zD=ea,ZD=class extends zD{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o,c){const d=this._declarationTContainer.tViews,h=Om(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,c||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),_1(d,h,o),new Na(h)}};function WD(){return Sc(Bn(),Ve())}function Sc(s,o){return 4&s.type?new ZD(o,s,x(s,o)):null}let v_=(()=>{class s{}return s.__NG_ELEMENT_ID__=fS,s})();function fS(){return w_(Bn(),Ve())}const KD=v_,YD=class extends KD{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return x(this._hostTNode,this._hostLView)}get injector(){return new _a(this._hostTNode,this._hostLView)}get parentInjector(){const o=Kc(this._hostTNode,this._hostLView);if(Zc(o)){const c=C(o,this._hostLView),d=ii(o);return new _a(c[1].data[d+8],c)}return new _a(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=R0(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=o.createEmbeddedView(c||{},g);return this.insert(v,h),v}createComponent(o,c,d,h,g){const v=o&&!function Mr(s){return"function"==typeof s}(o);let D;if(v)D=c;else{const $=c||{};D=$.index,d=$.injector,h=$.projectableNodes,g=$.environmentInjector||$.ngModuleRef}const T=v?o:new Ep(Gt(o)),O=d||this.parentInjector;if(!g&&null==T.ngModule){const ae=(v?O:this.parentInjector).get(Ko,null);ae&&(g=ae)}const L=T.create(O,h,void 0,g);return this.insert(L.hostView,D),L}insert(o,c){const d=o._lView,h=d[1];if(function qa(s){return er(s[3])}(d)){const L=this.indexOf(o);if(-1!==L)this.detach(L);else{const $=d[3],ae=new YD($,$[6],$[3]);ae.detach(ae.indexOf(o))}}const g=this._adjustIndex(c),v=this._lContainer;!function yT(s,o,c,d){const h=10+d,g=c.length;d>0&&(c[h-1][4]=o),d<g-10?(o[4]=c[h],lc(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const v=o[17];null!==v&&c!==v&&function vT(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(v,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=64}(h,d,v,g);const D=Rw(g,v),T=d[11],O=Em(T,v[7]);return null!==O&&function Cw(s,o,c,d,h,g){d[0]=h,d[6]=o,ud(s,d,c,1,h,g)}(h,v[6],T,d,O,D),o.attachToViewContainerRef(),lc(b_(v),g,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=R0(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=zy(this._lContainer,c);d&&(bi(b_(this._lContainer),c),Jf(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=zy(this._lContainer,c);return d&&null!=bi(b_(this._lContainer),c)?new Na(d):null}_adjustIndex(o,c=0){return o??this.length+c}};function R0(s){return s[8]}function b_(s){return s[8]||(s[8]=[])}function w_(s,o){let c;const d=o[s.index];if(er(d))c=d;else{let h;if(8&s.type)h=Zn(d);else{const g=o[11];h=g.createComment("");const v=Hi(s,o);Cl(g,Em(g,v),h,function Ow(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=c=uu(d,o,h,s),Ec(o,c)}return new YD(c,s,o)}class Jp{constructor(o){this.queryList=o,this.matches=null}clone(){return new Jp(this.queryList)}setDirty(){this.queryList.setDirty()}}class P0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new P0(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==U0(o,c).matches&&this.queries[c].setDirty()}}class JD{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class F0{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new F0(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ef{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new ef(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,c,Xp(c,g)),this.matchTNodeWithReadOption(o,c,cl(c,o,g,!1,!1))}else d===ea?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,cl(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===V||h===v_||h===ea&&4&c.type)this.addMatch(c.index,-2);else{const g=cl(c,o,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function Xp(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function L0(s,o,c,d){return-1===c?function D_(s,o){return 11&s.type?x(s,o):4&s.type?Sc(s,o):null}(o,s):-2===c?function XD(s,o,c){return c===V?x(o,s):c===ea?Sc(o,s):c===v_?w_(o,s):void 0}(s,o,d):ao(s,s[1],c,o)}function tf(s,o,c,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,v=c.matches,D=[];for(let T=0;T<v.length;T+=2){const O=v[T];D.push(O<0?null:L0(o,g[O],v[T+1],c.metadata.read))}h.matches=D}return h.matches}function Ld(s,o,c,d){const h=s.queries.getByIndex(c),g=h.matches;if(null!==g){const v=tf(s,o,h,c);for(let D=0;D<g.length;D+=2){const T=g[D];if(T>0)d.push(v[D/2]);else{const O=g[D+1],L=o[-T];for(let $=10;$<L.length;$++){const ae=L[$];ae[17]===ae[3]&&Ld(ae[1],ae,O,d)}if(null!==L[9]){const $=L[9];for(let ae=0;ae<$.length;ae++){const ve=$[ae];Ld(ve[1],ve,O,d)}}}}}return d}function eE(s){const o=Ve(),c=Jt(),d=Yl();ha(d+1);const h=U0(c,d);if(s.dirty&&function $a(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Ld(c,o,d,[]):tf(c,o,h,d);s.reset(g,de),s.notifyOnChanges()}return!0}return!1}function qi(s,o,c){const d=Jt();d.firstCreatePass&&(B0(d,new JD(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),nE(d,Ve(),o)}function V0(s,o,c,d){const h=Jt();if(h.firstCreatePass){const g=Bn();B0(h,new JD(o,c,d),g.index),function iE(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}nE(h,Ve(),c)}function tE(){return function gS(s,o){return s[19].queries[o].queryList}(Ve(),Yl())}function nE(s,o,c){const d=new Fd(4==(4&c));_v(s,o,d,d.destroy),null===o[19]&&(o[19]=new P0),o[19].queries.push(new Jp(d))}function B0(s,o,c){null===s.queries&&(s.queries=new F0),s.queries.track(new ef(o,c))}function U0(s,o){return s.queries.getByIndex(o)}function eg(s,o){return Sc(s,o)}function A_(...s){}const bE=new Fn("Application Initializer");let N_=(()=>{class s{constructor(c){this.appInits=c,this.resolve=A_,this.reject=A_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Iv(g))c.push(g);else if(K1(g)){const v=new Promise((D,T)=>{g.subscribe({complete:D,error:T})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(nn(bE,8))},s.\u0275prov=Ft({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const z0=new Fn("AppId",{providedIn:"root",factory:function wE(){return`${Z0()}${Z0()}${Z0()}`}});function Z0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const W0=new Fn("Platform Initializer"),Wt=new Fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jd=new Fn("appBootstrapListener"),fi=new Fn("AnimationModuleType");let Lt=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ft({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const un=new Fn("LocaleId",{providedIn:"root",factory:()=>S(un,lt.Optional|lt.SkipSelf)||function og(){return typeof $localize<"u"&&$localize.locale||gu}()}),CS=new Fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Y0{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let Hd=(()=>{class s{compileModuleSync(c){return new h_(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=bc(Qi(c).declarations).reduce((v,D)=>{const T=Gt(D);return T&&v.push(new Ep(T)),v},[]);return new Y0(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ft({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const X0=(()=>Promise.resolve(0))();function M_(s){typeof Zone>"u"?X0.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class hr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ol(!1),this.onMicrotaskEmpty=new Ol(!1),this.onStable=new Ol(!1),this.onError=new Ol(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function DE(){let s=vn.requestAnimationFrame,o=vn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Oa(s){const o=()=>{!function O_(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(vn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,tb(s),s.isCheckStableRunning=!0,Ce(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),tb(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,g,v,D)=>{try{return af(s),c.invokeTask(h,g,v,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Nc(s)}},onInvoke:(c,d,h,g,v,D,T)=>{try{return af(s),c.invoke(h,g,v,D,T)}finally{s.shouldCoalesceRunChangeDetection&&o(),Nc(s)}},onHasTask:(c,d,h,g)=>{c.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,tb(s),Ce(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,h,g)=>(c.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hr.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(hr.isInAngularZone())throw new be(909,!1)}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,eb,A_,A_);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const eb={};function Ce(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function tb(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function af(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Nc(s){s._nesting--,Ce(s)}class AS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ol,this.onMicrotaskEmpty=new Ol,this.onStable=new Ol,this.onError=new Ol}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,h){return o.apply(c,d)}}const bu=new Fn(""),nb=new Fn("");let ns,ib=(()=>{class s{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ns||(function NS(s){ns=s}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hr.assertNotInAngularZone(),M_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())M_(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(nn(hr),nn(EE),nn(nb))},s.\u0275prov=Ft({token:s,factory:s.\u0275fac}),s})(),EE=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return ns?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ft({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Mc=null;const wu=new Fn("AllowMultipleToken"),x_=new Fn("PlatformDestroyListeners");class CE{constructor(o,c){this.name=o,this.token=c}}function IE(s,o,c=[]){const d=`Platform: ${o}`,h=new Fn(d);return(g=[])=>{let v=ag();if(!v||v.injector.get(wu,!1)){const D=[...c,...g,{provide:h,useValue:!0}];s?s(D):function lf(s){if(Mc&&!Mc.get(wu,!1))throw new be(400,!1);Mc=s;const o=s.get(rb);(function TE(s){const o=s.get(W0,null);o&&o.forEach(c=>c())})(s)}(function Ai(s=[],o){return hd.create({name:o,providers:[{provide:bh,useValue:"platform"},{provide:x_,useValue:new Set([()=>Mc=null])},...s]})}(D,d))}return function Du(s){const o=ag();if(!o)throw new be(401,!1);return o}()}}function ag(){return Mc?.get(rb)??null}let rb=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function SE(s,o){let c;return c="noop"===s?new AS:("zone.js"===s?void 0:s)||new hr(o),c}(d?.ngZone,function uf(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:hr,useValue:h}];return h.run(()=>{const v=hd.create({providers:g,parent:this.injector,name:c.moduleType.name}),D=c.create(v),T=D.injector.get(Kf,null);if(!T)throw new be(402,!1);return h.runOutsideAngular(()=>{const O=h.onError.subscribe({next:L=>{T.handleError(L)}});D.onDestroy(()=>{lg(this._modules,D),O.unsubscribe()})}),function Oc(s,o,c){try{const d=c();return Iv(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(T,h,()=>{const O=D.injector.get(N_);return O.runInitializers(),O.donePromise.then(()=>(bD(D.injector.get(un,gu)||gu),this._moduleDoBootstrap(D),D))})})}bootstrapModule(c,d=[]){const h=df({},d);return function R_(s,o,c){const d=new h_(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(Eu);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new be(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(x_,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(nn(hd))},s.\u0275prov=Ft({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function df(s,o){return Array.isArray(o)?o.reduce(df,s):{...s,...o}}let Eu=(()=>{class s{constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new N.y(D=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{hr.assertNotInAngularZone(),M_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{hr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{T.unsubscribe(),O.unsubscribe()}});this.isStable=(0,B.T)(g,v.pipe((0,j.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof Wf;if(!this._injector.get(N_).done)throw!h&&Ur(c),new be(405,false);let v;v=h?c:this._injector.get(m).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const D=function jn(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Yh),O=v.create(hd.NULL,[],d||v.selector,D),L=O.location.nativeElement,$=O.injector.get(bu,null);return $?.registerApplication(L),O.onDestroy(()=>{this.detachView(O.hostView),lg(this.components,O),$?.unregisterApplication(L)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;lg(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(jd,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>lg(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new be(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(nn(hr),nn(Ko),nn(Kf))},s.\u0275prov=Ft({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function lg(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let Cu=!0,xa=!1;function cg(){return xa=!0,Cu}function Tu(){if(xa)throw new Error("Cannot enable prod mode after platform setup.");Cu=!1}let Gd=(()=>{class s{}return s.__NG_ELEMENT_ID__=sb,s})();function sb(s){return function dg(s,o,c){if(To(s)&&!c){const d=on(s.index,o);return new Na(d,d)}return 47&s.type?new Na(o[16],o):null}(Bn(),Ve(),16==(16&s))}class ME{constructor(){}supports(o){return du(o)}create(o){return new VS(o)}}const LS=(s,o)=>o;class VS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||LS}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,h=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<RE(d,h,g)?c:d,D=RE(v,h,g),T=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{g||(g=[]);const O=D-h,L=T-h;if(O!=L){for(let ae=0;ae<O;ae++){const ve=ae<g.length?g[ae]:g[ae]=0,Ie=ve+ae;L<=Ie&&Ie<O&&(g[ae]=ve+1)}g[v.previousIndex]=L-O}}D!==T&&o(v,D,T)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!du(o))throw new be(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)g=o[D],v=this._trackByFn(D,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,D)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,D),d=!0),c=c._next}else h=0,function iO(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Bh()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,D=>{v=this._trackByFn(h,D),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,D,v,h)),Object.is(c.item,D)||this._addIdentityChange(c,D)):(c=this._mismatch(c,D,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,g,h)):o=this._addAfter(new OE(c,d),g,h),o}_verifyReinsertion(o,c,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new xE),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class OE{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class xE{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new BS,this.map.set(c,d)),d.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RE(s,o,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+o+h}class kE{constructor(){}supports(o){return o instanceof Map||G1(o)}create(){return new Su}}class Su{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||G1(o)))throw new be(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new hf(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class hf{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function PE(){return new B_([new ME])}let B_=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||PE()),deps:[[s,new Ot,new We]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new be(901,!1)}}return s.\u0275prov=Ft({token:s,providedIn:"root",factory:PE}),s})();function xl(){return new U_([new kE])}let U_=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||xl()),deps:[[s,new Ot,new We]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new be(901,!1)}}return s.\u0275prov=Ft({token:s,providedIn:"root",factory:xl}),s})();const ub=IE(null,"core",[]);let pf=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(nn(Eu))},s.\u0275mod=vt({type:s}),s.\u0275inj=jt({}),s})();function Zs(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function HE(s,o){const c=Gt(s),d=o.elementInjector||Dh();return new Ep(c).create(d,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(qe,H,k)=>{"use strict";k.d(H,{Z:()=>be});var l=k(2090),R=k(4859),N=k(9681),B=k(1877);class j{constructor(me,pe){this._delegate=me,this.firebase=pe,(0,N._addComponent)(me,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(me,pe=N._DEFAULT_ENTRY_NAME){var Ae;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(me);return!Be.isInitialized()&&"EXPLICIT"===(null===(Ae=Be.getComponent())||void 0===Ae?void 0:Ae.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:pe})}_removeServiceInstance(me,pe=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(pe)}_addComponent(me){(0,N._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,N._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function le(){const Ze=function Q(Ze){const me={},pe={__esModule:!0,initializeApp:function ke(Me,G={}){const _e=N.initializeApp(Me,G);if((0,l.r3)(me,_e.name))return me[_e.name];const ee=new Ze(_e,pe);return me[_e.name]=ee,ee},app:Be,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function ye(Me){const G=Me.name,_e=G.replace("-compat","");if(N._registerComponent(Me)&&"PUBLIC"===Me.type){const ee=(ie=Be())=>{if("function"!=typeof ie[_e])throw Z.create("invalid-app-argument",{appName:G});return ie[_e]()};void 0!==Me.serviceProps&&(0,l.ZB)(ee,Me.serviceProps),pe[_e]=ee,Ze.prototype[_e]=function(...ie){return this._getService.bind(this,G).apply(this,Me.multipleInstances?ie:[])}}return"PUBLIC"===Me.type?pe[_e]:null},removeApp:function Ae(Me){delete me[Me]},useAsService:function Re(Me,G){return"serverAuth"===G?null:G},modularAPIs:N}};function Be(Me){if(!(0,l.r3)(me,Me=Me||N._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:Me});return me[Me]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function Se(){return Object.keys(me).map(Me=>me[Me])}}),Be.App=Ze,pe}(j);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function me(pe){(0,l.ZB)(Ze,pe)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ze}(),Y=new B.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=W;!function Ee(Ze){(0,N.registerVersion)("@firebase/app-compat","0.1.34",Ze)}()},9681:(qe,H,k)=>{"use strict";k.r(H),k.d(H,{FirebaseError:()=>B.ZR,SDK_VERSION:()=>Di,_DEFAULT_ENTRY_NAME:()=>qt,_addComponent:()=>zt,_addOrOverwriteComponent:()=>Ft,_apps:()=>tn,_clearComponents:()=>wi,_components:()=>xn,_getProvider:()=>jt,_registerComponent:()=>En,_removeServiceInstance:()=>St,deleteApp:()=>$n,getApp:()=>pi,getApps:()=>yn,initializeApp:()=>Ei,onLog:()=>qn,registerVersion:()=>Mi,setLogLevel:()=>ti});var l=k(5861),R=k(4859),N=k(1877),B=k(2090),j=k(8766);class q{constructor(se){this.container=se}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function Z(te){return"VERSION"===te.getComponent()?.type}(oe)){const Le=oe.getImmediate();return`${Le.library}/${Le.version}`}return null}).filter(oe=>oe).join(" ")}}const Q="@firebase/app",W=new N.Yd("@firebase/app"),qt="[DEFAULT]",tt={[Q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tn=new Map,xn=new Map;function zt(te,se){try{te.container.addComponent(se)}catch(oe){W.debug(`Component ${se.name} failed to register with FirebaseApp ${te.name}`,oe)}}function Ft(te,se){te.container.addOrOverwriteComponent(se)}function En(te){const se=te.name;if(xn.has(se))return W.debug(`There were multiple attempts to register component ${se}.`),!1;xn.set(se,te);for(const oe of tn.values())zt(oe,te);return!0}function jt(te,se){const oe=te.container.getProvider("heartbeat").getImmediate({optional:!0});return oe&&oe.triggerHeartbeat(),te.container.getProvider(se)}function St(te,se,oe=qt){jt(te,se).clearInstance(oe)}function wi(){xn.clear()}const ei=new B.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xt{constructor(se,oe,Le){this._isDeleted=!1,this._options=Object.assign({},se),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=Le,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(se){this.checkDestroyed(),this._automaticDataCollectionEnabled=se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(se){this._isDeleted=se}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}const Di="9.10.0";function Ei(te,se={}){"object"!=typeof se&&(se={name:se});const oe=Object.assign({name:qt,automaticDataCollectionEnabled:!1},se),Le=oe.name;if("string"!=typeof Le||!Le)throw ei.create("bad-app-name",{appName:String(Le)});const et=tn.get(Le);if(et){if((0,B.vZ)(te,et.options)&&(0,B.vZ)(oe,et.config))return et;throw ei.create("duplicate-app",{appName:Le})}const vt=new R.H0(Le);for(const ln of xn.values())vt.addComponent(ln);const Tn=new xt(te,oe,vt);return tn.set(Le,Tn),Tn}function pi(te=qt){const se=tn.get(te);if(!se)throw ei.create("no-app",{appName:te});return se}function yn(){return Array.from(tn.values())}function $n(te){return lt.apply(this,arguments)}function lt(){return(lt=(0,l.Z)(function*(te){const se=te.name;tn.has(se)&&(tn.delete(se),yield Promise.all(te.container.getProviders().map(oe=>oe.delete())),te.isDeleted=!0)})).apply(this,arguments)}function Mi(te,se,oe){var Le;let et=null!==(Le=tt[te])&&void 0!==Le?Le:te;oe&&(et+=`-${oe}`);const vt=et.match(/\s|\//),Tn=se.match(/\s|\//);if(vt||Tn){const ln=[`Unable to register library "${et}" with version "${se}":`];return vt&&ln.push(`library name "${et}" contains illegal characters (whitespace or "/")`),vt&&Tn&&ln.push("and"),Tn&&ln.push(`version name "${se}" contains illegal characters (whitespace or "/")`),void W.warn(ln.join(" "))}En(new R.wA(`${et}-version`,()=>({library:et,version:se}),"VERSION"))}function qn(te,se){if(null!==te&&"function"!=typeof te)throw ei.create("invalid-log-argument");(0,N.Am)(te,se)}function ti(te){(0,N.Ub)(te)}const Vn="firebase-heartbeat-store";let gi=null;function An(){return gi||(gi=(0,j.X3)("firebase-heartbeat-database",1,{upgrade:(te,se)=>{0===se&&te.createObjectStore(Vn)}}).catch(te=>{throw ei.create("idb-open",{originalErrorMessage:te.message})})),gi}function bt(){return(bt=(0,l.Z)(function*(te){var se;try{return(yield An()).transaction(Vn).objectStore(Vn).get(Ci(te))}catch(oe){if(oe instanceof B.ZR)W.warn(oe.message);else{const Le=ei.create("idb-get",{originalErrorMessage:null===(se=oe)||void 0===se?void 0:se.message});W.warn(Le.message)}}})).apply(this,arguments)}function vn(te,se){return mi.apply(this,arguments)}function mi(){return(mi=(0,l.Z)(function*(te,se){var oe;try{const et=(yield An()).transaction(Vn,"readwrite");return yield et.objectStore(Vn).put(se,Ci(te)),et.done}catch(Le){if(Le instanceof B.ZR)W.warn(Le.message);else{const et=ei.create("idb-set",{originalErrorMessage:null===(oe=Le)||void 0===oe?void 0:oe.message});W.warn(et.message)}}})).apply(this,arguments)}function Ci(te){return`${te.name}!${te.options.appId}`}class ls{constructor(se){this.container=se,this._heartbeatsCache=null;const oe=this.container.getProvider("app").getImmediate();this._storage=new cn(oe),this._heartbeatsCachePromise=this._storage.read().then(Le=>(this._heartbeatsCache=Le,Le))}triggerHeartbeat(){var se=this;return(0,l.Z)(function*(){const Le=se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),et=dn();if(null===se._heartbeatsCache&&(se._heartbeatsCache=yield se._heartbeatsCachePromise),se._heartbeatsCache.lastSentHeartbeatDate!==et&&!se._heartbeatsCache.heartbeats.some(vt=>vt.date===et))return se._heartbeatsCache.heartbeats.push({date:et,agent:Le}),se._heartbeatsCache.heartbeats=se._heartbeatsCache.heartbeats.filter(vt=>{const Tn=new Date(vt.date).valueOf();return Date.now()-Tn<=2592e6}),se._storage.overwrite(se._heartbeatsCache)})()}getHeartbeatsHeader(){var se=this;return(0,l.Z)(function*(){if(null===se._heartbeatsCache&&(yield se._heartbeatsCachePromise),null===se._heartbeatsCache||0===se._heartbeatsCache.heartbeats.length)return"";const oe=dn(),{heartbeatsToSend:Le,unsentEntries:et}=function Tr(te,se=1024){const oe=[];let Le=te.slice();for(const et of te){const vt=oe.find(Tn=>Tn.agent===et.agent);if(vt){if(vt.dates.push(et.date),ce(oe)>se){vt.dates.pop();break}}else if(oe.push({agent:et.agent,dates:[et.date]}),ce(oe)>se){oe.pop();break}Le=Le.slice(1)}return{heartbeatsToSend:oe,unsentEntries:Le}}(se._heartbeatsCache.heartbeats),vt=(0,B.L)(JSON.stringify({version:2,heartbeats:Le}));return se._heartbeatsCache.lastSentHeartbeatDate=oe,et.length>0?(se._heartbeatsCache.heartbeats=et,yield se._storage.overwrite(se._heartbeatsCache)):(se._heartbeatsCache.heartbeats=[],se._storage.overwrite(se._heartbeatsCache)),vt})()}}function dn(){return(new Date).toISOString().substring(0,10)}class cn{constructor(se){this.app=se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,B.hl)()&&(0,B.eu)().then(()=>!0).catch(()=>!1)})()}read(){var se=this;return(0,l.Z)(function*(){return(yield se._canUseIndexedDBPromise)&&(yield function Je(te){return bt.apply(this,arguments)}(se.app))||{heartbeats:[]}})()}overwrite(se){var oe=this;return(0,l.Z)(function*(){var Le;if(yield oe._canUseIndexedDBPromise){const vt=yield oe.read();return vn(oe.app,{lastSentHeartbeatDate:null!==(Le=se.lastSentHeartbeatDate)&&void 0!==Le?Le:vt.lastSentHeartbeatDate,heartbeats:se.heartbeats})}})()}add(se){var oe=this;return(0,l.Z)(function*(){var Le;if(yield oe._canUseIndexedDBPromise){const vt=yield oe.read();return vn(oe.app,{lastSentHeartbeatDate:null!==(Le=se.lastSentHeartbeatDate)&&void 0!==Le?Le:vt.lastSentHeartbeatDate,heartbeats:[...vt.heartbeats,...se.heartbeats]})}})()}}function ce(te){return(0,B.L)(JSON.stringify({version:2,heartbeats:te})).length}!function re(te){En(new R.wA("platform-logger",se=>new q(se),"PRIVATE")),En(new R.wA("heartbeat",se=>new ls(se),"PRIVATE")),Mi(Q,"0.7.33",te),Mi(Q,"0.7.33","esm2017"),Mi("fire-js","")}("")},4859:(qe,H,k)=>{"use strict";k.d(H,{H0:()=>Q,wA:()=>N});var l=k(5861),R=k(2090);class N{constructor(W,Y,X){this.name=W,this.instanceFactory=Y,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const B="[DEFAULT]";class j{constructor(W,Y){this.name=W,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const Y=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(Y)){const X=new R.BH;if(this.instancesDeferred.set(Y,X),this.isInitialized(Y)||this.shouldAutoInitialize())try{const Te=this.getOrInitializeService({instanceIdentifier:Y});Te&&X.resolve(Te)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(W){var Y;const X=this.normalizeInstanceIdentifier(W?.identifier),Te=null!==(Y=W?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Te)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Ee){if(Te)return null;throw Ee}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function Z(le){return"EAGER"===le.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:B})}catch{}for(const[Y,X]of this.instancesDeferred.entries()){const Te=this.normalizeInstanceIdentifier(Y);try{const Ee=this.getOrInitializeService({instanceIdentifier:Te});X.resolve(Ee)}catch{}}}}clearInstance(W=B){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,l.Z)(function*(){const Y=Array.from(W.instances.values());yield Promise.all([...Y.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...Y.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=B){return this.instances.has(W)}getOptions(W=B){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:Y={}}=W,X=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Te=this.getOrInitializeService({instanceIdentifier:X,options:Y});for(const[Ee,be]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Ee)&&be.resolve(Te);return Te}onInit(W,Y){var X;const Te=this.normalizeInstanceIdentifier(Y),Ee=null!==(X=this.onInitCallbacks.get(Te))&&void 0!==X?X:new Set;Ee.add(W),this.onInitCallbacks.set(Te,Ee);const be=this.instances.get(Te);return be&&W(be,Te),()=>{Ee.delete(W)}}invokeOnInitCallbacks(W,Y){const X=this.onInitCallbacks.get(Y);if(X)for(const Te of X)try{Te(W,Y)}catch{}}getOrInitializeService({instanceIdentifier:W,options:Y={}}){let X=this.instances.get(W);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(le=W,le===B?void 0:le),options:Y}),this.instances.set(W,X),this.instancesOptions.set(W,Y),this.invokeOnInitCallbacks(X,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,X)}catch{}var le;return X||null}normalizeInstanceIdentifier(W=B){return this.component?this.component.multipleInstances?W:B:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const Y=this.getProvider(W.name);if(Y.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);Y.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const Y=new j(W,this);return this.providers.set(W,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(qe,H,k)=>{"use strict";k.d(H,{Am:()=>le,Ub:()=>Q,Yd:()=>Z,in:()=>R});const l=[];var R=(()=>{return(W=R||(R={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",R;var W})();const N={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},B=R.INFO,j={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},q=(W,Y,...X)=>{if(Y<W.logLevel)return;const Te=(new Date).toISOString(),Ee=j[Y];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Ee](`[${Te}]  ${W.name}:`,...X)};class Z{constructor(Y){this.name=Y,this._logLevel=B,this._logHandler=q,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in R))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?N[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...Y),this._logHandler(this,R.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...Y),this._logHandler(this,R.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,R.INFO,...Y),this._logHandler(this,R.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,R.WARN,...Y),this._logHandler(this,R.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...Y),this._logHandler(this,R.ERROR,...Y)}}function Q(W){l.forEach(Y=>{Y.setLogLevel(W)})}function le(W,Y){for(const X of l){let Te=null;Y&&Y.level&&(Te=N[Y.level]),X.userLogHandler=null===W?null:(Ee,be,...Ze)=>{const me=Ze.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");be>=(Te??Ee.logLevel)&&W({level:R[be].toLowerCase(),message:me,args:Ze,type:Ee.name})}}}},8766:(qe,H,k)=>{"use strict";k.d(H,{Lj:()=>ke,X3:()=>Be});var l=k(5861);let N,B;const Z=new WeakMap,Q=new WeakMap,le=new WeakMap,W=new WeakMap,Y=new WeakMap;let Ee={get(G,_e,ee){if(G instanceof IDBTransaction){if("done"===_e)return Q.get(G);if("objectStoreNames"===_e)return G.objectStoreNames||le.get(G);if("store"===_e)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return pe(G[_e])},set:(G,_e,ee)=>(G[_e]=ee,!0),has:(G,_e)=>G instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in G};function me(G){return"function"==typeof G?function Ze(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function q(){return B||(B=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(..._e){return G.apply(Ae(this),_e),pe(Z.get(this))}:function(..._e){return pe(G.apply(Ae(this),_e))}:function(_e,...ee){const ie=G.call(Ae(this),_e,...ee);return le.set(ie,_e.sort?_e.sort():[_e]),pe(ie)}}(G):(G instanceof IDBTransaction&&function Te(G){if(Q.has(G))return;const _e=new Promise((ee,ie)=>{const fe=()=>{G.removeEventListener("complete",ue),G.removeEventListener("error",Ge),G.removeEventListener("abort",Ge)},ue=()=>{ee(),fe()},Ge=()=>{ie(G.error||new DOMException("AbortError","AbortError")),fe()};G.addEventListener("complete",ue),G.addEventListener("error",Ge),G.addEventListener("abort",Ge)});Q.set(G,_e)}(G),((G,_e)=>_e.some(ee=>G instanceof ee))(G,function j(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,Ee):G)}function pe(G){if(G instanceof IDBRequest)return function X(G){const _e=new Promise((ee,ie)=>{const fe=()=>{G.removeEventListener("success",ue),G.removeEventListener("error",Ge)},ue=()=>{ee(pe(G.result)),fe()},Ge=()=>{ie(G.error),fe()};G.addEventListener("success",ue),G.addEventListener("error",Ge)});return _e.then(ee=>{ee instanceof IDBCursor&&Z.set(ee,G)}).catch(()=>{}),Y.set(_e,G),_e}(G);if(W.has(G))return W.get(G);const _e=me(G);return _e!==G&&(W.set(G,_e),Y.set(_e,G)),_e}const Ae=G=>Y.get(G);function Be(G,_e,{blocked:ee,upgrade:ie,blocking:fe,terminated:ue}={}){const Ge=indexedDB.open(G,_e),He=pe(Ge);return ie&&Ge.addEventListener("upgradeneeded",yt=>{ie(pe(Ge.result),yt.oldVersion,yt.newVersion,pe(Ge.transaction))}),ee&&Ge.addEventListener("blocked",()=>ee()),He.then(yt=>{ue&&yt.addEventListener("close",()=>ue()),fe&&yt.addEventListener("versionchange",()=>fe())}).catch(()=>{}),He}function ke(G,{blocked:_e}={}){const ee=indexedDB.deleteDatabase(G);return _e&&ee.addEventListener("blocked",()=>_e()),pe(ee).then(()=>{})}const Se=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],Re=new Map;function Me(G,_e){if(!(G instanceof IDBDatabase)||_e in G||"string"!=typeof _e)return;if(Re.get(_e))return Re.get(_e);const ee=_e.replace(/FromIndex$/,""),ie=_e!==ee,fe=ye.includes(ee);if(!(ee in(ie?IDBIndex:IDBObjectStore).prototype)||!fe&&!Se.includes(ee))return;const ue=function(){var Ge=(0,l.Z)(function*(He,...yt){const en=this.transaction(He,fe?"readwrite":"readonly");let qt=en.store;return ie&&(qt=qt.index(yt.shift())),(yield Promise.all([qt[ee](...yt),fe&&en.done]))[0]});return function(yt){return Ge.apply(this,arguments)}}();return Re.set(_e,ue),ue}!function be(G){Ee=G(Ee)}(G=>({...G,get:(_e,ee,ie)=>Me(_e,ee)||G.get(_e,ee,ie),has:(_e,ee)=>!!Me(_e,ee)||G.has(_e,ee)}))},5861:(qe,H,k)=>{"use strict";function l(N,B,j,q,Z,Q,le){try{var W=N[Q](le),Y=W.value}catch(X){return void j(X)}W.done?B(Y):Promise.resolve(Y).then(q,Z)}function R(N){return function(){var B=this,j=arguments;return new Promise(function(q,Z){var Q=N.apply(B,j);function le(Y){l(Q,q,Z,le,W,"next",Y)}function W(Y){l(Q,q,Z,le,W,"throw",Y)}le(void 0)})}}k.d(H,{Z:()=>R})}},qe=>{qe(qe.s=864)}]);